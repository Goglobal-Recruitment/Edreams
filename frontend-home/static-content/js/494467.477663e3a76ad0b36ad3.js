(self.webpackChunkOneFront_HomePage=self.webpackChunkOneFront_HomePage||[]).push([[494467],{831730:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PopularHotelsDestinationsDesktop=void 0;var s=i(r(878969)),l=r(365683),c=r(975725),d=r(877754),u=r(459376),f=r(726525);(t.PopularHotelsDestinationsDesktop=(0,f.withTrackComponentDisplayed)((e=>{let{show:t,onClickItem:r}=e;const{t:n}=(0,l.useTranslation)(),o=n("home.hsaSearch.popularDestinationsValue",{returnObjects:!0}),i=(o.startsWith("[")?JSON.parse(o.replace(/\n/g,"").replace(/'/g,'"')):[]).map((e=>a(a({},e),{},{geoNodeId:null,geoNodeIdSupplier:d.LocationHotelsSuppliers.HSA,countryCode:""})));return t&&0!==i.length?s.default.createElement(s.default.Fragment,null,s.default.createElement(u.Div,{className:"odf-strong odf-space-inner-top-m odf-space-inner-bottom-m odf-space-inner-right-l odf-space-inner-left-xl",whiteSpace:"normal"},n("home.hsaSearch.popularDestinations")),i.map(((e,t)=>s.default.createElement(c.PopularHotelsDestinationsItem,{key:e.id,index:t,item:e,onClickItem:r})))):s.default.createElement(s.default.Fragment,null)}),"hotel-standalone-search-popular-destination")).defaultProps={show:!0}},975725:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PopularHotelsDestinationsItem=void 0;var a=n(r(878969)),o=r(657325),i=(r(877754),r(847876)),s=r(726525);t.PopularHotelsDestinationsItem=(0,o.withPageContext)((e=>{let{index:t,item:r,onClickItem:n,trackEvent:l}=e;const c=(0,s.withClickTrack)((e=>{let{onClick:t}=e;return a.default.createElement(i.DropdownItem,{onClick:t,iconClass:"odf-icon-location",isFixedWidth:!1,isShowIcon:!0},a.default.createElement("div",{className:"odf-row"},a.default.createElement("div",{className:"odf-text-ellipsis"},r.name)),(()=>{let e="";return r.region&&r.country?e=" ".concat(r.region,", ").concat(r.country):r.region&&!r.country?e="".concat(r.region):!r.region&&r.country&&(e="".concat(r.country)),a.default.createElement("div",{className:"odf-dropdown-extra"},e)})())}));return a.default.createElement(c,{onClick:()=>{const e=o.TrackingUtils.LABEL.hotelPopularDestinationLabel(t+1);l({action:o.TrackingUtils.ACTION.HOTELS,label:e}),n(r)},"html-event-id":s.HSA_SEARCH_FORM_POPULAR_DESTINATION_CLICK})}))},954905:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PopularHotelsDestinationsSourceDesktop=function(){return{render:function(){let{onClickItem:e,displayedWord:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=!i.LocationUtils.isKeywordLongEnoughAccordingWithLanguage(t,i.Config.get("autocompleteOptions"),s.EntryPoint.HOTELS);return a.default.createElement(o.PopularHotelsDestinationsDesktop,{key:"top-destinations",onClickItem:e,show:r})}}};var a=n(r(878969)),o=r(831730),i=r(657325),s=r(877754)},256261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchItemDesktop=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),a=r(243430),o=r(657325),i=r(654995),s=r(224055),l=r(847876);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}class d extends n.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{value:e,onClickItem:t}=this.props;this.trackClickEvent(),t(e)},this.parseSegmentDate=e=>{const t=o.DateUtils.Format.UTC;return o.DateUtils.toString(e.date,t)},this.trackClickEvent=()=>{const{index:e,trackingId:t}=this.props,r="search_recent_".concat(e+1),n=(0,a.isEmpty)(t)?"":"_".concat(t);o.TrackingUtils.trackEvent("recent_search".concat(n),r,"home")}}getRenderedElements(e){let[t,r,a]=e;return n.default.createElement("span",{className:"odf-display-inline-flex"},n.default.createElement("span",{className:"odf-space-outer-right-xs"},t),n.default.createElement("span",{className:"odf-space-outer-right-xs"},r),n.default.createElement("span",null,a))}getCitiesToRender(){const{segments:e,tripType:t}=this.props.value,r=t===s.TripType.MULTIPLE?e.length:1;return[].concat(...e.slice(0,r).map((e=>[e.origin,e.destination]))).map((e=>e.city)).reduce(((e,t)=>this.getRenderedElements([e," - ",t])))}getDatesToRender(){const{segments:e}=this.props.value;return e.filter((e=>e.date)).map(this.parseSegmentDate).reduce(((e,t)=>this.getRenderedElements([e," - ",t])))}render(){const{value:e}=this.props,{adults:t,kids:r,infants:a}=e.pax;return n.default.createElement(l.DropdownItem,{onClick:this.onClick},this.getCitiesToRender(),n.default.createElement("div",{className:"odf-dropdown-extra"},this.getDatesToRender()," · ",n.default.createElement("span",{className:"odf-display-inline-flex"},n.default.createElement("span",null,n.default.createElement(i.CMS,{id:"paxSelector.adult.text",values:{count:t}})),r>0&&n.default.createElement("span",null,", ",n.default.createElement(i.CMS,{id:"paxSelector.child.text",values:{count:r}})),a>0&&n.default.createElement("span",null,", ",n.default.createElement(i.CMS,{id:"paxSelector.infant.text",values:{count:a}})))))}}t.PreviousSearchItemDesktop=d,d.defaultProps={trackingId:""}},915686:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchItemMobile=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(243430),i=n(r(685775)),s=r(847876),l=r(877754),c=r(657325);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}class u extends a.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{value:e,onClickItem:t}=this.props;this.trackClickEvent(),t(e)},this.trackClickEvent=()=>{const{index:e,trackingId:t}=this.props,r="search_recent_".concat(e+1),n=(0,o.isEmpty)(t)?"":"_".concat(t);c.TrackingUtils.trackEvent("recent_search".concat(n),r,"home")}}render(){const{isCssVariationMobile:e}=c.ABUtils.getABs(),{value:t}=this.props,r=t.type===l.LocationType.AIRPORT,n=(0,i.default)("odf-icon-bidi",{"odf-icon-flight-right":r,"odf-icon-city":!r});return a.default.createElement(s.DropdownItem,{onClick:this.onClick,iconClass:n,isFixedWidth:!0,iataCode:e?t.iata:""},a.default.createElement("span",{className:"odf-display-inline-flex"},a.default.createElement("span",null,t.city),r&&!e?a.default.createElement("span",{className:"odf-space-outer-left-xs"},"$",t.iata):"",a.default.createElement("span",{className:"odf-space-outer-right-xs"},","),a.default.createElement("span",null,t.country)))}}t.PreviousSearchItemMobile=u,u.defaultProps={trackingId:""}},7049:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchesDesktop=c;var a=n(r(878969)),o=r(904751),i=r(256261),s=r(752067),l=r(375156);function c(e){const{maxLength:t,options:r,show:n}=e,c=(0,o.useSelector)(s.getFilteredPreviousSearches,o.shallowEqual),d=(0,o.useDispatch)(),u=(c||[]).slice(0,t),f=t=>{d((0,l.setAllSearch)(t)),e.onClickItem()};return a.default.createElement(a.default.Fragment,null,n&&u.map(((e,t)=>a.default.createElement(i.PreviousSearchItemDesktop,{key:e.createdAt,index:t,onClickItem:f,value:e,trackingId:r.trackingId}))))}c.defaultProps={onClickItem:()=>{},options:{},show:!0}},300722:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchesMobile=t.ConnectedPreviousSearchesMobile=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=n(r(789821)),i=r(445310),s=r(904751),l=r(915686),c=r(752067),d=(r(70355),r(557686));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}class f extends a.PureComponent{render(){const{maxLength:e,options:t,show:r,onClickItem:n,field:o,departureCities:i,destinationCities:s}=this.props,c=(o===d.FieldType.DEPARTURE?i:s).slice(0,e);return a.default.createElement(a.default.Fragment,null,r&&c.map(((e,r)=>a.default.createElement(l.PreviousSearchItemMobile,{key:e.iata,index:r,onClickItem:n,value:e,trackingId:t.trackingId}))))}}t.PreviousSearchesMobile=f,f.defaultProps={onClickItem:()=>{},options:{},departureCities:[],destinationCities:[],show:!0};const p=(0,i.createStructuredSelector)({departureCities:c.getFilteredPreviousSearchesDepartureCities,destinationCities:c.getFilteredPreviousSearchesDestinationCities});(t.ConnectedPreviousSearchesMobile=(0,s.connect)(p,{})(f)).propTypes={id:o.default.number.isRequired}},856780:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchesSourceDesktop=function(e){return{render:function(){let{onClickItemSilent:t,displayedWord:r=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{maxPreviousSearches:n,activeProduct:s}=e,l=!i.LocationUtils.isKeywordLongEnoughAccordingWithLanguage(r,i.Config.get("autocompleteOptions"),s);return a.default.createElement(o.PreviousSearchesDesktop,{key:"previous-searches",maxLength:n,onClickItem:t,show:l})}}};var a=n(r(878969)),o=r(7049),i=r(657325)},475356:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PreviousSearchesSourceMobile=function(e){return{render:function(){let{onClickItem:t,displayedWord:r=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{maxPreviousSearches:n,field:s,id:l,activeProduct:c}=e,d=!i.LocationUtils.isKeywordLongEnoughAccordingWithLanguage(r,i.Config.get("autocompleteOptions"),c);return a.default.createElement(o.ConnectedPreviousSearchesMobile,{key:"previous-searches",maxLength:n,onClickItem:t,show:d,field:s,id:l})}}};var a=n(r(878969)),o=r(300722),i=r(657325)},318739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(256261);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(7049);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},482107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrimeBanner=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(878969)),a=r(654995);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.PrimeBanner=e=>{let{tabType:t}=e;const[r,o]=(0,n.useState)(!1);(0,n.useEffect)((()=>{window.Odigeo&&window.Odigeo.SessionScope&&"GV"===window.Odigeo.SessionScope.brand&&o(!0)}),[]);const i="prime.home.".concat(t,".banner.message");return n.default.createElement("div",{className:"odf-calendar-day-range odf-message-inline odf-space-inner-m"},n.default.createElement("div",{style:{paddingTop:r&&"unset"},className:"odf-message-icon odf-space-inner-top-s odf-space-inner-right-s"},n.default.createElement("span",{className:"odf-logo-prime odf-logo-prime-xs"})),n.default.createElement("div",{className:"odf-message-content"},n.default.createElement("div",{className:"odf-flex-container-row odf-flex-container-nogutter"},n.default.createElement("div",{className:"odf-flex-item odf-text-md odf-text-mono-color-02"},n.default.createElement(a.CMS,{id:i,dangerouslySetInnerHTML:!0})),n.default.createElement("div",{className:"odf-flex-item odf-text-right"},n.default.createElement("span",{id:"primeBannerInitSessionLink",className:"odf-strong odf-link hotels_banner_login shell-integration_portal"})))))}},91262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(482107);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},371757:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.PrimeBenefitBanner=function(e){let{bannerTextKey:t,classAttribute:r,pillCmsKey:n}=e;return a.default.createElement("div",{className:"odf-box odf-space-inner-m odf-space-outer-right-m odf-space-outer-top-l ".concat(r," odf-bg-prime-informative-message")},a.default.createElement("div",{className:"odf-flex-container-row"},a.default.createElement("div",{className:"odf-message-icon odf-space-inner-top-s"},a.default.createElement("span",{className:"odf-logo-prime-negative odf-logo-prime-negative-xs odf-space-outer-left-l"})),a.default.createElement("div",{className:"odf-space-outer-left-xl odf-text-mono-color-09"},a.default.createElement("div",{className:"odf-flex-container-row"},a.default.createElement("div",{className:"odf-flex-item"},a.default.createElement(o.CMS,{id:t,dangerouslySetInnerHTML:!0})),a.default.createElement("div",{className:"odf-flex-item odf-space-inner-bottom-l"},a.default.createElement("div",{className:"odf-pills odf-pills-prime open"},a.default.createElement("p",{className:"odf-bold"},a.default.createElement(o.CMS,{id:n,dangerouslySetInnerHTML:!0}))))))))};var a=n(r(878969)),o=r(654995)},352446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(371757);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},727122:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscount=t.ConnectedResidentDiscount=void 0;var a=r(904751),o=n(r(789821)),i=r(365683),s=r(375156),l=r(444520);const c=e=>{let{checked:t,children:r,hasNonAdults:n,regions:a,setResidentDiscount:o}=e;const{t:s}=(0,i.useTranslation)(),l=a.length>0,c=a.map((e=>" ".concat(e.charAt(0).toUpperCase()).concat(e.slice(1).toLowerCase()))).join(" ".concat(s("flightsManager.residentDiscount.oneliner.field.separator")));return r({checked:t,hasNonAdults:n,hasRegions:l,onChange:()=>o(!t),regionsText:c})};t.ResidentDiscount=c,c.propTypes={checked:o.default.bool.isRequired,children:o.default.func.isRequired,hasNonAdults:o.default.bool.isRequired,regions:o.default.arrayOf(o.default.string).isRequired,setResidentDiscount:o.default.func.isRequired};t.ConnectedResidentDiscount=(0,a.connect)(l.getResidentDiscountProps,{setResidentDiscount:s.setResidentDiscount})(c)},630202:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscountCheckbox=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(654995),s=r(852767),l=r(494177);const c=e=>{let{checked:t,hasNonAdults:r,onChange:n,regionsText:c,showInfo:d}=e;const[u,f]=a.default.useState(!1),p={id:"selectable-checkbox-resident-discount",checked:t,disabled:r,onChange:n},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f("boolean"==typeof e?e:!u)},g=(0,o.default)({"odf-tooltip-container odf-text-info odf-space-inner-left-xs":!0,open:u});return a.default.createElement(s.Checkbox,p,a.default.createElement("span",null,a.default.createElement(i.CMS,{id:"flightsManager.residentDiscount.residentall",dangerouslySetInnerHTML:!0}),a.default.createElement("span",{style:{whiteSpace:"nowrap"}},c,d&&a.default.createElement("span",{className:g,onMouseEnter:m,onMouseLeave:m,onClick:e=>{e.preventDefault(),e.stopPropagation()}},a.default.createElement("span",{className:"odf-icon odf-icon-information odf-clickable"}),a.default.createElement("div",{className:"odf-tooltip odf-tooltip-plain odf-tooltip-bottom-center odf-space-inner-s",style:{width:"350px",whiteSpace:"initial",cursor:"auto"}},a.default.createElement(l.ResidentDiscountInfo,{hasNonAdults:r}))))))};t.ResidentDiscountCheckbox=c,c.defaultProps={showInfo:!1}},752577:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscount=void 0;var a=n(r(878969)),o=r(727122),i=r(630202),s=r(119787),l=r(657325);t.ResidentDiscount=()=>a.default.createElement(o.ConnectedResidentDiscount,null,(e=>{let{checked:t,hasNonAdults:r,hasRegions:n,onChange:o,regionsText:c}=e;return a.default.createElement(a.default.Fragment,null,n&&a.default.createElement("div",{className:"odf-space-inner-bottom-s"},(e=>{let{checked:t,hasNonAdults:r,onChange:n,regionsText:o}=e;const{isResidentDiscount:c,isResidentDiscountPaxType:d}=l.ABUtils.getABs();return c?a.default.createElement(s.ResidentDiscountMessageDesktop,{hasNonAdults:r,regionsText:o,isResidentDiscountPaxType:d}):a.default.createElement(i.ResidentDiscountCheckbox,{checked:t,hasNonAdults:r,onChange:n,regionsText:o,showInfo:!0})})({checked:t,hasNonAdults:r,onChange:o,regionsText:c})))}))},494177:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscountInfo=void 0;var a=n(r(878969)),o=r(654995);const i=e=>{let{showBullets:t,hasNonAdults:r}=e;return a.default.createElement(a.default.Fragment,null,r?a.default.createElement("p",{className:"odf-text-sm odf-text-left"},a.default.createElement(o.CMS,{id:"flightsManager.residentDiscount.nodiscountinfopassengers",dangerouslySetInnerHTML:!0})):a.default.createElement(a.default.Fragment,null,t&&a.default.createElement("ul",{className:"odf-ol-indicators"},a.default.createElement("li",{className:"odf-li"},a.default.createElement("p",{className:"odf-li-content"},a.default.createElement("span",{className:"odf-text-sm"},a.default.createElement(o.CMS,{id:"flightsManager.residentDiscount.ifresident"})))),a.default.createElement("li",{className:"odf-li"},a.default.createElement("p",{className:"odf-li-content"},a.default.createElement("span",{className:"odf-text-sm"},a.default.createElement(o.CMS,{id:"flightsManager.residentDiscount.info"})))))))};t.ResidentDiscountInfo=i,i.defaultProps={showBullets:!0}},210490:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscountInfoStyle=t.ResidentDiscountArrowStyle=void 0;var a,o,i=n(r(55467)),s=n(r(3485)),l=r(459376);t.ResidentDiscountInfoStyle=(0,s.default)(l.Div)(a||(a=(0,i.default)(["\n    will-change: opacity, max-height;\n    transition: opacity 200ms, max-height 200ms;\n    opacity: 0;\n    max-height: 0;\n    max-width: 400px;\n    position: absolute;\n    border-radius: 8px;\n    &.open {\n        max-height: 200px;\n        opacity: 1;\n    }\n"]))),t.ResidentDiscountArrowStyle=(0,s.default)(l.Span)(o||(o=(0,i.default)(["\n    transform: rotate(0deg);\n    transition: transform 200ms;\n    &.open {\n        transform: rotate(180deg);\n    }\n"])))},119787:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscountMessageDesktop=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(654995),s=r(210490),l=r(40202),c=r(657325);const d={children:{title:"residentDiscount.widget.pluskids.title"},default:{title:"residentDiscount.firstinfo.body",body:"residentDiscount.main.ifSomePassengers"}};t.ResidentDiscountMessageDesktop=(0,l.withPageContext)((e=>{let{trackEvent:t,hasNonAdults:r,isResidentDiscountPaxType:n,regionsText:l}=e;const[u,f]=a.default.useState(!1),[p,m]=a.default.useState(!1),g=(0,o.default)({"odf-icon odf-icon-arrow-down od-arrow-resident":!0,open:u}),h=(0,o.default)({"odf-bg-base odf-space-inner-m odf-text-soft odf-text-md":!0,open:u});!p&&(t({action:c.TrackingUtils.ACTION.FLIGHTS,label:"resident_discount_msg_onload"}),m(!0));const y=r&&!n?d.children:d.default;return a.default.createElement("div",null,a.default.createElement("span",{onClick:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const r=!u;t({action:c.TrackingUtils.ACTION.FLIGHTS,label:c.TrackingUtils.LABEL.residentDiscountArrow(r)}),f("boolean"==typeof e?e:r)},className:"odf-text-info odf-link-expander"},a.default.createElement("span",{className:"odf-icon odf-icon-information odf-icon-xl"}),a.default.createElement("span",{className:"odf-space-inner-left-s odf-space-inner-right-s"},a.default.createElement(i.CMS,{id:"residentDiscount.firstinfo.tittle"})),a.default.createElement(s.ResidentDiscountArrowStyle,{className:g})),a.default.createElement(s.ResidentDiscountInfoStyle,{className:h},a.default.createElement("div",null,a.default.createElement(i.CMS,{id:y.title,values:{residentZone:l},dangerouslySetInnerHTML:!0})),a.default.createElement("br",null),a.default.createElement("div",null,y.body&&a.default.createElement(i.CMS,{id:y.body}))))}))},325697:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscountMessageMobile=void 0;var a=n(r(878969)),o=r(654995),i=r(657325);const s={children:{body:"residentDiscount.widget.pluskids.title"},default:{body:"residentDiscount.firstinfo.body"}};t.ResidentDiscountMessageMobile=(0,i.withPageContext)((e=>{let{trackEvent:t,hasNonAdults:r,isResidentDiscountPaxType:n,regionsText:l}=e;const[c,d]=a.default.useState(!1);!c&&(t({action:i.TrackingUtils.ACTION.FLIGHTS,label:"resident_discount_msg_onload"}),d(!0));const u=r&&!n?s.children:s.default;return a.default.createElement("div",{className:"odf-text-info odf-space-inner-m odf-msg-informative"},a.default.createElement("div",{className:"odf-strong odf-space-inner-bottom-s"},a.default.createElement("span",{className:"odf-icon odf-icon-information odf-icon-xl"}),a.default.createElement("span",{className:"odf-space-inner-left-s"},a.default.createElement(o.CMS,{id:"residentDiscount.firstinfo.tittle"}))),a.default.createElement("div",{className:"odf-text-md"},a.default.createElement(o.CMS,{id:u.body,values:{residentZone:l},dangerouslySetInnerHTML:!0})))}))},642128:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ResidentDiscount=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(727122),s=r(494177),l=r(630202),c=r(657325),d=r(325697);t.ResidentDiscount=()=>{const{isCssVariationMobile:e,isResidentDiscount:t,isResidentDiscountPaxType:r}=c.ABUtils.getABs(),n=(0,o.default)({"odf-flex-container-row odf-flex-container-nogutter":!0,"odf-space-inner-top-s odf-space-inner-bottom-s":e,"odf-space-outer-top-s odf-space-inner-top-m odf-space-inner-bottom-m":!e});return a.default.createElement(i.ConnectedResidentDiscount,null,(e=>{let{checked:o,hasNonAdults:i,hasRegions:c,onChange:u,regionsText:f}=e;return a.default.createElement(a.default.Fragment,null,c&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:n},a.default.createElement("div",{className:"odf-flex-item odf-flex-item-align-center"},t&&a.default.createElement(d.ResidentDiscountMessageMobile,{hasNonAdults:i,regionsText:f,isResidentDiscountPaxType:r}),!t&&a.default.createElement(l.ResidentDiscountCheckbox,{checked:o,hasNonAdults:i,onChange:u,regionsText:f}))),!t&&a.default.createElement(s.ResidentDiscountInfo,{showBullets:o,hasNonAdults:i})))}))}},378489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(727122);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},783164:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.DpPaxContent=t.ConnectedDpPaxContent=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(904751),i=n(r(685775)),s=r(733578),l=r(292739),c=r(252851),d=r(877754),u=r(459376),f=r(657325);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}const m=e=>{let{pax:t,paxRestrictions:r,onSelectKidAge:n,onChange:o,roomId:p,showKidError:m,isNative:g,isNonPrimeHotel:h,residentZones:y,residentProps:v,kidsAgeRange:b,trackEvent:S,activeProduct:_}=e;const{isCssVariation:P,isCssVariationMobile:E}=f.ABUtils.getABs(),O=[{paxKey:d.PaxConstants.ADULTS,cmsKey:d.PaxConstants.ADULTS,min:r.minAdults,max:r.maxAdults,value:t.adults},{paxKey:d.PaxConstants.KIDS,cmsKey:"children",min:r.minKids,max:r.maxKids,value:t.kids}],T=[{paxKey:d.PaxConstants.ROOMS,cmsKey:"hotelRooms",min:r.minAdults,max:r.maxAdults,value:t.rooms},{paxKey:d.PaxConstants.ADULTS,cmsKey:d.PaxConstants.ADULTS,min:r.minAdults,max:r.maxAdults,value:t.adults},{paxKey:d.PaxConstants.KIDS,cmsKey:"children",min:r.minKids,max:r.maxKids,value:t.kids}],k=h?T:O,C=(0,i.default)({"odf-space-inner-top-m odf-space-inner-left-m odf-space-inner-right-m odf-box-content-md":!P,"odf-space-inner-top-m":P,"prisma-responsive-space-horizontal":E}),w=y&&v.regions.length&&t.adults+t.kids.length>1?"residentDiscount.main.ifSomePassengers":"";return(0,a.useEffect)((()=>{if(_===d.EntryPoint.HOTELS){const e=f.TrackingUtils.ACTION[_.toUpperCase()],t=f.TrackingUtils.LABEL.fieldOpen(_,"guest");S({action:e,label:t})}}),[]),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"odf-stroke-primary"}),a.default.createElement(u.Div,{className:C,"data-testid":"room-selector-item"},k.map((e=>{const r=(e=>e.paxKey===d.PaxConstants.KIDS)(e),i=h?e.paxKey:"".concat(p).concat(e.paxKey),l=t.kids.length>0;return a.default.createElement(a.default.Fragment,{key:i},a.default.createElement(s.PaxSelectorContentRow,Object.assign({},e,{value:r?e.value.length:e.value,onChange:o,ageCmsKey:"roomSelector"})),r&&l&&a.default.createElement(c.KidSelector,{kids:e.value,onSelectKidAge:n,showKidError:m,isNative:g,kidsAgeRange:b}))})),!h&&a.default.createElement(l.DpPaxMessages,{kids:t.kids.length,restrictions:d.DpPaxRestrictionPropsDefault}),w&&a.default.createElement(s.ErrorMessage,{message:w})),a.default.createElement("div",{className:"odf-stroke-primary"}))};t.DpPaxContent=m,m.defaultProps={isNative:!1,activeProduct:d.TabTypePropDefault};t.ConnectedDpPaxContent=(0,o.connect)((e=>{let{activeProduct:t}=e;return{activeProduct:t.activeProduct}}),{})((0,f.withPageContext)(m))},292739:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.DpPaxMessages=void 0;var a=n(r(878969)),o=r(733578);t.DpPaxMessages=e=>{let{kids:t,restrictions:r}=e;const n=t>=r.maxKidsPerAdult;return a.default.createElement(a.default.Fragment,null,n&&a.default.createElement(o.ErrorMessage,{messages:[{key:"guestSelector.children.max",values:{number:r.maxKidsPerAdult}}]}))}},812332:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DpPaxSelector=void 0;var s=i(r(878969)),l=r(904751),c=r(365683),d=r(445310),u=r(783164),f=r(657325),p=r(375156),m=r(877754),g=r(444520),h=r(393430);const y=e=>{let{deleteRoom:t,updateRoom:r,room:n,roomNumber:o,trackEvent:i,numPax:l,hasError:d,isNative:p,isNonPrimeHotel:g,nonPrimeHotelRooms:y,updateNonPrimeHotel:v,showRoomHeader:b,paxRestrictions:S,residentProps:_,kidsAgeRange:P}=e;const{t:E}=(0,c.useTranslation)(),O=f.Config.get("residentZones"),T=e=>{const t=f.TrackingUtils.ACTION.DP;i({action:t,label:e})},k=g?y:a({},n),C=(0,h.getDeleteRoomSelectorClassNames)(),w=JSON.parse(O);return s.default.createElement(s.default.Fragment,null,b&&s.default.createElement("div",{className:C.wrapper},s.default.createElement("div",{className:"odf-flex-container-row odf-flex-container-gutter-lg"},s.default.createElement("div",{className:"odf-flex-item dp-pax-selector-header"},E("roomSelector.header")," ",o+1),o>0&&s.default.createElement("span",{className:C.icon,onClick:()=>{T(f.TrackingUtils.LABEL.roomAction({action:"remove"})),t(n),f.CurrentAccommodationSearchSessionStorage.deleteRoom(n)}}))),s.default.createElement(u.ConnectedDpPaxContent,{isNonPrimeHotel:g,pax:k,paxRestrictions:S,roomId:n.id,onChange:g?e=>{let t={};if(e[m.PaxConstants.ADULTS])t=a(a({},y),e);else if(e[m.PaxConstants.ROOMS]){if(y.rooms<e.rooms){const e="_sce:".concat(f.TrackingUtils.LABEL.userScenario());i({action:f.TrackingUtils.ACTION.HOTELS,label:f.TrackingUtils.LABEL.roomAction({action:"add",scenario:e})})}t=a(a({},y),e)}else t=a({},y),y.kids.length<e.kids?t.kids.push(-1):t.kids.pop();v(t)}:e=>{let t={};e[m.PaxConstants.ADULTS]?t=a(a({},n),e):(t=a({},n),n.kids.length<e.kids?t.kids.push(-1):t.kids.pop()),t.kids.length>1&&T(f.TrackingUtils.LABEL.maxKidsPerAdult()),r(t),f.CurrentAccommodationSearchSessionStorage.setRooms(t)},onSelectKidAge:(e,t)=>{const o=a({},g?y:n);o.kids[e]=t,g?v(o):r(o)},showKidError:d,isNative:p,numPax:l,residentZones:w,residentProps:_,kidsAgeRange:P}))};t.DpPaxSelector=y,y.defaultProps={hasError:!1,isNative:!1};const v=(0,d.createStructuredSelector)({nonPrimeHotelRooms:g.getNonPrimeHotelRoom,residentProps:g.getResidentDiscountProps}),b=(0,l.connect)(v,{deleteRoom:p.deleteRoom,updateRoom:p.updateRoom,updateNonPrimeHotel:p.updateNonPrimeHotel})(y);t.default=(0,f.withPageContext)(b)},252851:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.KidSelector=void 0;var a=n(r(878969)),o=r(365683),i=r(387077),s=r(733578),l=r(657325);const c=e=>{let{kids:t,onSelectKidAge:r,showKidError:n,isNative:c,kidsAgeRange:d}=e;const{t:u}=(0,o.useTranslation)();return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{style:{flexWrap:"wrap"},className:"odf-flex-container-row odf-flex-container-gutter-sm odf-space-outer-bottom-m"},t.map(((e,t)=>a.default.createElement("div",{style:{maxWidth:"50%",minWidth:"50%"},className:"odf-flex-item",key:t},a.default.createElement("span",{className:"odf-space-inner-bottom-m odf-text-md odf-text-capitalize"},u("paxSelector.children.singular")," ",t+1),a.default.createElement(i.KidsDropdown,{value:e,onSelectKidAge:e=>r(t,e),showKidError:n,isNative:c,kidsAgeRange:d}))))),n&&l.HotelRoomUtils.isKidsAgeInvalid({kids:t})&&a.default.createElement(s.ErrorMessage,{type:"odf-text-negative",icon:"odf-icon-exclamation-circle",message:"roomSelector.children.error"}))};t.KidSelector=c,c.defaultProps={isNative:!1}},387077:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.KidsDropdown=void 0;var a=n(r(878969)),o=r(816110),i=r(487897);const s=e=>{let t,{value:r,onSelectKidAge:n,showKidError:s,isNative:l,kidsAgeRange:c}=e;return t=l?a.default.createElement(i.KidsDropdownNative,{value:r,onSelectKidAge:n,showKidError:s,list:c}):a.default.createElement(o.KidsDropdownSelector,{value:r,onSelectKidAge:n,showKidError:s,list:c}),t};t.KidsDropdown=s,s.defaultProps={showKidError:!1,isNative:!1}},816110:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.KidsDropdownSelector=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(654995),s=r(212846),l=r(78274);t.KidsDropdownSelector=e=>{let{value:t,list:r,onSelectKidAge:n,showKidError:c}=e;const d=a.default.useRef(null),[u,f]=a.default.useState(!1),p=e=>{n(e),f(!1)},m=(0,o.default)({"odf-input-group":!0,invalid:c&&-1===t}),g=(0,o.default)({"odf-input-append odf-icon":!0,"odf-icon-arrow-up":u,"odf-icon-arrow-down":!u});return a.default.createElement("div",{className:m,"data-testid":"kids-dropdown",ref:d},a.default.createElement("div",{className:"odf-input odf-select",onClick:()=>f(!u)},a.default.createElement("div",{className:"odf-text-md"},a.default.createElement(i.CMS,{id:"roomSelector.dropdown.text"}),-1!==t?": "+t:""),a.default.createElement("span",{className:g})),a.default.createElement(s.Dropdown,{open:u,onClose:()=>f(!1),parentRef:d},a.default.createElement("ul",{className:"odf-dropdown open"},r.map((e=>a.default.createElement(l.KidsDropdownItem,{key:e,value:e,onChange:p}))))))}},78274:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.KidsDropdownItem=void 0;var a=n(r(878969));t.KidsDropdownItem=e=>{let{value:t,onChange:r}=e;return a.default.createElement("li",{className:"odf-dropdown-item","data-testid":"kids-dropdown-age-".concat(t),onClick:()=>r(t)},t)}},487897:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.KidsDropdownNative=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(365683);t.KidsDropdownNative=e=>{let{value:t,list:r,onSelectKidAge:n,showKidError:s}=e;const{t:l}=(0,i.useTranslation)(),c=l("roomSelector.dropdown.text"),d=(0,o.default)({"odf-input-group":!0,invalid:s&&-1===t});return a.default.createElement("div",{className:d,"data-testid":"kids-dropdown"},a.default.createElement("select",{className:"odf-input odf-select",value:t,onChange:e=>{n(parseInt(e.target.value))}},a.default.createElement("option",{value:-1},c),r.map((e=>a.default.createElement("option",{key:e,value:e},c,": ",e)))),a.default.createElement("span",{className:"odf-input-append odf-icon odf-icon-arrow-down"}))}},926587:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.HSASelectorContentRow=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(365683),s=r(656807),l=r(657325),c=r(877754);const d=e=>{let{cmsKey:t,min:r,max:n,paxKey:d,onChange:u,value:f,ageCmsKey:p,ageRange:m}=e;const{t:g}=(0,i.useTranslation)(),{isCssVariation:h}=l.ABUtils.getABs(),y=(0,o.default)({"odf-flex-container-row odf-flex-container-nogutter odf-space-outer-bottom-s odf-text-md":!h,"odf-flex-container-row odf-flex-container-nogutter odf-space-outer-top-m odf-space-outer-bottom-m odf-text-md":h});return a.default.createElement("div",{className:y,"data-testid":"pax-selector-item"},a.default.createElement("div",{className:"odf-flex-item odf-text-ellipsis"},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:g("paxSelector.".concat(t,".text"))}}),d!==c.PaxConstants.ROOMS&&a.default.createElement("span",{className:"odf-space-inner-left-xs"},m)),a.default.createElement("div",{className:"odf-flex-item odf-flex-item-sm"},a.default.createElement(s.NumberPicker,{min:r,max:n,value:f,onChange:e=>u({[d]:e})})))};t.HSASelectorContentRow=d,d.defaultProps={min:0,ageCmsKey:"paxSelector"}},803197:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.HSAPaxContent=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(926587),s=r(292739),l=r(252851),c=r(877754),d=r(459376),u=r(657325);const f=e=>{let{pax:t,paxRestrictions:r,onSelectKidAge:n,onChange:f,roomId:p,showKidError:m,kidsAgeRange:g,isNative:h}=e;const{isCssVariation:y,isCssVariationMobile:v}=u.ABUtils.getABs(),b=g.slice(-1)[0],S=[{paxKey:c.PaxConstants.ADULTS,cmsKey:"adults",min:r.minAdults,max:r.maxAdults,value:t.adults,ageRange:"(+".concat(b+1,")")},{paxKey:c.PaxConstants.KIDS,cmsKey:"children",min:r.minKids,max:r.maxKids,value:t.kids,ageRange:"(".concat(0,"-",b,")")}],_=(0,o.default)({"odf-box-content odf-box-content-md":!y,"odf-space-inner-top-m odf-space-inner-bottom-m":y,"prisma-responsive-space-horizontal":v});return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"odf-stroke-primary"}),a.default.createElement(d.Div,{className:_,"data-testid":"room-selector-item"},S.map((e=>{const r=(e=>e.paxKey===c.PaxConstants.KIDS)(e),o="".concat(p).concat(e.paxKey),s=t.kids.length>0;return a.default.createElement(a.default.Fragment,{key:o},a.default.createElement(i.HSASelectorContentRow,Object.assign({},e,{value:r?e.value.length:e.value,onChange:f,ageCmsKey:"roomSelector"})),r&&s&&a.default.createElement(l.KidSelector,{kids:e.value,onSelectKidAge:n,showKidError:m,isNative:h,kidsAgeRange:g}))})),a.default.createElement(s.DpPaxMessages,{kids:t.kids.length,restrictions:c.HotelStandalonePaxRestrictionPropsDefault})),a.default.createElement("div",{className:"odf-stroke-primary"}))};t.HSAPaxContent=f,f.defaultProps={isNative:!1}},68572:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HSAPaxSelector=void 0;var s=i(r(878969)),l=r(904751),c=r(365683),d=r(445310),u=r(803197),f=r(657325),p=r(375156),m=r(877754),g=r(393430);const h=e=>{let{deleteRoom:t,updateRoom:r,room:n,roomNumber:o,trackEvent:i,numPax:l,hasError:d,showRoomHeader:p,paxRestrictions:h,kidsAgeRange:y,isNative:v}=e;const{t:b}=(0,c.useTranslation)(),S=e=>{const t=f.TrackingUtils.ACTION.HOTELS;i({action:t,label:e})},_=(0,g.getDeleteRoomSelectorClassNames)();return s.default.createElement(s.default.Fragment,null,p&&s.default.createElement("div",{className:_.wrapper},s.default.createElement("div",{className:"odf-flex-container-row odf-flex-container-gutter-lg"},s.default.createElement("div",{className:"odf-flex-item dp-pax-selector-header"},b("roomSelector.header")," ",o+1),o>0&&s.default.createElement("span",{className:_.icon,onClick:()=>{S(f.TrackingUtils.LABEL.roomAction({action:"remove"})),t(n),f.CurrentAccommodationSearchSessionStorage.deleteRoom(n)}}))),s.default.createElement(u.HSAPaxContent,{pax:n,paxRestrictions:h,roomId:n.id,onChange:e=>{let t={};e[m.PaxConstants.ADULTS]?t=a(a({},n),e):(t=a({},n),n.kids.length<e.kids?t.kids.push(-1):t.kids.pop()),t.kids.length>1&&S(f.TrackingUtils.LABEL.maxKidsPerAdult()),r(t),f.CurrentAccommodationSearchSessionStorage.setRooms(t)},onSelectKidAge:(e,t)=>{const o=a({},n);o.kids[e]=t,r(o),f.CurrentAccommodationSearchSessionStorage.setRooms(o)},showKidError:d,isNative:v,numPax:l,kidsAgeRange:y}))};t.HSAPaxSelector=h,h.defaultProps={hasError:!1,isNative:!1};const y=(0,l.connect)((0,d.createStructuredSelector)({}),{deleteRoom:p.deleteRoom,updateRoom:p.updateRoom})(h);t.default=(0,f.withPageContext)(y)},347284:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.HotelStandaloneRoomSelectorDesktop=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(904751),i=r(365683),s=r(445310),l=r(40178),c=r(657325),d=r(877754),u=r(212846),f=r(459376),p=r(393430),m=r(375156),g=n(r(68572)),h=r(308148),y=r(444520),v=r(656807),b=n(r(833045)),S=r(733578);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}const P=e=>{let{activeProduct:t,fieldFocused:r=!1,setFieldFocused:n=Function.prototype,rooms:o,hasError:s,showAddRoom:m,addRoom:h,trackEvent:y}=e;const{t:_}=(0,i.useTranslation)(),P=(0,a.useRef)(null),[E,O]=(0,a.useState)(!1),[T]=(0,p.useRoomSelectorClassNames)(E,s),k=c.HotelRoomUtils.getTotalPax(o),C=k>=d.HotelStandalonePaxRestrictionPropsDefault.maxPassengers,w=()=>{n(null),O(!1)},D=c.HotelRoomUtils.getKidsRange(d.HotelStandalonePaxRestrictionPropsDefault),x=(0,p.getAddRoomSelectorClassNames)(!1);return(0,a.useEffect)((()=>O(r===d.FieldType.ROOM)),[r]),a.default.createElement("div",{ref:P},a.default.createElement("div",{className:T.header,onClick:()=>{n(d.FieldType.ROOM,r!==d.FieldType.ROOM),E||(e=>{const r=c.TrackingUtils.ACTION[t.toUpperCase()];t===d.EntryPoint.HOTELS&&y({action:r,label:e})})(c.TrackingUtils.LABEL.fieldOpen(t,"guest")),O(!E)}},a.default.createElement(f.Div,{className:"odf-input odf-text-lg odf-input-m odf-input-inline odf-input-inline-last odf-select odf-space-outer-right-m","data-testid":"room-pax-selector-summary",whiteSpace:"nowrap",style:{paddingTop:10}},a.default.createElement(c.CMS,{id:"dynpack.searchSummary.rooms",values:{count:o.length}}),a.default.createElement("div",{className:"odf-icon odf-icon-pax odf-space-inner-left-xs"}),a.default.createElement("span",{"data-testid":"room-selector-number-pax"},k)),a.default.createElement("span",{className:T.arrow})),a.default.createElement(u.Dropdown,{open:E,onClose:w,parentRef:P},a.default.createElement(l.RoomSelectorDesktopEl,{className:T.paxSelector,"data-testid":"room-pax-selector-picker"},o.map(((e,t)=>a.default.createElement(g.default,{room:e,roomNumber:t,key:e.id,numPax:k,hasError:s,showRoomHeader:!0,paxRestrictions:c.HotelRoomUtils.getRoomPaxRanges(e,d.HotelStandalonePaxRestrictionPropsDefault,k),kidsAgeRange:D}))),m&&a.default.createElement("div",{className:x.wrapper,onClick:()=>{const e=c.HotelRoomUtils.getNewRoom(o,d.HotelStandalonePaxRestrictionPropsDefault);h(e),c.CurrentAccommodationSearchSessionStorage.setRooms(e)},"data-testid":"add-room-selector"},a.default.createElement("span",{className:"odf-icon odf-icon-plus odf-icon-s odf-text-action odf-space-inner-xs"}),a.default.createElement("span",{className:"odf-link"},a.default.createElement(c.CMS,{id:"roomSelector.button.addRoom"}))),C&&a.default.createElement("div",{className:"odf-space-inner-top-s odf-space-inner-right-m odf-space-inner-left-m"},a.default.createElement(S.ErrorMessage,{messages:[{key:"guestSelector.guests.max",values:{number:d.HotelStandalonePaxRestrictionPropsDefault.maxPassengers}}]})),a.default.createElement("div",{className:"odf-input-group"},a.default.createElement("div",{className:"odf-space-inner-top-m odf-space-inner-bottom-m"},a.default.createElement(v.ButtonDefault,{className:"odf-col-span12 ".concat((0,b.default)("primary",!1,!1)),onClick:w},_("search.button.done")))))),s&&a.default.createElement("span",{className:"odf-label odf-text-sm odf-text-negative odf-space-outer-xs","data-testid":"room-selector-children-error"},a.default.createElement(c.CMS,{id:"roomSelector.children.error"})))};P.defaultProps={activeProduct:d.TabTypePropDefault};const E=(0,s.createStructuredSelector)({activeProduct:y.getActiveProduct,rooms:h.getRooms,hasError:h.hasHotelStandaloneKidsErrors,showAddRoom:h.canAddRoom});t.HotelStandaloneRoomSelectorDesktop=(0,o.connect)(E,{addRoom:m.addRoom})((0,c.withPageContext)(P))},523217:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.HotelStandaloneRoomSelectorMobile=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(445310),i=r(904751),s=r(365683),l=r(877754),c=n(r(690549)),d=r(317021),u=r(308148),f=r(742073),p=r(631491),m=n(r(68572)),g=r(657325),h=r(393430),y=r(375156),v=r(444520);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}const S=e=>{let{rooms:t,pax:r,hasError:n,showAddRoom:o,addRoom:i,trackEvent:u,activeProduct:y}=e;const{t:v}=(0,s.useTranslation)(),b=n?v("roomSelector.children.error"):"",S=v("flightsManager.selection.pax.title"),[_]=(0,d.usePaxSummaryText)(r,t.length),{isOpenedWithEmptyFields:P,getCurrent:E}=(0,a.useContext)(p.SlideGroupContext),O=E().history.indexOf(l.SlideType.ROOM)>-1||!P,T=g.HotelRoomUtils.getTotalPax(t),k=(0,h.getAddRoomSelectorClassNames)(!0),C=g.HotelRoomUtils.getKidsRange(l.HotelStandalonePaxRestrictionPropsDefault),w=()=>{const e=g.HotelRoomUtils.getNewRoom(t,l.HotelStandalonePaxRestrictionPropsDefault);i(e),g.CurrentAccommodationSearchSessionStorage.setRooms(e)},D=(0,a.useCallback)((()=>{if(y===l.EntryPoint.HOTELS){const e=g.TrackingUtils.ACTION[y.toUpperCase()],t=g.TrackingUtils.LABEL.fieldOpen(y,"guest");u({action:e,label:t}),document.body.style.overflow="hidden"}}),[y]),x=(0,a.useCallback)((()=>{y===l.EntryPoint.HOTELS&&document.body.style.removeProperty("overflow")}),[y]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{icon:"pax",id:l.FieldType.ROOM,value:_,errorMessage:b,placeholder:S}),a.default.createElement(f.Fragment,{id:l.SlideType.ROOM,isDone:O,isEmpty:!1,setValue:Function.prototype,onEntered:D,onExiting:x},(()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(f.FieldHeaderPrisma,{textKey:"flightsManager.selection.pax.title"}),a.default.createElement(f.FragmentBody,{padding:!1},t.map(((e,t)=>a.default.createElement(m.default,{room:e,roomNumber:t,key:e.id,numPax:T,hasError:n,showRoomHeader:!0,paxRestrictions:g.HotelRoomUtils.getRoomPaxRanges(e,l.HotelStandalonePaxRestrictionPropsDefault,T),kidsAgeRange:C}))),o&&a.default.createElement("div",{className:k.wrapper,onClick:w,"data-testid":"add-room-selector"},a.default.createElement("span",{className:"odf-icon odf-icon-plus odf-icon-s odf-text-action odf-space-inner-xs"}),a.default.createElement("span",{className:"odf-link"},a.default.createElement(g.CMS,{id:"roomSelector.button.addRoom"})))),a.default.createElement(f.NextButtonWithValidation,{type:l.SlideType.ROOM,testId:"room-selector-next-btn"})))))};S.defaultProps={activeProduct:l.TabTypePropDefault};const _=(0,o.createStructuredSelector)({rooms:u.getRooms,pax:u.getHotelStandaloneAdultsAndKids,hasError:u.hasHotelStandaloneKidsErrors,showAddRoom:u.canAddRoom,activeProduct:v.getActiveProduct});t.HotelStandaloneRoomSelectorMobile=(0,i.connect)(_,{addRoom:y.addRoom})((0,g.withPageContext)(S))},766362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(347284);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(523217);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},975576:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedRoomSelector=void 0;var a=n(r(789821)),o=r(904751),i=r(445310),s=r(444520),l=r(40202),c=r(877754),d=r(86493);const u=e=>{let{value:t,hasError:r,trackEvent:n,render:a,pax:o,isPrime:i,hasNonPrimeHotelKidsErrors:s,nonPrimeHotelRoomsPax:l,isHotel:c}=e;const u=c&&!i;(0,d.useVerifyHotelRooms)(t,u);const f=u?l:o;return a({dynamicValue:u?new Array(l.rooms):t,hasError:r,trackEvent:n,dynamicPax:f,isPrime:i,hasNonPrimeHotelKidsErrors:s,nonPrimeHotelRoomsPax:l,isHotel:c})};u.propTypes={render:a.default.func.isRequired,value:c.RoomsProps.isRequired,hasError:a.default.bool.isRequired,trackEvent:a.default.func.isRequired,isPrime:a.default.bool.isRequired,isHotel:a.default.bool.isRequired,hasNonPrimeHotelKidsErrors:a.default.bool.isRequired};const f=(0,i.createStructuredSelector)({value:s.getRooms,hasError:s.showKidsErrors,pax:s.getAdultsAndKids,nonPrimeHotelRoomsPax:s.getAdultsAndKidsNonPrimeHotels,isPrime:s.isPrime,hasNonPrimeHotelKidsErrors:s.showKNonPrimeHotelKidsErrors,isHotel:s.isHotelProductActive});t.ConnectedRoomSelector=(0,o.connect)(f,{})((0,l.withPageContext)(u))},218074:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSelectorContent=t.ConnectedRoomSelectorContent=void 0;var a=n(r(878969)),o=r(904751),i=r(445310),s=r(365683),l=r(657325),c=n(r(812332)),d=r(444520),u=r(375156),f=r(877754),p=r(393430),m=r(656807),g=n(r(833045)),h=r(733578);const y=e=>{let{value:t,showAddRoom:r,addRoom:n,trackEvent:o,hasError:i,isNative:d,isPrime:u,isHotel:y,onClose:v}=e;const{t:b}=(0,s.useTranslation)(),S=y&&!u,_=S?f.NonPrimeHotelPropsDefault:f.DpPaxRestrictionPropsDefault,P=l.HotelRoomUtils.getTotalPax(t),E=l.HotelRoomUtils.getKidsRange(_),O=(0,p.getAddRoomSelectorClassNames)(d),T=P>=_.maxPassengers;return a.default.createElement(a.default.Fragment,null,t.map(((e,t)=>a.default.createElement(c.default,{room:e,roomNumber:t,key:e.id,numPax:P,isNative:d,hasError:i,isNonPrimeHotel:S,showRoomHeader:!0,paxRestrictions:S?_:l.HotelRoomUtils.getRoomPaxRanges(e,_,P),kidsAgeRange:E}))),r&&(u||!y)&&a.default.createElement("div",{className:O.wrapper,onClick:()=>{const e=l.HotelRoomUtils.getNewRoom(t,_);n(e),l.CurrentAccommodationSearchSessionStorage.setRooms(e);const r=y?"_sce:".concat(l.TrackingUtils.LABEL.userScenario()):"";o({action:y?l.TrackingUtils.ACTION.HOTELS:l.TrackingUtils.ACTION.DP,label:l.TrackingUtils.LABEL.roomAction({action:"add",scenario:r})})},"data-testid":"add-room-selector"},a.default.createElement("span",{className:"odf-icon odf-icon-plus odf-icon-s odf-text-action odf-space-inner-xs"}),a.default.createElement("span",{className:"odf-link"},a.default.createElement(l.CMS,{id:"roomSelector.button.addRoom"}))),T&&a.default.createElement("div",{className:"odf-space-inner-top-s odf-space-inner-right-m odf-space-inner-left-m"},a.default.createElement(h.ErrorMessage,{messages:[{key:"guestSelector.guests.max",values:{number:_.maxPassengers}}]})),!d&&a.default.createElement("div",{className:"odf-input-group"},a.default.createElement("div",{className:"odf-space-inner-top-m odf-space-inner-bottom-m"},a.default.createElement(m.ButtonDefault,{className:"odf-col-span12 ".concat((0,g.default)("primary",!1,!1)),onClick:v},b("search.button.done")))))};t.RoomSelectorContent=y,y.defaultProps={hasError:!1,isNative:!1};const v=(0,i.createStructuredSelector)({value:d.getRooms,showAddRoom:d.canAddRoom,isPrime:d.isPrime,isHotel:d.isHotelProductActive});t.ConnectedRoomSelectorContent=(0,o.connect)(v,{addRoom:u.addRoom})((0,l.withPageContext)(y))},505530:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSelector=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=n(r(789821)),i=r(40178),s=r(657325),l=r(877754),c=r(212846),d=r(975576),u=r(218074),f=r(459376),p=r(393430);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}const g=e=>{let{value:t,fieldFocused:r,setFieldFocused:n,hasError:o,trackEvent:d,isHotel:m}=e;const g=(0,a.useRef)(null),[h,y]=(0,a.useState)(!1),[v]=(0,p.useRoomSelectorClassNames)(h,o);(0,a.useEffect)((()=>{r===l.FieldType.ROOM&&y(!0)}),[r]);const b=s.HotelRoomUtils.getTotalPax(t),S=()=>{y(!1),n(null)};return a.default.createElement("div",{ref:g},a.default.createElement("div",{className:v.header,onClick:()=>{r!==l.FieldType.ROOM?(d({action:s.TrackingUtils.ACTION.DP,label:s.TrackingUtils.LABEL.changeRoomPax()}),n(l.FieldType.ROOM,!0)):n(null),y(!h)}},a.default.createElement(f.Div,{className:"odf-input odf-text-lg odf-input-m odf-input-inline odf-input-inline-last odf-select odf-space-outer-right-m","data-testid":"room-pax-selector-summary",whiteSpace:"nowrap",style:{paddingTop:m?10:9}},a.default.createElement(s.CMS,{id:"dynpack.searchSummary.rooms",values:{count:t.length}}),a.default.createElement("div",{className:"odf-icon odf-icon-pax","data-testid":"room-selector-pax-number"}),b),a.default.createElement("span",{className:v.arrow})),a.default.createElement(c.Dropdown,{open:h,onClose:S,parentRef:g},a.default.createElement(i.RoomSelectorDesktopEl,{className:v.paxSelector,"data-testid":"room-pax-selector-picker"},a.default.createElement(u.ConnectedRoomSelectorContent,{hasError:o,onClose:S}))),o&&a.default.createElement("span",{className:"odf-label odf-text-sm odf-text-negative odf-space-outer-xs"},a.default.createElement(s.CMS,{id:"roomSelector.children.error"})))};g.defaultProps={fieldFocused:null,isHotel:o.default.bool};const h=e=>{let{fieldFocused:t,setFieldFocused:r}=e;return a.default.createElement(d.ConnectedRoomSelector,{render:e=>{let{dynamicValue:n,hasError:o,trackEvent:i,isHotel:s}=e;return a.default.createElement(g,{value:n,fieldFocused:t,setFieldFocused:r,hasError:o,trackEvent:i,isHotel:s})}})};t.RoomSelector=h,h.defaultProps={fieldFocused:null}},40178:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSelectorDesktopEl=void 0;var a,o=n(r(55467)),i=n(r(3485)),s=r(459376);t.RoomSelectorDesktopEl=(0,i.default)(s.Div)(a||(a=(0,o.default)(["\n    .odf-rtl && {\n      left: 0;\n      right: auto;\n    }\n    && {\n        right: 0;\n        width: 300px;\n    }\n"])))},539563:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSelector=void 0;var a=n(r(878969)),o=r(365683),i=n(r(690549)),s=r(877754),l=r(975576),c=r(742073),d=r(657325),u=r(317021);const f=e=>{let{value:t,hasError:r,pax:n,hasNonPrimeHotelKidsErrors:l}=e;const{t:f}=(0,o.useTranslation)(),{isCssVariation:p}=d.ABUtils.getABs(),[m]=(0,u.usePaxSummaryText)(n,t.length),g=r||l?f("roomSelector.children.error"):null,h=p?f("flightsManager.selection.pax.title"):"";return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.default,{icon:"pax",id:s.FieldType.ROOM,value:m,errorMessage:g,placeholder:h}),a.default.createElement(c.ConnectedRoomSelectorFragment,null))};t.RoomSelector=()=>a.default.createElement(l.ConnectedRoomSelector,{render:e=>{let{dynamicValue:t,hasError:r,dynamicPax:n,hasNonPrimeHotelKidsErrors:o,nonPrimeHotelRoomsPax:i}=e;return a.default.createElement(f,{value:t,hasError:r,pax:n,nonPrimeHotelRoomsPax:i,hasNonPrimeHotelKidsErrors:o})}})},317021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePaxSummaryText=void 0;var n=r(365683),a=r(657325);t.usePaxSummaryText=(e,t)=>{const{t:r}=(0,n.useTranslation)(),o=a.Config.get("isRtl")?"rtl":"ltr",i=r("dynpack.searchSummary.rooms",{count:t}),s=r("paxSelector.adult.text",{count:e.adults}),l=e.kids>0?"".concat(r("paxSelector.separator")," ").concat(r("paxSelector.child.text",{count:e.kids})):"";let c;return c="rtl"===o?"".concat(l?l+" ":"").concat(s," ,").concat(i):"".concat(i,", ").concat(s).concat(l?" "+l:""),[c]}},393430:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.useRoomSelectorClassNames=t.getDeleteRoomSelectorClassNames=t.getAddRoomSelectorClassNames=void 0;var a=r(878969),o=n(r(685775)),i=r(657325);t.useRoomSelectorClassNames=(e,t)=>{const{isCssVariationDesktop:r}=i.ABUtils.getABs(),[n,s]=(0,a.useState)({});return(0,a.useEffect)((()=>s({arrow:(0,o.default)({"odf-input-icon odf-icon":!0,"odf-icon-arrow-up odf-z-index-3":e,"odf-icon-arrow-down":!e}),header:(0,o.default)({"focus odf-input-inline-focus":e,"odf-input-group":!0,invalid:t}),paxSelector:(0,o.default)({"odf-box odf-box-layer odf-space-inner-right-l odf-space-inner-left-l odf-popup odf-popup-flex opened":!0,"odf-space-inner-left-l odf-space-inner-right-l":r})})),[t,r,e]),[n]};t.getAddRoomSelectorClassNames=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{isCssVariation:t,isCssVariationMobile:r}=i.ABUtils.getABs();return{wrapper:(0,o.default)({"odf-space-inner-top-m odf-space-inner-right-m odf-space-inner-left-m odf-box-content-md":!t,"odf-space-inner-top-m":t,"prisma-responsive-space-horizontal":r,"odf-space-inner-bottom-m":t&&e,"odf-text-md":!0})}};t.getDeleteRoomSelectorClassNames=()=>{const{isCssVariation:e,isCssVariationMobile:t}=i.ABUtils.getABs();return{wrapper:(0,o.default)({"odf-box-content odf-box-content-md":!e,"odf-space-inner-top-m odf-space-inner-bottom-m":e,"prisma-responsive-space-horizontal":t,"odf-strong":!0}),icon:(0,o.default)({"odf-space-inner-right-l":!t,"odf-space-inner-right-s":t,"odf-icon odf-icon-cross-light odf-icon-2xl odf-text-mono-color-05 odf-clickable dp-pax-selector-delete-room":!0})}}},86493:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.useVerifyHotelRooms=void 0;var s=i(r(789821)),l=r(904751),c=r(375156),d=r(877754),u=r(657325);const f=(e,t)=>{var r,n;const o=(0,l.useDispatch)(),i=t?d.NonPrimeHotelPropsDefault.maxKidsAge:d.DpPaxRestrictionPropsDefault.maxKidsAge;if(null==e||null===(r=e[0])||void 0===r||null===(n=r.kids)||void 0===n?void 0:n.length){const t=e[0].kids.filter((e=>e<=i));t.length!==e[0].kids.length&&(o((0,c.updateRoom)(a(a({},e[0]),{},{kids:t}))),u.CurrentAccommodationSearchSessionStorage.setRooms(a(a({},e[0]),{},{kids:t})))}};t.useVerifyHotelRooms=f,f.propTypes={rooms:s.default.array.isRequired,isNonPrimeHotel:s.default.bool.isRequired},f.defaultProps={isNonPrimeHotel:!1}},307063:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchButton=t.ConnectedSearchButton=void 0;var s=r(878969),l=i(r(789821)),c=r(904751),d=r(649741),u=r(375156),f=r(444520),p=r(308148),m=r(657325),g=r(877754),h=r(183868),y=r(696458),v=r(2999),b=r(656410),S=r(726525),_=r(153004),P=r(716870);const E=()=>v.CAMPAIGNS.includes(m.WMPUtils.getCampaignId())&&m.WMPUtils.isCampaignNotExpired(),O=e=>{let{currentSearch:t,hotelStandalone:r}=e;const n="hotels"===m.Config.get("entryPoint")?g.BuyPath.HSA_HOME:g.BuyPath.HSA_HOME_TAB;return y.SearchService.getSearchURL(a(a({},t),{},{hotelStandalone:r,buyPath:E()?g.BuyPath.HSA_LANDING_WMP:m.Config.get("isWMP")?g.BuyPath.HSA_WMP_HOME_TAB:n}))},T=e=>{let{activeProduct:t,buyPaths:r,currentSearch:n,dynPack:o,hotelStandalone:i,hotelPrime:l,isInspirationalSearch:u,isFlightValidSearch:f,isHotelValidSearch:p,isHotelStandaloneValidSearch:v,render:_,setHotel:T,shouldShowResident:k,showErrors:C,trackEvent:w,validationErrors:D,extraTracking:x,showNonPrimeHotelErrors:A,isHotel:R,nonPrimeRoom:j,onErrorCallback:M,getAsyncSearch:N}=e;const[I,L]=(0,s.useState)(!1),[H,U]=(0,s.useState)(!1),F=(0,s.useContext)(h.SearchManagerContext),B=m.Config.get("bookingExtensionSearchURL"),K=(0,d.usePageVisibility)(),W=m.Config.get("isPrimeCookieActive"),q=m.Config.get("isUserLoggedIn"),{tabsStatus:$}=(0,b.useCarsSearchExtension)(),V=t===g.EntryPoint.FLIGHTS,{isHSAHotelFunnel:G}=m.ABUtils.getABs(),z=(0,c.useDispatch)(),{isFetching:Y,searchValue:J}=(0,c.useSelector)((e=>e.asyncSearch)),Z=null==J?void 0:J.id,X=(0,s.useCallback)((e=>{let{searchID:t}=e;const r="hotels"===m.Config.get("entryPoint")?g.BuyPath.HSA_HOME:g.BuyPath.HSA_HOME_TAB;window.location.href=y.SearchService.getSearchURL(a(a({},n),{},{searchId:t,hotelStandalone:i,buyPath:E()?g.BuyPath.HSA_LANDING_WMP:m.Config.get("isWMP")?g.BuyPath.HSA_WMP_HOME_TAB:r}))}),[n,i]);(0,s.useEffect)((()=>{!Y&&Z&&X({searchID:Z})}),[Y,Z,X]);const Q=V&&!o&&G&&W&&q,ee=V&&!o&&G&&!q&&!W,te=V&&!o&&G&&q&&!W,re=(0,s.useCallback)((()=>{const e=O({currentSearch:n,hotelStandalone:i});if(window.open(e,"_blank")){const e=y.SearchService.getCarsSearchExtensionURL({activeProduct:t,currentSearch:n});e&&(window.history.pushState({},""),window.location.replace(e))}else z(N(n))}),[t,n,i,z,N]),ne=(0,s.useCallback)((()=>{$[t].isEnabled?re():z(N(n))}),[z,N,n,$,t,re]),ae=(0,s.useCallback)((()=>{const e=y.SearchService.getSearchURL(a(a({},n),{},{shouldShowResident:k,dynPack:o,activeProduct:t,buyPath:r.DP}));if($[t].isEnabled){if(window.open(e,"_blank")){const e=y.SearchService.getCarsSearchExtensionURL({activeProduct:t,dynPack:o,currentSearch:n});e&&(window.history.pushState({},""),window.location.replace(e))}else window.location.href=e}else window.location.href=e}),[t,r,n,o,k,$]),oe=(0,s.useCallback)((()=>{const e=t===g.EntryPoint.TRAINS?{trainSearch:!0}:{},i=a(a({},n),{},{shouldShowResident:k,activeProduct:t,buyPath:u?g.BuyPath.INSPIRE_ME:t===g.EntryPoint.TRAINS?r.TRAINS:r.FLIGHTS,bookingExtensionSearchURL:B},e);if(!$[t].isEnabled||n.tripType!==g.TripType.ROUND_TRIP&&n.tripType!==g.TripType.ONE_WAY||u)F.onSearch(i);else{const e=y.SearchService.getSearchURL(i);if(window.open(e,"_blank")){const e=y.SearchService.getCarsSearchExtensionURL({activeProduct:t,dynPack:o,currentSearch:n});e&&(window.history.pushState({},""),window.location.replace(e))}else F.onSearch(i)}}),[t,B,r,$,n,u,F,k,o]),ie=(0,s.useCallback)((()=>{A(),C(),M()}),[M,C,A]),se=(0,s.useCallback)((()=>{const e=o?g.TabType.DP:R?g.TabType.HOTELS:g.TabType.FLIGHTS,r=m.TrackingUtils.ACTION[t.toUpperCase()],{tripType:a}=n;D.filter((e=>e.type!==g.ErrorType.SEPARATE_STAY)).forEach((e=>{if(R){if(e.type!==g.ErrorType.DEPARTURE){const t=m.TrackingUtils.LABEL.hotelSearchError({error:e});w({action:r,label:t})}}else{const t=m.TrackingUtils.LABEL.error(e,a);w({action:r,label:t})}}));const i=m.TrackingUtils.LABEL.errorEvent({activeProduct:e});w({action:r,label:i})}),[t,n,o,R,w,D]),le=(0,s.useCallback)((()=>{const e=m.TrackingUtils.ACTION[t.toUpperCase()];if(w({action:e,label:m.TrackingUtils.LABEL.product({isHotel:R,dynPack:o})}),o){const r=m.DynpackRoomUtils.getRoomSelection(n.pax,n.rooms,t),a=m.TrackingUtils.LABEL.roomSelection(r);m.SessionStorageUtils.setValue("LOAD_RESULTS_DP_ACCOMMODATION",Date.now()),w({action:e,label:a})}else if(R){const t=n.rooms.length;let r=0,o=0;n.rooms.forEach((e=>{r+=e.adults,o+=e.kids.length}));const s=m.TrackingUtils.LABEL.hotelSearchLabel({rooms:t,adults:r,children:o});w({action:e,label:s}),w({action:e,label:m.TrackingUtils.LABEL.hotelsDestinationTypeSearch(a(a({},n),{},{rooms:t,adults:r,children:o,supplier:R&&i?g.LocationHotelsSuppliers.HSA:""}))})}else{const t=m.TrackingUtils.LABEL.numberPax(n);w({action:e,label:t}),w({action:e,label:m.TrackingUtils.LABEL.cabinClass(n)}),w({action:e,label:m.TrackingUtils.LABEL.tripType(n)})}if(x(),k){const t=m.TrackingUtils.LABEL.resident(n);w({action:e,label:t})}}),[t,n,o,x,i,R,k,w]),ce=(0,s.useCallback)((()=>{let e;return e=i?v:R||l?p:f,e}),[p,l,R,v,f,i]);(0,s.useEffect)((()=>{H&&(ce()?(le(),t===g.EntryPoint.HOTELS?(L(!0),ne()):o?(L(!0),ae()):oe()):(L(!1),se(),ie()),U(!1))}),[t,ne,oe,ie,se,le,H,o,ae,ce]),(0,s.useEffect)((()=>{!K&&I&&L(!1)}),[K,I]);const de=e=>{let{hotelStandalone:i=!1,hotelHome:s=!1}=e;if(ce()){le();const e=y.SearchService.getSearchURL(a(a({},n),{},{dynPack:o,shouldShowResident:k,activeProduct:t,buyPath:r.FLIGHTS}));if(window.open(e,"_blank")){i&&m.LocalStorageUtils.setValue("searchExtensionCount",1),s&&(()=>{var e,t;const r=null==n||null===(e=n.segments[0])||void 0===e?void 0:e.destination,o=m.DateUtils.toString(null==n||null===(t=n.segments[0])||void 0===t?void 0:t.date),i={tripType:n.tripType,segments:n.segments.map((e=>a(a(a({},e),e.destination?{}:{destination:r}),e.date?{date:m.DateUtils.toString(e.date)}:{date:o})))};r&&o&&m.SessionStorageUtils.setJSON("search-extension-flight-search",i)})();const e=y.SearchService.getSearchExtensionURL({currentSearch:a(a({},n),{},{hotelStandalone:i,hotelHome:s})});e&&((e=>{let{hotelHome:t=!1}=e;t&&(w({action:m.TrackingUtils.ACTION.SEARCH_EXTENSION,label:m.TrackingUtils.LABEL.searchExtension()}),m.TrackingUtils.trackComponentDisplayed({id:"home_".concat(S.SEARCH_EXTENSION_HOTEL_HOME)}))})({hotelHome:s}),window.history.pushState({},""),window.location.replace(e))}else w({action:"search-extension",label:"search-extension-blocked_pag:home"}),window.location.href=e}else se(),ie()};return _({loading:I,onClick:()=>{(()=>{var e;const{isHSAHotelFunnelNative:t}=m.ABUtils.getABs();return(null===(e=m.Config.get("products"))||void 0===e?void 0:e.includes("hotels"))&&!(t||u)&&Q})()&&(()=>{const e=(parseInt(m.LocalStorageUtils.getValue("searchExtensionCount"))||0)+1,t=!(e%2==0);return m.LocalStorageUtils.setValue("searchExtensionCount",e),t})()?de({hotelStandalone:!0}):(()=>{var e;const{isHSAHotelFunnelNative:t,isHomeHotelSearchExtensionFenced:r}=m.ABUtils.getABs(),n=null===(e=m.Config.get("products"))||void 0===e?void 0:e.includes("hotels"),a=!(t||u),o=m.Config.get("entryPoint")!==g.EntryPoint.HOTELS;return n&&a&&o&&(ee||te&&r)})()?de({hotelHome:!0}):t===g.EntryPoint.HOTELS?(L(!0),T(o||l||i),ce()?(le(),ne()):(L(!1),se(),ie())):(T(o||l||i),H||U(!0))},onMouseEnter:()=>{if(t===g.EntryPoint.HOTELS){if(!Boolean(document.getElementById("accommodation_results_prerender"))){const{isHSAResultsPrefetch:e,isHSAResultsPrerender:t}=m.ABUtils.getABs();e?(0,P.addSpeculationRulesPrefetch)("accommodation_results_prerender",["travel/accommodation/hotel_results"],"immediate"):t&&ce()&&(0,P.addSpeculationRulesPrerender)("accommodation_results_prerender",[O({currentSearch:n,hotelStandalone:i})],"immediate")}}}})};t.SearchButton=T,T.propTypes={activeProduct:g.EntryPointProp.isRequired,buyPaths:m.BuyPathContextProp.isRequired,currentSearch:g.SearchProp.isRequired,dynPack:l.default.bool.isRequired,isInspirationalSearch:l.default.bool.isRequired,isFlightValidSearch:l.default.bool.isRequired,isHotelValidSearch:l.default.bool.isRequired,isHotelStandaloneValidSearch:l.default.bool.isRequired,render:l.default.func.isRequired,setHotel:l.default.func.isRequired,shouldShowResident:l.default.bool.isRequired,showErrors:l.default.func.isRequired,trackEvent:l.default.func.isRequired,validationErrors:l.default.arrayOf(g.ProductManagerErrorProp).isRequired,extraTracking:l.default.func,onErrorCallback:l.default.func,getAsyncSearch:l.default.func},T.defaultProps={dynPack:!1,extraTracking:()=>{},onErrorCallback:()=>{}};t.ConnectedSearchButton=(0,c.connect)(((e,t)=>({activeProduct:e.activeProduct.activeProduct,currentSearch:e.currentSearch,isInspirationalSearch:(0,f.isInspirationalSearch)(e),isFlightValidSearch:(0,f.isFlightValidSearch)(e,t),isHotelValidSearch:(0,f.isHotelValidSearch)(e,t),isHotelStandaloneValidSearch:(0,p.isHotelStandaloneValidSearch)(e,t),shouldShowResident:(0,f.getResidentDiscountProps)(e).show,validationErrors:(0,f.getValidationErrorsSelector)(e,t),isHotel:(0,f.isHotelProductActive)(e),nonPrimeRoom:(0,f.getNonPrimeHotelRoom)(e),getAsyncSearch:_.getAsyncSearch})),{showErrors:u.showErrors,showNonPrimeHotelErrors:u.showNonPrimeHotelErrors,setHotel:u.setHotel})((0,m.withBuyPathContext)((0,m.withPageContext)(T)))},527127:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchButtonStyled=void 0;var a=n(r(878969)),o=r(307063),i=r(726525),s=n(r(833045));const l=()=>a.default.createElement("span",{className:"prisma-btn-spinner"},a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null),a.default.createElement("div",null)),c=(0,i.withClickTrack)((e=>{let{children:t,disabled:r,onClick:n,onMouseEnter:o,testId:i,htmlEventID:s,className:l}=e;return a.default.createElement("button",{onClick:n,onMouseEnter:o,disabled:r,type:"button",className:l,"test-id":i,"data-testid":i,"html-event-id":s},t)})),d=e=>{let{version:t,block:r,children:n,disabled:i,dynPack:d,extraTracking:u,hotelPrime:f,testId:p,htmlEventID:m,hotelStandalone:g,onErrorCallback:h}=e;return a.default.createElement(o.ConnectedSearchButton,{extraTracking:u,dynPack:d,hotelPrime:f,hotelStandalone:g,onErrorCallback:h,render:e=>{let{loading:o,onClick:d,onMouseEnter:u}=e;return a.default.createElement(c,{onClick:d,onMouseEnter:u,disabled:i||o,className:(0,s.default)(t,r,o),testId:p,"html-event-id":m},n,o&&a.default.createElement(l,null))}})};t.SearchButtonStyled=d,d.defaultProps={version:"primary",block:!1,disabled:!1,dynPack:!1,hotelPrime:!1,hotelStandalone:!1,extraTracking:()=>{},testId:"search-btn",onErrorCallback:()=>{}}},716870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSpeculationRulesPrerender=t.addSpeculationRulesPrefetch=void 0;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"moderate",n=arguments.length>3?arguments[3]:void 0;if(!HTMLScriptElement.supports("speculationrules"))return;const a=document.createElement("script");a.type="speculationrules",a.id=e,a.text='{"'.concat(n,'":[{"source": "list",\n                      "urls": ["').concat(t.join('","'),'"],\n                      "eagerness": "').concat(r,'"}]}');try{document.head.appendChild(a)}catch(e){return e}};t.addSpeculationRulesPrerender=function(e){return r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0,"prerender")};t.addSpeculationRulesPrefetch=function(e){return r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0,"prefetch")}},833045:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const{isCssVariation:n,isCssVariationMobile:i}=o.ABUtils.getABs();return(0,a.default)({"odf-btn":!n,"odf-btn-lg odf-btn-flex":!n&&!t,"odf-btn-xl-flex odf-btn-block":!n&&t,"prisma-btn-loading loading":r,["odf-btn-".concat(e)]:!n&&!r,"prisma-btn prisma-btn-default prisma-btn-round":n&&"secondary"===e,"prisma-btn prisma-btn-highlight prisma-btn-round":n&&"primary"===e,"prisma-btn-block":i&&t,"prisma-btn prisma-btn-text":n&&"text"===e})};var a=n(r(685775)),o=r(657325)},794998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(527127);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},649741:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePageVisibility=void 0;var n=r(878969);function a(){return!document[void 0!==document.hidden?"hidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0]}t.usePageVisibility=()=>{const[e,t]=(0,n.useState)(a()),r=()=>t(a());return(0,n.useEffect)((()=>{const e=void 0!==document.hidden?"visibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;return document.addEventListener(e,r,!1),()=>{document.removeEventListener(e,r)}})),e}},183868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchManagerContext=void 0;var n=r(878969);t.SearchManagerContext=(0,n.createContext)({onSearch:()=>{}})},420682:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchManager=void 0;var a=n(r(789821)),o=r(878969),i=r(904751),s=r(243430),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(342280)),c=r(847751),d=r(938488),u=r(657325),f=r(696458);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}const m=e=>{let{children:t}=e;const r=(0,i.useDispatch)(),n=(0,i.useSelector)((e=>e));return(0,o.useEffect)((()=>{const e=u.URLUtils.getHomeHashParams();(0,s.isEmpty)(e)||r((0,c.getGeoLocations)(e)),l.isAllowed("localStorage","previous-search-data")?r((0,d.initPreviousSearches)()):l.onChangeUserCMP((()=>{r((0,d.initPreviousSearches)())}))}),[r]),(0,o.useEffect)((()=>{n.currentSearch&&f.CurrentAccommodationSearchService.updateReduxStoreOrInitializeSessionStorage(n,r)}),[]),t};t.SearchManager=m,m.propTypes={children:a.default.node.isRequired}},319118:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchManagerDesktop=void 0;var a=n(r(878969)),o=r(877754),i=r(420682),s=r(196653);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}const d=a.default.lazy((()=>Promise.resolve().then((()=>c(r(64612)))).then((e=>({default:e.ConnectedTabManager}))))),u=a.default.lazy((()=>Promise.resolve().then((()=>c(r(238343)))).then((e=>({default:e.DynpackManagerDesktop}))))),f=a.default.lazy((()=>Promise.resolve().then((()=>c(r(425035)))).then((e=>({default:e.FlightsManagerDesktop}))))),p=e=>{let{showTabs:t,entryPoint:r,isHotelOptionEnabled:n,wmpProductList:l,rootDataAttr:c}=e;return a.default.createElement(i.SearchManager,null,a.default.createElement(s.PixelTracking,{entryPoint:r}),t?a.default.createElement(d,{wmpProductList:l,rootDataAttr:c,entryPoint:r}):r===o.EntryPoint.DP?a.default.createElement(u,null):a.default.createElement(f,{isHotelOptionEnabled:n,rootDataAttr:c}))};t.SearchManagerDesktop=p,p.defaultProps={showTabs:!1,isHotelOptionEnabled:!1,entryPoint:o.EntryPointPropDefault,wmpProductList:"",rootDataAttr:{}}},2814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchManagerMobile=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),a=r(904751),o=r(774884),i=r(703443),s=r(304390),l=r(420682),c=r(877754),d=r(990443),u=r(271931),f=r(841209),p=r(196653);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}const g=e=>{let{isHotelOptionEnabled:t,entryPoint:r,rootDataAttr:m}=e;const g=(0,a.useDispatch)(),{usersResponse:h,initial:y,isFetching:v}=(0,a.useSelector)((e=>(0,u.userAuthenticationSelector)(e))),b=0!==Object.keys(h).length&&null!==(null==h?void 0:h.userDTO);switch((0,n.useEffect)((()=>{!y&&!v&&(0,f.propagateLoginStatusToOdigeoJS)(b,h)}),[y,v,b,h]),(0,n.useEffect)((()=>{g((0,d.isLoggedIn)())}),[]),r){case c.EntryPoint.DP:return n.default.createElement(l.SearchManager,null,n.default.createElement(p.PixelTracking,{entryPoint:r}),n.default.createElement(i.DynpackManagerMobile,{rootDataAttr:m}));case c.EntryPoint.HOTELS:return n.default.createElement(l.SearchManager,null,n.default.createElement(p.PixelTracking,{entryPoint:r}),n.default.createElement(s.HotelManagerMobile,{rootDataAttr:m}));case c.EntryPoint.TRAINS:return n.default.createElement(l.SearchManager,null,n.default.createElement(o.FlightsManagerMobile,{isHotelOptionEnabled:!1,rootDataAttr:m}));default:return n.default.createElement(l.SearchManager,null,n.default.createElement(p.PixelTracking,{entryPoint:r}),n.default.createElement(o.FlightsManagerMobile,{isHotelOptionEnabled:t,rootDataAttr:m}))}};t.SearchManagerMobile=g,g.defaultProps={isHotelOptionEnabled:!1,entryPoint:c.EntryPointPropDefault,rootDataAttr:{}}},496014:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(319118);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(2814);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},943098:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SeparateStayDateDesktop=void 0;var a=n(r(878969)),o=r(365683),i=r(495966),s=r(671295);const l=e=>{let{index:t,onChangeFocus:r,open:n,placeholderKey:l,isDatesRangeShown:c,roundedCornersFirst:d,roundedCornersLast:u}=e;const{t:f}=(0,o.useTranslation)();return a.default.createElement(i.ConnectedSeparateStayDate,{index:t},(e=>{let{error:t,dates:o,minDate:i,maxDate:p,setValue:m,value:g}=e;return a.default.createElement(s.DatePicker,{value:g,onSelect:m,dates:o,isDatesRangeShown:c,maxDate:p,minDate:i,placeholder:f(l),validationError:t,open:n,onChangeFocus:r,roundedCornersFirst:d,roundedCornersLast:u})}))};t.SeparateStayDateDesktop=l,l.defaultProps={isDatesRangeShown:!1,open:!1,roundedCornersFirst:!1,roundedCornersLast:!1}},356746:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.SeparateStay=t.ConnectedSeparateStay=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),s=r(904751),l=r(445310),c=r(654995),d=r(311397),u=r(375156),f=r(444520),p=r(288429),m=r(468224),g=r(657325);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}class y extends i.Component{constructor(){super(...arguments),this.onSeparateStayChange=()=>{const{setSeparateStay:e,separateStay:t,trackEvent:r}=this.props,n=!t.enabled;r({action:g.TrackingUtils.ACTION.DP,label:g.TrackingUtils.LABEL.separateStay({enabled:n})}),e(a(a({},t),{},{enabled:n}))}}render(){const{separateStay:e,shouldShowSeparateStay:t}=this.props,r={id:"separate-stay-switcher",checked:e.enabled,onChange:this.onSeparateStayChange,disabled:!t};return i.default.createElement(i.default.Fragment,null,t&&i.default.createElement("div",{className:"odf-row odf-row-top odf-row-nogutter odf-space-outer-top-s"},i.default.createElement("div",{className:"odf-col odf-col-span6"},i.default.createElement("div",{className:"odf-space-outer-top-s"},i.default.createElement(d.Checkbox,r,i.default.createElement(c.CMS,{id:"flightsManager.accommodation.checkInDates"})))),e.enabled&&i.default.createElement(m.SeparateStayCalendars,{show:!0})))}}t.SeparateStay=y,y.defaultProps={separateStay:{enabled:!1}};const v=(0,l.createStructuredSelector)({separateStay:f.getSeparateStay,shouldShowSeparateStay:f.shouldShowSeparateStay});t.ConnectedSeparateStay=(0,s.connect)(v,{setSeparateStay:u.setSeparateStay})((0,p.withPageContext)(y))},468224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeparateStayCalendars=t.ConnectedSeparateStayCalendars=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),a=r(904751),o=r(445310),i=r(877754),s=r(943098),l=r(40202),c=r(444520);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}class u extends n.Component{constructor(){super(...arguments),this.state={fieldFocused:null},this.onChangeFocusSeparateStay=(e,t,r)=>{const n=r||0;t?this.setState({fieldFocused:{leg:n,field:e}}):this.setState({fieldFocused:!1})},this.onChangeFocusSeparateStayReturnLeg=(e,t)=>{this.onChangeFocusSeparateStay(e,t,1)}}render(){const{show:e}=this.props,{fieldFocused:t}=this.state,r=t?t.field:null,a=t?t.leg:null;return e&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"SegmentManagerDP-SSDeparture odf-space-inner-top-s"},n.default.createElement(s.SeparateStayDateDesktop,{index:0,isDatesRangeShown:!0,open:r===i.FieldType.DATE&&0===a,onChangeFocus:this.onChangeFocusSeparateStay,placeholderKey:"calendar.departureDateSeparateStay",roundedCornersFirst:!0})),n.default.createElement("div",{className:"SegmentManagerDP-SSReturn odf-calendar-end odf-space-inner-top-s"},n.default.createElement(s.SeparateStayDateDesktop,{index:1,isDatesRangeShown:!0,open:r===i.FieldType.DATE&&1===a,onChangeFocus:this.onChangeFocusSeparateStayReturnLeg,placeholderKey:"calendar.returnDateSeparateStay",roundedCornersLast:!0})))}}t.SeparateStayCalendars=u;const f=(0,o.createStructuredSelector)({show:c.getSeparateStayEnabled});t.ConnectedSeparateStayCalendars=(0,a.connect)(f)((0,l.withPageContext)(u))},992658:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SeparateStayCheckbox=t.ConnectedSeparateStayCheckbox=void 0;var s=i(r(878969)),l=r(904751),c=r(445310),d=r(654995),u=r(311397),f=r(375156),p=r(444520),m=r(288429),g=r(657325);const h=e=>{let{separateStay:t,setSeparateStay:r,trackEvent:n,shouldShowSeparateStay:o}=e;const i={id:"separate-stay-switcher",checked:t.enabled,onChange:()=>{const e=!t.enabled,o=g.TrackingUtils.ACTION.DP,i=g.TrackingUtils.LABEL.separateStay({enabled:e});n({action:o,label:i}),r(a(a({},t),{},{enabled:e}))},disabled:!o};return s.default.createElement(s.default.Fragment,null,o&&s.default.createElement("div",{className:"odf-space-inner-bottom-s"},s.default.createElement(u.Checkbox,i,s.default.createElement(d.CMS,{id:"flightsManager.accommodation.checkInDates"}))))};t.SeparateStayCheckbox=h,h.defaultProps={separateStay:{enabled:!1}};const y=(0,c.createStructuredSelector)({separateStay:p.getSeparateStay,shouldShowSeparateStay:p.shouldShowSeparateStay});t.ConnectedSeparateStayCheckbox=(0,l.connect)(y,{setSeparateStay:f.setSeparateStay})((0,m.withPageContext)(h))},495966:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SeparateStayDate=t.ConnectedSeparateStayDate=void 0;var s=i(r(789821)),l=r(904751),c=r(445310),d=r(375156),u=r(657325),f=r(444520);const p=e=>{let{children:t,index:r,segments:n,separateStay:o,setSeparateStay:i,separateStayError:s}=e;const l=u.DateUtils.stringToDate(n[0].date),c=u.DateUtils.stringToDate(n[1].date),d=u.DateUtils.stringToDate(u.DynpackRoomUtils.getSeparateStayValidDate(u.DateUtils.stringToDate(o.checkInDate),l,-1)),f=u.DateUtils.stringToDate(u.DynpackRoomUtils.getSeparateStayValidDate(u.DateUtils.stringToDate(o.checkOutDate),c,1));return t({error:s,dates:[d,f],minDate:0===r?l:u.DateUtils.add(d,1),maxDate:0===r?u.DateUtils.add(f,-1):c,setValue:e=>{i(a(a({},o),{},0===r?{checkInDate:e}:{checkOutDate:e}))},value:0===r?d:f})};t.SeparateStayDate=p,p.propTypes={children:s.default.func.isRequired};const m=(0,c.createStructuredSelector)({segments:f.getSegments,separateStay:f.getSeparateStay,separateStayError:f.getSeparateStayErrorSelector});t.ConnectedSeparateStayDate=(0,l.connect)(m,{setSeparateStay:d.setSeparateStay})((0,u.withPageContext)(p))},933087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(356746);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(468224);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=r(495966);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(992658);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},876591:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SiteSelector=void 0;var s=i(r(789821)),l=r(657325);const c=e=>{let{render:t}=e;const r=l.Config.get("website"),n=l.Config.get("lang").substring(0,2),o=l.Config.get("isMultipleLocales")?"".concat(r,"_").concat(n):r,i=JSON.parse(l.Config.get("countrySelectorConfig")).continentItems.map((e=>e.countryDTOs),[]).flat().sort(((e,t)=>e.id<t.id?-1:1)).map((e=>e.countryDTOs?e.countryDTOs.map((t=>a(a({},e),t)),[]):e)).flat()||[],s=i.findIndex((e=>"AR"===e.id));s>=0&&(i[s].currency="US$");return t({selected:o,websiteList:i,language:n,handleChange:e=>{const t=i.find((t=>t.id===e.target.value)).link,{protocol:r}=window.location;window.location.href="".concat(r).concat(t)}})};t.SiteSelector=c,c.propTypes={render:s.default.func.isRequired}},748658:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SiteSelectorHeaderInner=t.SiteSelectorHeader=void 0;var a=n(r(878969)),o=r(876591),i=r(174971),s=r(657325);const l=e=>{let{selected:t,websiteList:r,language:n,handleChange:o,trackEvent:l}=e;const c=r.find((e=>e.id===t)),d="odf-space-outer-top-s odf-flag odf-flag-xs odf-flag-".concat(c.icon.toLocaleLowerCase());return a.default.createElement("div",{onClick:()=>{const e=s.TrackingUtils.ACTION.HEADER;l({action:e,label:"header_country"})}},a.default.createElement(i.SiteSelectorList,{selected:t,websiteList:r,handleChange:e=>{const t=s.TrackingUtils.ACTION.HEADER,r="header_country_".concat(e.target.value);l({action:t,label:r}),o(e)},styles:{width:"90px",height:"30px",top:"15px"}}),a.default.createElement("div",{style:{pointerEvents:"none"}},a.default.createElement("div",{className:"odf-flex-container-row"},a.default.createElement("div",{className:"odf-flex-item"},a.default.createElement("span",{className:d})),a.default.createElement("div",{className:"odf-flex-item"},a.default.createElement("span",{className:"odf-text-mono-color-09",dangerouslySetInnerHTML:{__html:"".concat(n.toUpperCase()," (").concat(c.currency,")")}})))))};t.SiteSelectorHeaderInner=l;const c=(0,s.withPageContext)(l);t.SiteSelectorHeader=()=>a.default.createElement(o.SiteSelector,{render:e=>{let{selected:t,websiteList:r,language:n,handleChange:o}=e;return a.default.createElement(c,{selected:t,websiteList:r,language:n,handleChange:o})}})},174971:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.SiteSelectorList=void 0;var s=i(r(878969));const l=e=>{let{selected:t,handleChange:r,websiteList:n,styles:o}=e;return s.default.createElement("select",{value:t,onChange:r,style:a(a({},o),{},{opacity:0,position:"absolute"})},n.map((e=>s.default.createElement("option",{key:e.id,value:e.id,dangerouslySetInnerHTML:{__html:"".concat(e.label," (").concat(e.currency,")&lrm;")}}))))};t.SiteSelectorList=l,l.defaultProps={styles:{}}},456660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(876591);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(748658);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=r(174971);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},777696:(e,t,r)=>{"use strict";const n=["listener"];var a=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),i=a(r(789821));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function l(e){let{listener:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n);const a=(0,o.useRef)(null),i=function(e,t){function r(){setTimeout((()=>{document.activeElement===e.current&&t()}),0)}return r}(a,t);(0,o.useEffect)((()=>(window.addEventListener("blur",i),()=>{window.removeEventListener("blur",i)})),[i]);return o.default.Children.map(r.children,(e=>o.default.cloneElement(e,{getIframeRef:()=>a})))}l.propTypes={listener:i.default.func.isRequired};t.default=l},894626:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.IframeProductManager=void 0;var a=n(r(878969));const o=e=>{let{height:t,getIframeRef:r,url:n,isHotel:o}=e;return a.default.createElement("div",{className:!o&&"odf-box"},a.default.createElement("iframe",{src:n,className:"iframe_manager",style:{height:t,width:"100%",border:"none",marginTop:"3px"},scrolling:"no",ref:r()}))};t.IframeProductManager=o,o.defaultProps={getIframeRef:()=>null,isHotel:!1}},863130:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(365683),s=r(904751),l=r(657325),c=r(877754),d=r(656807),u=r(271931),f=r(726525);const p=e=>{let{id:t,onClickTab:r,isActive:n,icon:p,textKey:m,bubbleKey:g,tabIds:h=[]}=e;const{t:y}=(0,i.useTranslation)(),v=y(g),b=v&&!n,S=(0,s.useSelector)((e=>(0,u.isPrimeUserSelector)(e))),_=l.Config.get("isShowHotelWidget")&&S,P=l.Config.get("isShowCarWidget")&&S,E=P||_,O=t===c.TabType.CARS&&P,T=t===c.TabType.HOTELS&&_,k=O||T,C=(0,o.default)({"odf-tabs-item":!0,active:n,"odf-tooltip-container open":k||b}),w=(0,o.default)({"odf-icon odf-icon-2xl odf-space-outer-right-xs odf-icon-bidi":!0,[p]:!0}),D=(0,f.withClickTrack)((e=>{let{onClick:r}=e;return a.default.createElement("div",{className:C,onClick:r,"test-id":"tab-".concat(t)},E?(()=>{var e,r;const o="OPNL"===(null===(e=window.Odigeo)||void 0===e||null===(r=e.SessionScope)||void 0===r?void 0:r.website)?"prime-light-font-color":"prime",i=h.includes(c.TabType.DP);let s=null,l=null,u="left";return k&&!n&&(s=y("prime.home.searchbox.".concat(t,".discount.tooltip")),l="product-selector_onload:prime-".concat(t,"_pag:home")),O&&!i&&(u="right"),s?a.default.createElement(d.Tooltip,{style:{marginBottom:3,marginLeft:10,borderRadius:20},text:s,position:u,type:o,tracking:l}):null})():(()=>{if(b)return a.default.createElement(d.Tooltip,{text:v,position:"center",type:"positive",style:{marginBottom:"unset"}})})(),a.default.createElement("span",{className:w}),a.default.createElement("span",null,a.default.createElement(l.CMS,{id:m})))})),x=t===c.TabType.HOTELS?f.HSA_SEARCH_FORM_TAB_DESKTOP_CLICK:null;return a.default.createElement(D,{onClick:()=>{r(t)},"html-event-id":x})};t.Tab=p,p.defaultProps={isActive:!1,bubbleKey:""}},64612:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TabManager=t.ConnectedTabManager=void 0;var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),l=r(904751),c=r(365683),d=r(774884),u=r(703443),f=r(91262),p=r(863130),m=r(894626),g=r(657325),h=r(877754),y=r(329933),v=r(375156),b=i(r(777696)),S=i(r(559186)),_=r(352446),P=r(304390),E=r(990443),O=r(271931),T=r(841209);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}const C=()=>{g.TrackingUtils.trackEvent({action:"searcher_cars",label:"clicked_cars_iframe"})},w=e=>{const{usersResponse:t,initial:r,isFetching:n}=(0,l.useSelector)((e=>(0,O.userAuthenticationSelector)(e))),o=0!==Object.keys(t).length&&null!==(null==t?void 0:t.userDTO),i=(0,s.useCallback)((()=>{var e;return null!==(e=t.membership)&&void 0!==e&&e}),[t.membership]),[y,v]=(0,s.useState)((e=>{let{activeTab:t,rootDataAttr:r}=e;return(null==r?void 0:r.activetab)?r.activetab:t})({activeTab:e.activeTab,rootDataAttr:e.rootDataAttr})),[k,w]=(0,s.useState)(""),[D,x]=(0,s.useState)(""),A=g.Config.get("isShowCarWidget")&&i(),R=g.Config.get("isPrimeEnabled"),j=g.Config.get("isHotelsForPrime"),M=g.Config.get("isCarsForPrime"),{t:N}=(0,c.useTranslation)(),I=(0,s.useRef)(),L=(0,l.useDispatch)(),H=(e=>{let{isPrimeEnabled:t,isPrimeUser:r,isPrimeCookieActive:n,isUserLoggedIn:a}=e;return{isPrimeBenefits:t&&r,isPrimeBanner:t&&!a&&!r,isUserMember:r,isPrimeCookieActive:n,currencyCode:g.Config.get("i18n").currency.currencyCode}})({isPrimeEnabled:R,isPrimeUser:i(),isPrimeCookieActive:i(),isUserLoggedIn:o});(0,s.useEffect)((()=>{L((0,E.isLoggedIn)())}),[L]),(0,s.useEffect)((()=>{!r&&!n&&(0,T.propagateLoginStatusToOdigeoJS)(o,t)}),[r,n,o,t]),(0,s.useEffect)((()=>{!async function(){const e="home.services.".concat(y,".url");let t;if(y===h.TabType.HOTELS)t=(0,g.setParams)(N(e),{selected_currency:H.currencyCode});else if(y===h.TabType.VP)t=N("home.services.holidaypackages.url");else if(y===h.TabType.CARS){const e=i()&&M?"home.services.".concat(h.TabType.CARS,".cartrawler.url"):"home.services.".concat(h.TabType.CARS,".url");t=(0,g.setParams)(N(e),{curr:H.currencyCode})}else t=N(e);const r=await g.TrackingUtils.addCrossDomainTracking(t);w(r),y===h.TabType.CARS&&x(r)}()}),[H.currencyCode,i,M,y,N]);const U=(()=>{const t=g.Config.get("products"),r=e.wmpProductList.length>0?e.wmpProductList.split(",").filter((e=>t.includes(e))):[];return r.length>0?r:t})(),F=U.includes(h.TabType.DP);-1===U.indexOf(y)&&e.setActiveProduct(U[0]);const B=(0,s.useMemo)((()=>{const{entryPoint:t}=e,{rootDataAttr:r}=e,{isAbTrain:n}=g.ABUtils.getABs(),a=g.Config.get("isWMP");return[{id:h.TabType.FLIGHTS,icon:"odf-icon-flight",textKey:n?"home.services.flights.TRAINS":"home.services.flights.main",render:()=>s.default.createElement(g.ErrorBoundary,{key:h.TabType.FLIGHTS},A&&s.default.createElement(S.default,null),s.default.createElement(g.BuyPathContext.Provider,{value:{FLIGHTS:!a||t!==h.EntryPoint.HOME&&t!==h.EntryPoint.FLIGHTS?h.BuyPath.FLIGHTS_PAGE:h.BuyPath.HOME_PAGE_WMP_FLIGHTS_TAB,DP:h.BuyPath.getDP(t,!1,a)}},s.default.createElement(d.FlightsManagerDesktop,{isHotelOptionEnabled:F,rootDataAttr:r,isRailsSearcher:!1})))},{id:h.TabType.HOTELS,icon:"odf-icon-hotel",render:()=>s.default.createElement(P.HotelTabManager,{rootDataAttr:r,isHotelsHomepage:t===h.EntryPoint.HOTELS}),textKey:"home.services.hotels.text"},{id:h.TabType.DP,icon:n?"odf-icon-baggage":"odf-icon-flight-hotel",textKey:n?"home.services.flighthotel.TRAINS":"home.services.flighthotel.main",bubbleKey:"home.services.bubble.dp",render:()=>s.default.createElement(g.ErrorBoundary,{key:h.TabType.DP},A&&s.default.createElement(S.default,null),s.default.createElement(g.BuyPathContext.Provider,{value:{FLIGHTS:!a||t!==h.EntryPoint.HOME&&t!==h.EntryPoint.FLIGHTS?h.BuyPath.FLIGHTS_PAGE:h.BuyPath.HOME_PAGE_WMP_FLIGHTS_TAB,DP:h.BuyPath.getDP(t,!0,a)}},s.default.createElement(u.DynpackManagerDesktop,null)))},{id:h.TabType.TRAINS,icon:"odf-icon-train-right",textKey:"home.services.flights.TRAINS",render:()=>s.default.createElement(g.ErrorBoundary,{key:h.TabType.TRAINS},A&&s.default.createElement(S.default,null),s.default.createElement(g.BuyPathContext.Provider,{value:{FLIGHTS:!a||t!==h.EntryPoint.HOME&&t!==h.EntryPoint.FLIGHTS?h.BuyPath.FLIGHTS_PAGE:h.BuyPath.HOME_PAGE_WMP_FLIGHTS_TAB,TRAINS:h.BuyPath.HOME_RAIL_TAB}},s.default.createElement(d.FlightsManagerDesktop,{isHotelOptionEnabled:!1,rootDataAttr:r,isRailsSearcher:!0})))},{id:h.TabType.CARS,icon:"odf-icon-car",textKey:"home.services.cars.text",render:()=>A&&s.default.createElement(S.default,null)},{id:h.TabType.HOLIDAYSPACKAGES,icon:"odf-icon-weather",textKey:"home.services.holidaypackages.text",render:()=>s.default.createElement(g.ErrorBoundary,{key:h.TabType.HOLIDAYSPACKAGES},A&&s.default.createElement(S.default,null),s.default.createElement(m.IframeProductManager,{product:h.TabType.HOLIDAYSPACKAGES,height:"311px",appContext:H,url:k}))},{id:h.TabType.VP,icon:"odf-icon-weather",textKey:"home.services.holidaypackages.text",render:()=>s.default.createElement(g.ErrorBoundary,{key:h.TabType.VP},A&&s.default.createElement(S.default,null),s.default.createElement(m.IframeProductManager,{product:h.TabType.VP,height:"245px",appContext:H,url:k}))}]}),[F,H,e,A,k]),K=()=>U.map((e=>B.find((t=>t.id===e))));(e=>{let{wmpProductList:t,setActiveProduct:r,selectedTab:n}=e;t.length&&n===h.EntryPoint.HOTELS&&r(n)})({wmpProductList:e.wmpProductList,setActiveProduct:e.setActiveProduct,selectedTab:y});const W=e=>{const t=document.getElementById("home_login_toggle");t&&(t.style.display=e!==h.TabType.HOTELS?"none":"block")},q=function(t){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{setActiveProduct:n,setHotel:o,setSeparateStay:i,setTripType:s,tripType:l,updateSegment:c,updateSearcherConfig:d,segments:u,showErrors:f}=e;if((e=>{const t=document.getElementById("home_hottest_deals_container");t&&(t.style.display=e!==h.TabType.FLIGHTS?"none":"block")})(t),W(t),t!==(null==I?void 0:I.current)){if(I.current=t,n(t),v(t),t!==h.TabType.DP&&t!==h.TabType.HOTELS||l===h.TripType.ROUND_TRIP||(s(h.TripType.ROUND_TRIP),d(h.searcherConfigs.default)),t===h.TabType.TRAINS&&l===h.TripType.MULTIPLE&&s(h.TripType.ROUND_TRIP),o(t===h.TabType.DP||t===h.TabType.HOTELS),i({enabled:!1}),(t=>{const{segments:r}=e,n=r[0].destination||{},a=n.caption,o=(t===h.TabType.FLIGHTS||t===h.TabType.DP)&&!n.iata,i=t!==h.TabType.FLIGHTS&&0===n.geoNodeId;return a||o||i})(t)){c(a(a({},u[0]),{},{destination:null}),u[0].id)}f(!1),r&&$(t)}},$=t=>{const{trackEvent:r}=e,n=g.TrackingUtils.ACTION.PRODUCT_SELECTOR;let a=g.TrackingUtils.LABEL.productSelector(t);t!==h.TabType.CARS&&t!==h.TabType.HOTELS||(H.isPrimeBenefits&&M&&t===h.TabType.CARS||H.isPrimeBenefits&&j&&t===h.TabType.HOTELS?a+=":prime_pag:home":a+=":no-prime_pag:home"),r({action:n,label:a})};return W(y),s.default.createElement("div",null,s.default.createElement("div",{className:"odf-tabs-sm"},K().map((e=>s.default.createElement(p.Tab,Object.assign({},e,{isActive:e.id===y,key:e.id,onClickTab:q,tabIds:U}))))),s.default.createElement("div",{className:"odf-tabs-panel odf-tabs-manager-content","data-testid":"searcher-active-".concat(y)},(()=>{const e=K().find((e=>e.id===y));return e?e.render(k):s.default.createElement(s.default.Fragment,null)})(),s.default.createElement("div",{style:{display:y===h.TabType.CARS?"block":"none"}},s.default.createElement(g.ErrorBoundary,{key:h.TabType.CARS},H.isPrimeBenefits&&M&&s.default.createElement(_.PrimeBenefitBanner,{bannerTextKey:"prime.home.searchbox.".concat(h.TabType.CARS,".discount.banner"),classAttribute:"odf-space-outer-left-l",pillCmsKey:"prime.home.searchbox.pill.new"}),H.isPrimeBanner&&M&&s.default.createElement(f.PrimeBanner,{tabType:h.TabType.CARS}),s.default.createElement(b.default,{listener:C},s.default.createElement(m.IframeProductManager,{product:h.TabType.CARS,height:"330px",appContext:H,url:D}))))))};t.TabManager=w,w.defaultProps={activeTab:h.TabTypePropDefault,entryPoint:h.EntryPointPropDefault,tripType:h.TripTypePropDefault,separateStay:{enabled:!1},segments:[],wmpProductList:"",updateSearcherConfig:()=>{}};t.ConnectedTabManager=(0,l.connect)((e=>{let{activeProduct:t,currentSearch:r}=e;return{activeTab:t.activeProduct,tripType:r.tripType,segments:r.segments,separateStay:r.separateStay}}),{setActiveProduct:y.setActiveProduct,setHotel:v.setHotel,setTripType:v.setTripType,updateSegment:v.updateSegment,updateSearcherConfig:v.updateSearcherConfig,setSeparateStay:v.setSeparateStay,showErrors:v.showErrors})((0,c.withTranslation)()((0,g.withPageContext)(w)))},740251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(64612);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},253313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopDestinationItem=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),a=r(288429),o=(r(70355),r(847876)),i=r(657325);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}class l extends n.PureComponent{constructor(){super(...arguments),this.onClickItem=()=>{const{index:e,item:t,onClickItem:r,trackEvent:n}=this.props;n({action:"recommended_destinations",label:"rec_sel_home_"+(e+1)}),r(t)}}render(){const{isCssVariationMobile:e}=i.ABUtils.getABs(),{item:t,isFixedWidth:r}=this.props,a=", ".concat(t.country);return n.default.createElement(o.DropdownItem,{onClick:this.onClickItem,iconClass:"odf-icon-city odf-icon-bidi",isFixedWidth:r,iataCode:e?t.iata:""},n.default.createElement("span",null,t.city,a))}}l.defaultProps={isFixedWidth:!1};t.TopDestinationItem=(0,a.withPageContext)(l)},367114:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TopDestinationsDesktop=t.ConnectedTopDestinations=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(904751),i=n(r(789821)),s=r(445310),l=r(253313),c=r(450903),d=r(346701);r(70355);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}class f extends a.PureComponent{componentDidMount(){const{getTopDestinations:e}=this.props;e()}render(){const{show:e,onClickItem:t,options:r,topDestinations:n}=this.props,o=n.slice(0,r.sizeList);return a.default.createElement(a.default.Fragment,null,e&&o.map(((e,r)=>a.default.createElement(l.TopDestinationItem,{key:e.id,index:r,item:e,onClickItem:t}))))}}t.TopDestinationsDesktop=f,f.defaultProps={options:{sizeList:3},show:!0,topDestinations:[]};const p=(0,s.createStructuredSelector)({topDestinations:d.getTopDestinationsSelector});(t.ConnectedTopDestinations=(0,o.connect)(p,{getTopDestinations:c.getTopDestinations})(f)).propTypes={id:i.default.number.isRequired}},700121:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TopDestinationsMobile=t.ConnectedTopDestinationsMobile=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(878969)),o=r(904751),i=n(r(789821)),s=r(445310),l=r(253313),c=r(450903),d=r(346701);r(70355);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}class f extends a.PureComponent{componentDidMount(){const{getTopDestinations:e}=this.props;e()}render(){const{show:e,onClickItem:t,options:r,topDestinations:n}=this.props,o=n.slice(0,r.sizeList);return a.default.createElement(a.default.Fragment,null,e&&o.map(((e,r)=>a.default.createElement(l.TopDestinationItem,{key:e.id,index:r,item:e,onClickItem:t,isFixedWidth:!0}))))}}t.TopDestinationsMobile=f,f.defaultProps={options:{sizeList:3},show:!0,topDestinations:[]};const p=(0,s.createStructuredSelector)({topDestinations:d.getTopDestinationsWithoutPreviousSearchesSelector});(t.ConnectedTopDestinationsMobile=(0,o.connect)(p,{getTopDestinations:c.getTopDestinations})(f)).propTypes={id:i.default.number.isRequired}},646064:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TopDestinationsSourceDesktop=function(e){let{id:t,activeProduct:r}=e;return{render:function(){let{onClickItem:e,displayedWord:n=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=!i.LocationUtils.isKeywordLongEnoughAccordingWithLanguage(n,i.Config.get("autocompleteOptions"),r);return a.default.createElement(o.ConnectedTopDestinations,{key:"top-destinations",id:t,onClickItem:e,show:s})}}};var a=n(r(878969)),o=r(367114),i=r(657325)},155565:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TopDestinationsSourceMobile=function(e){let{id:t,activeProduct:r}=e;return{render:function(){let{onClickItem:e,displayedWord:n=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=!i.LocationUtils.isKeywordLongEnoughAccordingWithLanguage(n,i.Config.get("autocompleteOptions"),r);return a.default.createElement(o.ConnectedTopDestinationsMobile,{key:"top-destinations",id:t,onClickItem:e,show:s})}}};var a=n(r(878969)),o=r(700121),i=r(657325)},450137:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(253313);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(367114);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},305388:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TripTypeItemDesktop=void 0;var a=n(r(878969)),o=r(365683),i=r(877754),s=r(76907);t.TripTypeItemDesktop=e=>{let{tripType:t,selected:r,onChange:n}=e;const{t:l}=(0,o.useTranslation)();return a.default.createElement("div",{className:"odf-col odf-space-outer-right-m"},a.default.createElement(s.RadioButton,{checked:t===r,id:"tripTypeSwitcher_".concat(t),onChange:()=>n(t)},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(l((0,i.getCMSTripTypes)()[t]))}})))}},212443:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TripTypeSelector=void 0;var a=n(r(878969)),o=r(904751),i=n(r(789821)),s=r(224055),l=r(375156),c=r(444520),d=r(288429),u=r(657325);const f=a.default.memo((e=>{let{render:t,trackEvent:r}=e;const n=(0,o.useDispatch)();return t((0,o.useSelector)((e=>(0,c.getTripType)(e)))||s.TripTypePropDefault,(e=>{n((0,l.setTripType)(e));const t=u.TrackingUtils.LABEL.tripTypeSelect(e);r({action:u.TrackingUtils.ACTION.FLIGHTS,label:t})}))}));f.propTypes={render:i.default.func.isRequired,trackEvent:i.default.func.isRequired};t.TripTypeSelector=(0,d.withPageContext)(f)},63612:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TripTypeSelectorDesktopInner=t.TripTypeSelectorDesktop=void 0;var a=n(r(878969)),o=r(212443),i=r(877754),s=r(305388);const l=e=>{let{value:t,onChange:r,isRailsSearcher:n}=e;const o=Object.values(i.TripType);return n&&o.splice(o.indexOf(i.TripType.MULTIPLE),1),a.default.createElement("div",{className:"odf-row-inline odf-row-nogutter"},o.map((e=>a.default.createElement(s.TripTypeItemDesktop,{key:e,onChange:r,selected:t,tripType:e}))))};t.TripTypeSelectorDesktopInner=l,l.defaultProps={value:i.TripTypePropDefault};t.TripTypeSelectorDesktop=e=>{let{isRailsSearcher:t}=e;return a.default.createElement(o.TripTypeSelector,{render:(e,r)=>a.default.createElement(l,{onChange:r,value:e,isRailsSearcher:t})})}},577930:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TripTypeSelectorMobile=void 0;var a=n(r(878969)),o=n(r(685775)),i=r(365683),s=r(904751),l=r(212443),c=r(877754),d=r(838627),u=r(657325),f=r(444520);t.TripTypeSelectorMobile=()=>{const{t:e}=(0,i.useTranslation)(),{isCssVariationMobile:t}=u.ABUtils.getABs(),r=Object.values(c.TripType);(0,s.useSelector)((e=>(0,f.isTrainsProductActive)(e)))&&r.splice(r.indexOf(c.TripType.MULTIPLE),1);const n=(0,o.default)({"odf-btn-group":!t,"prisma-btn-group":t});return a.default.createElement(l.TripTypeSelector,{render:(i,s)=>a.default.createElement("div",{className:n,style:{display:"flex"}},r.map((r=>{const n=r===i,l=(0,o.default)({"odf-btn":!t,"odf-btn-ghost-light":!t&&!n,"odf-btn-primary selected":!t&&n,"prisma-btn prisma-btn-sm":t,"prisma-btn-default":t&&!n,"prisma-btn-active selected":t&&n});return a.default.createElement(d.TripTypeSelectorButton,{htmlFor:"tripTypeSwitcher_".concat(r),key:r,type:"button",className:l,onClick:()=>s(r)},a.default.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(e((0,c.getCMSTripTypes)()[r]))}}))})))})}},838627:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.TripTypeSelectorButton=void 0;var a,o=n(r(55467)),i=n(r(3485)),s=r(459376);t.TripTypeSelectorButton=(0,i.default)(s.Button)(a||(a=(0,o.default)(["\n    &&& {\n        justify-content: center;\n        flex: 1 1 0px;\n        z-index: 0;\n        margin: 0;\n        height: auto;\n        white-space: normal;\n        transition: all 0s ease 0s;\n    }\n"])))},897973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(212443);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(305388);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=r(63612);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(577930);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},975494:(e,t,r)=>{"use strict";const n=["field","citiesIatas","geoLocations"];var a=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedWMPCitiesList=void 0;var o=a(r(878969)),i=r(904751),s=r(877754),l=r(784236);t.ConnectedWMPCitiesList=(0,i.connect)((e=>({geoLocations:e.geoLocations.geoLocations})),{})((e=>{let{field:t,citiesIatas:r,geoLocations:a}=e,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n);const{displayedWord:c,onClickItem:d,isFixedWidth:u}=i,f="from"===t?s.LegType.DEPARTURE:s.LegType.ARRIVAL,p=r.map((e=>a[e]));return o.default.createElement(l.ConnectedLocationsList,{displayedWord:c,departureOrArrival:f,suggestionsList:p,onClickItem:d,isFixedWidth:u})}))},221286:(e,t,r)=>{"use strict";var n=r(512785);Object.defineProperty(t,"__esModule",{value:!0}),t.WMPSource=function(e,t,r){const n=i.WMPUtils.getCitiesList(e,t,r);return{render:e=>a.default.createElement(o.ConnectedWMPCitiesList,Object.assign({key:t+r},e,{field:t,citiesIatas:n}))}};var a=n(r(878969)),o=r(975494),i=r(657325);r(877754)},673418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(221286);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},762870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(117594);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(876165);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=r(376116);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(774884);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=r(676222);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=r(733578);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=r(318739);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var d=r(378489);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var u=r(456660);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var f=r(794998);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=r(496014);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var m=r(933087);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var g=r(740251);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var h=r(450137);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var y=r(897973);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=r(708965);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var b=r(703443);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}))},886488:(e,t,r)=>{!function(){"use strict";window.App=Odigeo.extendNamespace(window.App,"Flights");var e=App.Flights;const t=window.tv4=window.tv4||r(247846);var n,a,o={PARAMS_PARSER:{class:"cabinClass",direct:"directFlightsOnly",resident:"resident",adults:"numAdults",children:"numChildren",infants:"numInfants",kid0Age:"kid0Age",kid1Age:"kid1Age",kid2Age:"kid2Age",kid3Age:"kid3Age",kid4Age:"kid4Age",kid5Age:"kid5Age",infant0Age:"infant0Age",infant1Age:"infant1Age",infant2Age:"infant2Age",infant3Age:"infant3Age",collectionmethod:"collectionMethod",airlinescodes:"airlinesCodes",fareItineraryKey:"fareItineraryKey",searchId:"searchId",buyPath:"buyPath",internalSearch:"internalSearch",landingPageType:"landingPageType",flexibleDates:"flexibleDates",mainairports:"mainAirportsOnly"},PARAMS_STRINGIFY:{type:"type",searchSegments:"searchSegments",directFlightsOnly:"direct",resident:"resident",cabinClass:"class",numAdults:"adults",numChildren:"children",numInfants:"infants",kid0Age:"kid0Age",kid1Age:"kid1Age",kid2Age:"kid2Age",kid3Age:"kid3Age",kid4Age:"kid4Age",kid5Age:"kid5Age",infant0Age:"infant0Age",infant1Age:"infant1Age",infant2Age:"infant2Age",infant3Age:"infant3Age",collectionMethod:"collectionmethod",airlinesCodes:"airlinescodes",internalSearch:"internalSearch",flexibleDates:"flexibleDates",mainAirportsOnly:"mainairports"},TYPES:{O:"oneWayTrip",R:"roundTrip",M:"multipleTrip"}},i=function(e,t,r){s(r),r.externalSelectionRequest.segmentKeys[e]=t},s=function(e){_.isUndefined(e.externalSelectionRequest.segmentKeys)&&(e.externalSelectionRequest.segmentKeys=[])};function l(e,t){var r=(new RegExp("^"+e+"(\\d+)Age$").exec(t)||[])[1];return _.isUndefined(r)?-1:_.parseInt(r)}function c(e){return/^(dpresults|dpresults_flights)$/.test(e)}e.searchParamsDefaults={cabinClass:"TOURIST",directFlightsOnly:!1,numAdults:1,numChildren:0,numInfants:0},e.searchParamsAgeSelector={kid0Age:0,kid1Age:0,kid2Age:0,kid3Age:0,kid4Age:0,kid5Age:0,infant0Age:0,infant1Age:0,infant2Age:0,infant3Age:0},e.composeParametrizedDate=function(e,t,r){var n,a,o;return"dep"===e?n=new Date:(o=r.split("-"),n=new Date(o[0],o[1]-1,o[2])),a=n.getDate()+parseInt(t,10),n.setDate(a),function(e){var t=e.getDate(),r=e.getMonth()+1;return e.getFullYear()+"-"+(10>r?"0"+r:r)+"-"+(10>t?"0"+t:t)}(n)},e.searchParamsParser=function(t,r){var n,a,s,l=decodeURI(t),c=Odigeo.Utils.parseHashParameters(l),d=_.extend({},o.PARAMS_PARSER,r),u=_.clone(App.Flights.searchParamsDefaults);switch(Odigeo.AB.isOfferChildrenAgeDesktop&&(u=_.extend(u,App.Flights.searchParamsAgeSelector)),u.searchSegments=[],u.externalSelectionRequest={},n=function(e,t,r,n){var a,o,i={from:"departure",to:"destination",timewindow:"timeWindow",time:"time"};switch(a=u.searchSegments[t]||{},e){case"from":case"to":o=a[i[e]]||{},n?("id"===n&&(n="geoNodeId"),o[n]=r):r.match(/^\d+$/)?o.geoNodeId=r:o.iata=r,a[i[e]]=o;break;case"dep":case"ret":n?a[i[n]]=r:a.dateStr=r}u.searchSegments[t]=a},u.type=o.TYPES[c.type],_.each(_.omit(c,"type"),(function(e,t){var r;switch(t){case"resident":case"direct":case"buyPath":case"landingPageType":case"internalSearch":case"mainairports":switch(e){case"":case"false":r=!1;break;case"true":r=!0;break;default:r=e}u[d[t]]=r;break;case"flexibleDates":u[d[t]]="true"===e;break;case"kid0Age":case"kid1Age":case"kid2Age":case"kid3Age":case"kid4Age":case"kid5Age":case"infant0Age":case"infant1Age":case"infant2Age":case"infant3Age":r=parseInt(e,10),_.isNaN(r)||(u[t]=r);break;case"adults":case"children":case"infants":case"collectionmethod":r=parseInt(e,10),_.isNaN(r)||(u[d[t]]=r);break;case"airlinescodes":switch(e){case"":case"false":break;default:u[d[t]]=e.split(",")}break;case"class":u[d[t]]=e;break;case"segmentKey0":i(0,e,u);break;case"segmentKey1":i(1,e,u);break;case"fareItineraryKey":u.externalSelectionRequest.fareItineraryKey=e}})),a=function(t,r,a){n(t,r,e.composeParametrizedDate(t,a,u.searchSegments[0].dateStr))},u.type){case"oneWayTrip":s=/^(from|to|dep|X)(\d+)?(\.([a-zA-Z]+))?$/,_.each(c,(function(e,t){var r=s.exec(t);if(!_.isNull(r))if("X"===r[1])a("dep",0,e);else n(r[1],r[2]||0,e,r[4])}));break;case"multipleTrip":s=/^(from|to|dep)(\d+)?(\.([a-zA-Z]+))?$/,_.each(c,(function(e,t){var r=s.exec(t);_.isNull(r)||n(r[1],r[2]||0,e,r[4])}));break;case"roundTrip":s=/^(from|to|dep|ret|X|Y)(\.([a-zA-Z]+))?$/,_.each(c,(function(e,t){var r=s.exec(t);if(!_.isNull(r))switch(r[1]){case"from":n("from",0,e,r[3]),n("to",1,e,r[3]);break;case"to":n("from",1,e,r[3]),n("to",0,e,r[3]);break;case"dep":n("dep",0,e,r[3]);break;case"ret":n("ret",1,e,r[3]);break;case"X":a("dep",0,e);break;case"Y":a("ret",1,e)}}))}return e.addMapiParamsToSearch(u,Odigeo.Utils.decodeParams(window.location.search.substring(1))),u},e.addMapiParamsToSearch=function(e,t){var r=/^(segmentKey)(\d+)?(\.([a-zA-Z]+))?$/;_.isUndefined(t.segmentKey0)||(e.externalSelectionRequest.searchId=t.searchId,e.externalSelectionRequest.fareItineraryKey=t.fareItineraryKey,_.each(t,(function(t,n){var a=r.exec(n);_.isNull(a)||i(a[2],t,e)})))},e.completeWithGeographicInformation=function(e){var t,r,n=$.Deferred(),a=[],o=[],i=_.clone(e),s=["dateStr","time","timeWindow"];return t=_.chain(e.searchSegments).map(_.flowRight(_.values,_.partial(_.omit,_,s))).flatten().value(),_.each(t,(function(e){_.has(e,"geoNodeId")?o.push(e.geoNodeId):_.has(e,"iata")&&a.push(e.iata)})),a=_.uniq(a),o=_.uniq(o),(r=_.map(a,(function(e){return"iatas="+e})).concat(_.map(o,(function(e){return"ids="+e}))).join(";"))?$.ajax({url:Odigeo.Settings.options.geoServiceUrlFormatter("locations")+";"+r,dataType:"json",method:"GET"}).then((function(t){t.length||n.reject("WRONG_SEARCH");var r=_.map(e.searchSegments,(function(e){return _.each(e,(function(e,r,i){var l;_.includes(s,r)||(_.includes(a,e.iata)?l=_.find(t,_.matches({iata:e.iata})):_.includes(o,e.geoNodeId)&&(l=_.find(t,_.matches({geoNodeId:parseInt(e.geoNodeId,10)}))),l?e=_.defaults(e,l):n.reject("WRONG_SEARCH")),i[r]=e})),e}));i.searchSegments=r,n.resolve(i)}),(function(e){n.reject("WRONG_SEARCH",e)})):n.resolve(i),n.promise()},e.getPath=function(e){return Odigeo.Utils.templateLiteral("${host}${path}/${flightData}#${page}/${searchParams}",{host:location.hostname,path:Odigeo.Settings.getProperty("appContext"),page:e.page||Odigeo.History.getPageNameFromFragment(),flightData:e.flightData,searchParams:e.searchParams})},e.searchParamsStringify=function(t,r){var n="",a=e.stringifiedURLParams(_.extend({},t,n.updatedParamObj),r);return Odigeo.AB.isOfferChildrenAgeDesktop&&(a+=";"+(n=e.stringifyChildAges(t)).stringifiedParams),a},e.stringifyChildAges=function(t){var r={},n=e.normalizeParamsObject(t,r);return{updatedParamObj:_.extend(t,r),stringifiedParams:_.chain(n).reduce((function(e,t,r){return e+r+"="+t+";"}),"").tap(encodeURI).value().slice(0,-1)}},e.normalizeParamsObject=function(e){return function(e,t,r){return _.reduce(e,(function(e,n,a){return function(e,t,r){var n=l("kid",e),a=l("infant",e);if(0<=n)return n<t;if(0<=a)return a<r;return!1}(a,t,r)&&(e[a]=n),e}),{})}(_.extend({},e.kids,e.infants),e.numChildren,e.numInfants)},e.stringifiedURLParams=function(e,t){var r=_.extend({},o.PARAMS_STRINGIFY,t),n=_.invert(o.TYPES),a=_.pick(e,_.keys(r)),i=1===e.numAdults&&0===e.numChildren&&0===e.numInfants;return _.chain(a).reduce((function(t,a,o){var s;switch(o){case"searchSegments":return t+";"+_.chain(a).map((function(t,r){var n="dep",a="ret",o="from",i="to",s=".time",l=".timewindow",c=t.departure.iata||t.departure.geoNodeId,d=t.destination.iata||t.destination.geoNodeId,u=[];return"roundTrip"===e.type&&1===r?(u.push(a+"="+t.dateStr),t.time&&u.push(a+s+"="+t.time),t.timeWindow&&u.push(a+l+"="+t.timeWindow),u):("multipleTrip"===e.type&&(n+=String(r),o+=String(r),i+=String(r)),u.push(n+"="+t.dateStr),u.push(o+"="+c),u.push(i+"="+d),t.time&&u.push(n+s+"="+t.time),t.timeWindow&&u.push(n+l+"="+t.timeWindow),u)})).flatten().value().join(";");case"type":s=n[a];break;case"numAdults":case"numChildren":case"numInfants":if(i||0===a)return t;s=String(a);break;default:if(a===App.Flights.searchParamsDefaults[o])return t;s=String(a)||"false"}return t+";"+r[o]+"="+s}),"").tap(encodeURI).value().substring(1)},e.completeLocations=function(e,t){return _.isObject(e)&&_.isObject(t)&&e.searchSegments.length===t.searchSegments.length&&_.every(e.searchSegments,(function(e,r){var n=t.searchSegments[r];return!(!_.matches(n.departure)(e.departure)||!_.matches(n.destination)(e.destination))&&(n.departure=e.departure,n.destination=e.destination,!0)}))},e.isDpFlightsResults=c,e.getSearchData=function(t,r,n){var a=null,o=null,i=_.isFunction(n)?n:e.searchParamsParser,s=c(r)?App.Dynpack.getMobileBuyPath():"inspirational"===r?"INSPIRATIONAL_SEARCH":"FLIGHTS_DIRECT_URL",l=function(){return Odigeo.Session.set("dpForceNewSearch","true"),s},d=function(r){if(o=Odigeo.Session.get("searchParameters"),!_.isNull(o))try{o=JSON.parse(o)}catch(e){o=null}return _.isEmpty(t)||(a=i(t)),_.isNull(a)?_.isEmpty(o)?$.Deferred().reject("NO_SEARCH"):$.Deferred().resolve(o):r&&e.completeLocations(o,a)?(a.buyPath=a.buyPath||l(),$.Deferred().resolve(a)):!_.isNull(o)&&e.completeLocations(o,a)?(a.buyPath=a.buyPath||o.buyPath,$.Deferred().resolve(a)):(a.buyPath=a.buyPath||l(),e.completeWithGeographicInformation(a))};if(_.isEmpty(t)||-1!==t.toString().indexOf("type=M")||-1!==t.toString().indexOf("from.")||-1!==t.toString().indexOf("from=")||"results"!==r&&"flights"!==r)return d();var u=$.Deferred();return navigator.geolocation&&"desktop"!==Odigeo.SessionScope.flow&&App.Flights.getClosestAirports().done((function(e){var r,n=e,a=n.airports[0]||n.cities[0]||!1;a&&(r=_.extend(_.pick(a,["city","text","geoNodeId","iata","country","countryCode","name","type"])),t+=";from="+r.iata+";")})).done((function(){d(!0).then((function(e){u.resolve(e)}),(function(){u.reject("NO_SEARCH")}))})).fail((function(){if("flights"===r)_.isEmpty(t)||(a=i(t)),a.buyPath=l(),e.completeWithGeographicInformation(a).then((function(e){u.resolve(e)}),(function(e){u.reject(e)}));else{var n,o={},s=[];_.each(t.split(";"),(function(e){var t=e.split("=");o[t[0]]=t[1]})),_.has(o,"dep")?n=o.dep:_.has(o,"X")&&(n=e.composeParametrizedDate("dep",o.X),o.dep=n,delete o.X),_.has(o,"Y")&&(o.ret=e.composeParametrizedDate("ret",o.Y,n),delete o.Y),_.each(o,(function(e,t){void 0!==e&&(s[s.length]=t+"="+e)})),Odigeo.Router.navigate("home",{replace:!0,params:s.join(";")})}})),u.promise()},e.purgePreviousSearches=function(e){var r;if(e)try{r=JSON.parse(e)}catch(e){r=[]}else r=[];return t.validate(r,App.Flights.Schemas.searchDataSchema)?(_.each(r,(function(e,n){t.validate(e,App.Flights.Schemas.searchData)||delete r[n]})),r=_.compact(r)):r=[],r},e.purgeTravellers=function(e){var r;if(e)try{r=JSON.parse(e)}catch(e){r={}}else r={};if(t.validate(r,App.Flights.Schemas.travellersSchema)){for(var n in r)if(r[n])for(var a in r[n])"defaultTraveler"!==n&&("adults"===n?t.validate(r[n][a],App.Flights.Schemas.travellerAdults)||delete r[n][a]:t.validate(r[n][a],App.Flights.Schemas.travellerChildren)||delete r[n][a])}else r={adults:{},children:{},infants:{}};return r},e.checkCookies=function(){if(!Odigeo.Device.navigator.hasCookies){var e={text:Odigeo.UIElements.translations.errCookies.button,style:"od-ui-dialog-button-default",handler:function(){window.location.reload()}},t=Odigeo.UIElements.createDialog({headerText:Odigeo.UIElements.translations.errCookies.text,content:Odigeo.UIElements.translations.errCookies.content,buttons:[e],dialogClasses:"dialog_error"});Odigeo.UIElements.showDialog(t)}return Odigeo.Device.navigator.hasCookies},e.roomSetUpMap={"1-0-0":["1_0_0"],"1-0-1":["1_0_1"],"1-0-2":["1_0_2"],"1-1-0":["1_1_0"],"1-1-1":["1_1_1"],"1-2-0":["1_2_0"],"2-0-0":["2_0_0"],"2-0-1":["2_0_1"],"2-0-2":["2_0_2"],"2-1-0":["2_1_0"],"2-1-1":["2_1_1"],"2-1-2":["1_0_2","1_1_0"],"2-2-0":["2_2_0"],"2-2-1":["1_1_0","1_1_1"],"2-2-2":["1_2_0","1_0_2"],"2-3-0":["1_2_0","1_1_0"],"2-3-1":["1_2_0","1_1_1"],"2-4-0":["1_2_0","1_2_0"],"3-0-0":["3_0_0"],"3-0-1":["3_0_1"],"3-0-2":["2_0_2","1_0_0"],"3-1-0":["2_0_0","1_1_0"],"3-1-1":["2_0_1","1_1_0"],"3-1-2":["2_1_1","1_0_1"],"3-2-0":["2_1_0","1_1_0"],"3-2-1":["2_1_0","1_1_1"],"3-2-2":["2_1_1","1_1_1"],"3-2-3":["1_0_1","1_1_1","1_1_1"],"3-3-0":["2_2_0","1_1_0"],"3-3-1":["2_2_0","1_1_1"],"3-3-2":["1_1_1","1_1_1","1_1_0"],"3-4-0":["2_2_0","1_2_0"],"3-4-1":["1_2_0","1_2_0","1_0_1"],"3-4-2":["1_2_0","1_2_0","1_0_2"],"3-5-0":["1_2_0","1_2_0","1_1_0"],"3-5-1":["1_2_0","1_2_0","1_1_1"],"3-6-0":["1_2_0","1_2_0","1_2_0"],"4-0-0":["2_0_0","2_0_0"],"4-0-1":["2_0_0","2_0_1"],"4-0-2":["2_0_1","2_0_1"],"4-1-0":["2_1_0","2_0_0"],"4-1-1":["2_1_0","2_0_1"],"4-1-2":["2_1_1","2_0_1"],"4-2-0":["2_1_0","2_1_0"],"4-2-1":["2_1_0","2_1_1"],"4-2-2":["2_1_1","2_1_1"],"4-3-0":["2_2_0","2_1_0"],"4-3-1":["2_2_0","2_1_1"],"4-3-2":["2_1_0","1_2_0","1_0_2"],"4-4-0":["2_2_0","2_2_0"],"4-4-1":["2_0_1","1_2_0","1_2_0"],"4-5-0":["2_2_0","1_2_0","1_1_0"],"5-0-0":["3_0_0","2_0_0"],"5-0-1":["3_0_0","2_0_1"],"5-0-2":["2_0_1","2_0_1","1_0_0"],"5-1-0":["3_0_0","2_1_0"],"5-1-1":["3_0_0","2_1_1"],"5-1-2":["2_0_1","2_1_1","1_0_0"],"5-2-0":["3_1_0","2_1_0"],"5-2-1":["3_1_0","2_1_1"],"5-2-2":["2_1_1","2_1_1","1_0_0"],"5-3-0":["3_1_0","2_2_0"],"5-3-1":["2_1_1","2_2_0","1_0_0"],"5-4-0":["2_1_0","2_1_0","1_2_0"],"6-0-0":["2_0_0","2_0_0","2_0_0"],"6-0-1":["2_0_0","2_0_0","2_0_1"],"6-0-2":["2_0_0","2_0_1","2_0_1"],"6-1-0":["2_1_0","2_0_0","2_0_0"],"6-1-1":["2_1_0","2_0_0","2_0_1"],"6-1-2":["2_1_0","2_0_1","2_0_1"],"6-2-0":["2_1_0","2_1_0","2_0_0"],"6-2-1":["2_1_0","2_1_0","2_0_1"],"6-3-0":["2_1_0","2_1_0","2_1_0"],"7-0-0":["3_0_0","2_0_0","2_0_0"],"7-0-1":["3_0_0","2_0_0","2_0_1"],"7-0-2":["3_0_0","2_0_1","2_0_1"],"7-1-0":["3_0_0","2_1_0","2_0_0"],"7-1-1":["3_0_0","2_1_0","2_0_1"],"7-2-0":["3_0_0","2_1_0","2_1_0"],"8-0-0":["2_0_0","2_0_0","2_0_0","2_0_0"],"8-0-1":["2_0_0","2_0_0","2_0_0","2_0_1"],"8-1-0":["2_1_0","2_0_0","2_0_0","2_0_0"],"9-0-0":["3_0_0","3_0_0","3_0_0"]},e.validateRooms=function(t){var r,n,a,o=e.roomSetUpMap[t.numAdults+"-"+t.numChildren+"-"+t.numInfants];return _.isUndefined(o)&&2<t.numChildren&&(n=e.roomSetUpMap["1-2-0"],r=e.roomSetUpMap[t.numAdults-1+"-"+(t.numChildren-2)+"-"+t.numInfants],o=_.isUndefined(r)?o:n.concat(r)),_.isUndefined(o)&&2<t.numInfants&&(a=_.isUndefined(n)?[1,0]:[2,2],n=e.roomSetUpMap[a[0]+"-"+a[1]+"-2"],r=e.roomSetUpMap[t.numAdults-a[0]+"-"+(t.numChildren-a[1])+"-"+(t.numInfants-2)],o=_.isUndefined(r)?o:n.concat(r)),o},e.getRoomsParams=function(e){var t=App.Flights.validateRooms(e),r=_.size(t),n="";return _.each(t,(function(e,t){n=n.concat("&q-room-").concat(t).concat("-adults=").concat(e.split("_")[0])})),r.toString().concat(n)},e.getDynpackSearchFunction=function(e,t,r){var n=Odigeo.SessionScope?Odigeo.SessionScope.dynPackMode:"";switch(_.isUndefined(t)&&(t=function(){return"#"}),_.isUndefined(r)&&(r=Odigeo.SessionScope?Odigeo.SessionScope.dynPackUrlBase:""),n){case"GO":case"OP":return function(a){var o,i={typ:"flighthotel",idpart:Odigeo.SessionScope.idpart,locked_iata:"",dpdapi:"B",rooms:1,adt0:2,enf0:0,ae01:0,ae02:0,adt1:2,enf1:0,ae11:0,ae12:0,adt2:2,enf2:0,ae21:0,ae22:0,adt3:2,enf3:0,ae31:0,ae32:0};return 2===a.searchSegments.length&&"roundTrip"===a.type?(i=e(a,i,n),o=_.extend(i,{vil_dep:a.searchSegments[0].departure.city,iata_dep:a.searchSegments[0].departure.iata,geo_vil_dep:a.searchSegments[0].departure.geoNodeId,vil_arr:a.searchSegments[0].destination.city,dte_dep:a.searchSegments[0].dateStr,dte_ret:a.searchSegments[1].dateStr,cls:{BUSINESS:"aff",FIRST:"fst",TOURIST:"eco",PREMIUM_ECONOMY:"pre"}[a.cabinClass]||"eco",direct:a.directFlightsOnly?"oui":"non"}),_.isNull(a.collectionMethod)||(o=_.extend(o,{collectionMethodId:a.collectionMethod})),"OP"===n&&a.checkInDate&&a.checkOutDate&&(o=_.extend(o,{htl_arr:Odigeo.Utils.formatDateFromString(a.checkInDate,"yyyy-mm-dd","dd/mm/yyyy"),htl_dep:Odigeo.Utils.formatDateFromString(a.checkOutDate,"yyyy-mm-dd","dd/mm/yyyy")})),r+"?"+$.param(o)):t};default:return function(a){var o,i={action:"engine/DynPackSearch/search",buyPath:95,auxOrBt:0,searchMainProductTypeName:"DYNPACK",departureTime:"0000",returnTime:"0000",numberOfRooms:1,room0Adults:2,room1Adults:2,room2Adults:2,room3Adults:2,room0Childs:0,room0Child0Age:0,room0Child1Age:0,room1Childs:0,room1Child0Age:0,room1Child1Age:0,room2Childs:0,room2Child0Age:0,room2Child1Age:0,room3Childs:0,room3Child0Age:0,room3Child1Age:0};return 2===a.searchSegments.length&&"roundTrip"===a.type?(i=e(a,i,n),o=_.extend(i,{departureLocation:a.searchSegments[0].departure.name,departureDate:a.searchSegments[0].dateStr.split("-").reverse().join("/"),arrivalLocation:a.searchSegments[0].destination.name,departureLocationGeoNodeId:a.searchSegments[0].departure.geoNodeId,arrivalLocationGeoNodeId:a.searchSegments[0].destination.geoNodeId,returnDate:a.searchSegments[1].dateStr.split("-").reverse().join("/"),filterDirectFlights:a.directFlightsOnly}),_.isNull(a.collectionMethod)||(o=_.extend(o,{collectionMethodId:a.collectionMethod})),a.checkInDate&&a.checkOutDate&&(o=_.extend(o,{accommodationCheckInDate:Odigeo.Utils.formatDateFromString(a.checkInDate,"yyyy-mm-dd","dd/mm/yyyy"),accommodationCheckOutDate:Odigeo.Utils.formatDateFromString(a.checkOutDate,"yyyy-mm-dd","dd/mm/yyyy")})),r+"?"+$.param(o)):t}}},e.parseDynpackParams=function(t,r,n){var a,o,i,s,l,c=t.rooms,d=t.numberOfRooms;for(r[e.getNumberOfRoomsItem(n)]=d,a=0;a<d;a++){for(s=c["roomKids"+a],l=c["roomInfants"+a],r[e.getRoomConfigItem(!0,a,n)]=c["roomAdults"+a],r[e.getRoomConfigItem(!1,a,n)]=s+l,o=0;o<s;o++)r[e.getRoomChildAge(a,o,n)]=c["room"+a+"Kid"+o+"Age"];for(i=0;i<l;i++)r[e.getRoomChildAge(a,i+o,n)]=c["room"+a+"Infant"+i+"Age"]}return r},e.getRoomConfigItem=function(e,t,r){switch(r){case"GO":case"OP":return(e?"adt":"enf")+t;default:return"room"+t+(e?"Adults":"Childs")}},e.getRoomChildAge=function(e,t,r){switch(r){case"GO":case"OP":return"ae"+(t+1)+e;default:return"room"+e+"Child"+t+"Age"}},e.getNumberOfRoomsItem=function(e){switch(e){case"GO":case"OP":return"rooms";default:return"numberOfRooms"}},e.dynpackParamsStringify=(n=Odigeo.SessionScope?Odigeo.SessionScope.dynPackUrlBase:"",a=function(){return"#"},n?e.getDynpackSearchFunction((function(t,r,n){var a,o,i,s,l,c,d=e.validateRooms(t),u=d.length;for(r[e.getNumberOfRoomsItem(n)]=u,a=0;a<u;a++){for(s=d[a].split("_"),l=parseInt(s[1],10),c=parseInt(s[2],10),r[e.getRoomConfigItem(!0,a,n)]=parseInt(s[0],10),r[e.getRoomConfigItem(!1,a,n)]=l+c,o=0;o<l;o++)r[e.getRoomChildAge(a,o,n)]=6;for(i=l;i<l+c;i++)r[e.getRoomChildAge(a,i,n)]=1}return r}),a,n):a),e.getClosestAirports=function(){return Odigeo.Device.location.get().then((function(e){var t=Odigeo.Settings.property("geoServiceUrlFormatter")("geocomplete")+";latitude="+e.coords.latitude+";longitude="+e.coords.longitude;return $.ajax({url:t})}))}}()},527665:()=>{!function(){"use strict";var e=((window.App=window.App||{}).Flights=window.App.Flights=window.App.Flights||{}).Schemas=window.App.Flights.Schemas=window.App.Flights.Schemas||{};e.searchDataSchema={$schema:"http://json-schema.org/draft-04/schema#",id:"http://www.odigeo.com/schemas/searchData#",type:"array",title:"root",description:"Search Data object",minItems:0,uniqueItems:!0,additionalProperties:!1,items:{},required:["http://www.odigeo.com/schemas/searchData"]},e.searchData={$schema:"http://json-schema.org/draft-04/schema#",id:"http://www.odigeo.com/schemas/searchData/search#",type:"object",additionalProperties:!0,properties:{searchId:{type:"integer"},collectionMethod:{type:"integer"},cabinClass:{enum:["BUSINESS","FIRST","TOURIST","PREMIUM_ECONOMY","ECONOMIC_DISCOUNTED","SHOW_ALL"]},directFlightsOnly:{type:"boolean"},numAdults:{type:"integer",minimum:1,maximum:9},numChildren:{type:"integer",minimum:0,maximum:5},numInfants:{type:"integer",minimum:0,maximum:3},cheapestItineraryPrice:{type:"number"},cheapestItineraryPriceTimestamp:{type:"integer"},resident:{type:"boolean"},type:{enum:["oneWayTrip","roundTrip","multipleTrip"]},internalSearch:{type:"boolean"},flexibleDates:{type:"boolean"},creationDate:{type:"integer"},kid0Age:{type:"integer"},kid1Age:{type:"integer"},kid2Age:{type:"integer"},kid3Age:{type:"integer"},kid4Age:{type:"integer"},kid5Age:{type:"integer"},infant0Age:{type:"integer"},infant1Age:{type:"integer"},infant2Age:{type:"integer"},infant3Age:{type:"integer"},fromUserAccount:{type:"boolean"},searchSegments:{id:"http://www.odigeo.com/schemas/searchData/searchSegments#",type:"array",minItems:1,uniqueItems:!0,additionalProperties:!1,items:{id:"http://www.odigeo.com/schemas/searchData/searchSegments/segment#",type:"object",title:"Segment",description:"Segment of a trip",additionalProperties:!1,properties:{dateStr:{type:"string",pattern:"^(19[0-9]{2}|2[0-9]{3})-(0[1-9]|1[012])-([123]0|[012][1-9]|31)$"},departure:{type:"object",additionalProperties:!0,properties:{city:{type:"string"},iata:{type:"string"},name:{type:"string"},geoNodeId:{type:"integer"},country:{type:"string"},countryCode:{type:"string"},text:{type:"string"},type:{enum:["AIRPORT","IATA_CODE","CITY","BUS_STATION","TRAIN_STATION","COUNTRY"]}},required:["city","iata","name","geoNodeId"]},destination:{type:"object",additionalProperties:!0,properties:{city:{type:"string"},iata:{type:"string"},name:{type:"string"},geoNodeId:{type:"integer"},country:{type:"string"},countryCode:{type:"string"},text:{type:"string"},type:{enum:["AIRPORT","IATA_CODE","CITY","BUS_STATION","TRAIN_STATION","COUNTRY"]}},required:["city","iata","name","geoNodeId"]}},required:["dateStr","departure","destination"]},required:["http://www.odigeo.com/schemas/searchData/searchSegments/segment"]},externalSelectionRequest:{type:"object",additionalProperties:!0,properties:{fareItineraryKey:{type:"string"},segmentKeys:{id:"http://www.odigeo.com/schemas/searchData/segmentKey#",type:"array",minItems:1,additionalProperties:!1,items:{id:"http://www.odigeo.com/schemas/searchData/segmentKey/string#",type:"string"}},searchId:{type:"string"}}}},required:["cabinClass","directFlightsOnly","numAdults","numChildren","numInfants","searchSegments","type"]},e.travellersSchema={$schema:"http://json-schema.org/draft-04/schema#",id:"http://www.odigeo.com/schemas/travellers#",type:"object",additionalProperties:!0,properties:{adults:{type:"object",items:{}},children:{type:"object",items:{}},infants:{type:"object",items:{}},defaultTraveler:{anyOf:[{type:"null"},{type:"object"}]}},required:["adults","children","infants"]},e.travellerAdults={$schema:"http://json-schema.org/draft-04/schema#",id:"http://www.odigeo.com/schemas/travellers/adult",type:"object",additionalProperties:!0,properties:{travellerType:{enum:["ADULT"]},travellerTitle:{enum:["MR","MRS","MS"]},name:{type:"string"},firstLastName:{type:"string"},lastName:{type:"string"},mail:{type:"string"},country:{type:"string"},phoneCode1:{type:"string"},phoneNumber1:{type:"string"},address:{type:"string"},cityName:{type:"string"},zipCode:{type:"string"},meal:{type:"string"},localityCodeOfResidence:{type:"string"},localityNameOfResidence:{type:"string"},identificationType:{enum:["PASSPORT","NIE","NIF","CIF","NATIONAL_ID_CARD","BIRTH_DATE"]},identification:{type:"string"},documents:{id:"http://www.odigeo.com/schemas/travellers/identification",minItem:1,uniqueItems:!0,type:"array",additionalProperties:!1,items:{id:"http://www.odigeo.com/schemas/travellers/identification/document#",type:"object",additionalProperties:!1,properties:{identificationType:{enum:["PASSPORT","NIE","NIF","CIF","NATIONAL_ID_CARD","BIRTH_DATE"]},identification:{type:"string"}},required:["identificationType","identification"]},required:["http://www.odigeo.com/schemas/travellers/identification/document"]},frequentFlyerCardCodes:{id:"http://www.odigeo.com/schemas/travellers/frequentFlyerCardCodes#",minItem:0,uniqueItems:!0,type:"array",additionalProperties:!1,items:{type:"object",additionalProperties:!1,properties:{carrierCode:{type:"string"},passengerCardNumber:{type:"string"}},required:["carrierCode","passengerCardNumber"]},required:["http://www.odigeo.com/schemas/travellers/frequentFlyerCardCodes#"]}},required:["travellerType","travellerTitle","name","firstLastName"]},e.travellerChildren={$schema:"http://json-schema.org/draft-04/schema#",id:"http://www.odigeo.com/schemas/travellers/children",type:"object",additionalProperties:!0,properties:{travellerType:{enum:["CHILD","INFANT"]},travellerTitle:{enum:["MR","MRS","MS"]},name:{type:"string"},firstLastName:{type:"string"},dateOfBirth:{type:"string",pattern:"^(19[0-9]{2}|2[0-9]{3})-(0[1-9]|1[012])-([123]0|[012][1-9]|31)$"}},required:["travellerType","travellerTitle","name","firstLastName","dateOfBirth"]}}()},803055:e=>{"use strict";e.exports={buyer:!1,typeOfTraveller:"",frequentFlyerList:[],profile:{gender:"",title:"",name:"",middleName:null,firstLastName:"",secondLastName:null,birthDate:null,prefixPhoneNumber:null,phoneNumber:null,prefixAlternatePhoneNumber:null,mobilePhoneNumber:null,alternatePhoneNumber:null,identificationType:null,identification:null,identificationExpirationDate:null,identificationCountryCode:null,identificationCountryCodeRes:null,address:{address:null,addressType:null,city:null,country:null,postalCode:null,isPrimary:!0,alias:null,state:null},cpf:null,nationalityCountryCode:null,identificationList:null,isDefault:!1},importedFromLocal:!1}},572321:e=>{"use strict";var t={desktop:"dpresults",mobile:"dpresults_accommodation"};e.exports=function(){return t[Odigeo.SessionScope.flow]}},207123:e=>{e.exports={isUserDTOMember:function(e){return!!(e&&e.membershipInfoDTO&&e.membershipInfoDTO.membershipDTO)}}},589189:(e,t,r)=>{var n=r(365591),a=r(830928),o=new n({initEmailCapture:function(){this.$slctrs={},this.hasLegal=!1,this.moduleContext="",this.trackKeys={},this.labelConcept="",this.action=""},validateEmailCapture:function(e){e.preventDefault();var t=!!_.isEmpty(this.$slctrs.legalInput)||this.$slctrs.legalInput.is(":checked");this.$slctrs.container.removeClass("invalid"),this.$slctrs.prismaContainer.removeClass("invalid");var r=this.$slctrs.input.val();_.isEmpty(r)?this.setInvalidAndSendTrackingEmailCapture("missing"):Odigeo.Utils.isValidEmail(r)?t?this.onSuccess(r):(this.$slctrs.container.removeClass("invalid"),this.$slctrs.prismaContainer.removeClass("invalid"),this.$slctrs.legalInput.parent().addClass("error"),this.setInvalidAndSendTrackingEmailCapture("accept_terms")):(this.$slctrs.input.val(""),this.setInvalidAndSendTrackingEmailCapture(t?"invalid":"both"))},showSentMessageEmailCapture:function(){this.$slctrs.container.removeClass("invalid").addClass("success"),this.$slctrs.prismaContainer.removeClass("invalid").addClass("success"),this.$slctrs.button.removeClass("loading"),this.trackEventsEmailCapture()},setInvalidAndSendTrackingEmailCapture:function(e){"accept_terms"===e?this.$slctrs.legalInput.parent().addClass("error"):(this.$slctrs.container.addClass("invalid"),this.$slctrs.prismaContainer.addClass("invalid"),this.$slctrs.input.attr("placeholder",this.$slctrs.input.data("error-"+("both"===e?"invalid":e)))),this.trackEventsEmailCapture(e+"_error")},trackEventsEmailCapture:function(e){var t=this.labelConcept+(e||"successful");a.trackEvent(this.action,t,this.trackKeys[this.moduleContext])}});e.exports=o},365591:e=>{"use strict";var t=function(e){this.mixin=e};t.prototype.getMixin=function(){return _.clone(this.mixin)},t.prototype.extend=function(e){return _.extend({},this.mixin,e)},t.prototype.deepExtend=function(e){return _.merge({},this.mixin,e)},e.exports=t},606561:(e,t,r)=>{"use strict";var n=r(572321);const a="https://"+location.hostname+"/travel/";e.exports={getPath:function(e,t,r){var n=Odigeo.Router.getApp(e);return a+("home"===n?"":n+"/")+(t||"")+"#"+e+"/"+(r||"")},getResultsPagePath:function(e,t){return this.getPath("results",e,_.isUndefined(t)?"":_.isString(t)?t:App.Flights.searchParamsStringify(t))},getPostBookingPath:function(){return`${a}secure/#/post_booking/`},getDPResultsPagePath:function(e,t){return this.getPath(n(),e,_.isUndefined(t)?"":_.isString(t)?t:App.Dynpack.searchParamsStringify(t))},getCheckInPath:function(){return this.getPath("mytripslogin",null,"actions=opencmf")},getSupportAreaHomePagePath:function(){return`${a}support-area/`},getSupportAreaLoginPath:function(){return this.getPath("mytripslogin",null,"actions=opensa")},getMyTripsPath:function(){return`${a}membership-pages/#membership_mytrips_reactivation/`},getMyTripsLoginPath:function(){return this.getPath("mytripslogin")},getLoginPath:function(){return this.getPath("home")},getRegisterPath:function(){return this.getPath("register")},getFrequentPassengersPath:function(){return this.getPath("frequentpassengers")},getAccountCreditCardsPath:function(){return this.getPath("accountcreditcards")},getAccountPreferencesPath:function(){return this.getPath("accountpreferences")},getHomePath:function(){return this.getPath("home")}}},146650:(e,t,r)=>{var n=r(589189),a=r(148703);const o={"Content-Type":"application/json;charset=UTF-8"};var i=n.extend({init:function(e,t,r){if(r=r||"default_newsletter","hidden"!==Odigeo.Session.get("newsletterVisibility")){this.initEmailCapture();var n=Odigeo.Utils.getFunnelInGlobalScope();this.trackKeys={home:_.isEmpty(n)?"home":n+"_tab"},this.$slctrs={container:e,prismaContainer:e.find(".newsletter_prisma"),input:e.find(".newsletter_input"),button:e.find(".newsletter_button"),closeButton:e.find(".newsletter_close"),legalInput:e.find(".newsletter_legal"),successIcon:e.find(".newsletter_success_icon"),successMessage:e.find(".od_newsletter_success_message")},this.moduleContext=t,this.action="newsletter_widget",this.labelConcept="newsletter_subscription_",this.hasLegal=!_.isEmpty(this.$slctrs.legalInput),this.requestCount=0,this.campaign=r,this.$slctrs.container.removeClass("not-visible"),this.bindNewsletterEvents()}else e.hide()},bindNewsletterEvents:function(){this.$slctrs.closeButton.on(Odigeo.Events.tap,_.bind(this.closeNewsletterSubscription,this)),this.$slctrs.button.on(Odigeo.Events.tap,_.bind(this.validateEmailCapture,this)),this.$slctrs.input.on(Odigeo.Events.keydown,_.bind(this.onKeyDown,this)),this.$slctrs.input.on(Odigeo.Events.focus,_.bind(this.onFocus,this)),this.$slctrs.input.on(Odigeo.Events.blur,_.bind(this.onBlur,this)),this.hasLegal&&this.$slctrs.legalInput.on(Odigeo.Events.change,_.bind(this.resetLegalNewsletterSubscription,this))},onKeyDown:function(e){e.keyCode===Odigeo.Events.keys.KEY_RETURN&&this.validateEmailCapture(e)},onFocus:function(){this.$slctrs.prismaContainer.addClass("focused")},onBlur:function(){this.$slctrs.prismaContainer.removeClass("focused")},onSuccess:function(){const e=this.$slctrs.input.val(),t=this.campaign,r=this;this.hasLegal&&this.resetLegalNewsletterSubscription(),$.ajax({url:"/frontend-home/service/subscriptions/newsletter/subscribe",type:"POST",headers:o,data:JSON.stringify({email:e,campaign:t}),dataType:"json"}).done((function(){a.fireEvent("submit_newsletter","customer_email",e),r.showSentMessageEmailCapture(),r.$slctrs.button.addClass("loading"),setTimeout(_.bind(r.successAnimation,r),750),setTimeout(_.bind(r.closeNewsletterSubscription,r),1e4)})).fail((function(){r.requestCount++,5>r.requestCount?r.onSuccess():r.closeNewsletterSubscription()}))},successAnimation:function(){this.$slctrs.successIcon.addClass("active")},closeNewsletterSubscription:function(e){this.$slctrs.container.addClass("not-visible"),Odigeo.Session.set("newsletterVisibility","hidden");var t="close_"+(_.isEmpty(e)?"1":"0");this.trackEventsEmailCapture(t)},resetLegalNewsletterSubscription:function(){this.$slctrs.legalInput.parent().removeClass("error")}});e.exports=i},227630:e=>{"use strict";function t(e){return _.includes(e,"?")?"&":"?"}e.exports={getCheckOutDate:function(e){var t=1<e.searchSegments.length;return e.checkOutDate||(t?e.searchSegments[1].dateStr:Odigeo.Utils.getNextDay(e.searchSegments[0].dateStr))},getHotelDataFromSession:function(){var e=Odigeo.Utils.parseJson(Odigeo.Session.get("searchParameters")),t=e.searchSegments[0].dateStr,r=this.getCheckOutDate(e),n=Odigeo.SessionScope.visitId;return{iata:e.searchSegments[0].destination.iata,checkin_monthday:Odigeo.Utils.formatDate(t,"dd",!0),checkin_year_month:Odigeo.Utils.formatDate(t,"yyyy-mm",!0),checkout_monthday:Odigeo.Utils.formatDate(r,"dd",!0),checkout_year_month:Odigeo.Utils.formatDate(r,"yyyy-mm",!0),visitId:n}},getHotelLinkFromSession:function(){var e=this.getHotelDataFromSession(),t=Odigeo.UIElements.translations.xsellHomePage.homeHotelTabUrl;return Odigeo.Utils.replaceCmsKeyArgs(t,e.iata,e.checkin_monthday,e.checkin_year_month,e.checkout_monthday,e.checkout_year_month,e.visitId)},addParametersToElementUrl(e,r){if(!e)return;let n=null;const a=$.param(r);switch(e.tagName.toLowerCase()){case"iframe":n=t(e.src),e.src=e.src+n+a;break;case"a":n=t(e.href),e.href=e.href+n+a;break;case"li":n=t(e.dataset.url),e.dataset.url=e.dataset.url+n+a}},listenClickOnIframe(e,t){e&&window.addEventListener("blur",(()=>{setTimeout((()=>{document.activeElement===e&&t()}),0)}))}}},876516:e=>{const t=["email","name","isMembership","loginType","loginSubtype"];function r(){const e=n(),r=null!==e?decodeURIComponent(e).split(";").map((e=>e.replace(/[#+]/g," "))):[];return _.zipObject(t,r)}function n(){return Odigeo.Utils.readCookie("sso_remember_me")}e.exports={getParsedRememberMeCookie:r,getEmailFromCookie:function(){const{email:e}=r();return null!=e?e:""},getLoginTypeFromCookie:function(){const{loginType:e}=r();return null!=e?e:""},getNameFromCookie:function(){const{name:e}=r();return null!=e?e:""},getLoginSubtypeFromCookie:function(){const{loginSubtype:e}=r();return null!=e?e:""},isMembershipFromCookie:function(){const{isMembership:e}=r();return"true"===e},isRememberMeCookiePresent:function(){return null!==n()}}},65574:e=>{const t={};let r=t;e.exports={getUsersResponseStateful:function(){const{membership:e,displayName:n,userDTO:a}=r;return{isMembership:()=>null!=e&&e,getDisplayName:()=>null!=n?n:"",getUserDTO:()=>null!=a?a:t,isPresent:()=>r!==t}},setUsersResponseStateful:function(e){if(null==e)throw new Error("Users Response can't be null or undefined");r=e},wipeUsersResponseStateful:function(){r=t}}},316048:(e,t,r)=>{$((function(){"use strict";Odigeo.defineWidget("usersmanager",Odigeo.Widget.extend({modelClass:Odigeo.Model.extend({dataURL:null,action:null,timeout:null,method:null,userDTO:null,userUrls:{isLoggedIn:{dataURL:"isloggedin"}},afterLoadData:Function.prototype,getDataRequestSettings:function(){var e=this._formatRequestData(),t=this.userUrls[this.action]&&this.userUrls[this.action].type?this.userUrls[this.action].type:"POST";return{type:t,timeout:this.timeout?this.timeout:1e4,data:"GET"!==t?"string"==typeof e?e:JSON.stringify(e):"",contentType:"application/json;charset=UTF-8",dataType:"json",cache:!1,success:_.bind(this.requestSuccessHandler,this,this.action),error:_.bind(this.requestErrorHandler,this,this.action)}},_formatRequestData:function(){return _.isNull(this.action)||_.isUndefined(this.userUrls[this.action])?null:this.userUrls[this.action].data?_.extend(this.userUrls[this.action].data,this.get("data")):this.get("data")},addUserRequest:function(e){this.set({data:e&&e.data?e.data:{}}),this.set("isMemberAction",e&&e.isMemberAction,{silent:!0}),e&&e.action&&!_.isEmpty(this.userUrls[e.action])&&(this.dataURL=this.userUrls[e.action].dataURL,_.isEmpty(this.get("data").queryParams)||(this.dataURL+="/?"+_.map(this.get("data").queryParams,(function(e,t){return t+"="+e})).join("&")),this.isEmptyData=!1,this.action=e.action,this.timeout=this.userUrls[e.action].timeout,this.method=this.userUrls[e.action].method,this.refresh())},url:function(){return Odigeo.Settings.getProperty("serviceUsersFormatter")(this.dataURL)},requestSuccessHandler:function(e,t){var r="WithError",n=_.isObject(t)&&_.isObject(t.attributes)?t.attributes:t;(!0===n||_.isObject(n)&&n.responseOK)&&(n&&!_.isEmpty(n.userDTO)&&this.set("userDTO",n.userDTO),"logOut"===e&&(n.membership=this.get("isMemberAction")),r="Ok"),this.triggerResponse(e+r,n)},requestErrorHandler:function(e,t){this.triggerResponse(e+"Error",_.extend(t,{action:e}))},triggerResponse:function(e,t){Odigeo.trigger(this.widget.id+":"+e,_.extend(!0===t?{}:t,{action:e}))},clearUser:function(){this.clear(),this.dataURL=null,this.isEmptyData=!0},mixUserAndMember:function(e){var t;r(207123).isUserDTOMember(e)&&!_.isEqual(Odigeo.Utils.getAppInGlobalScope(),"dp")&&(t=e.membershipInfoDTO.membershipDTO,e.traveller.push($.extend(!0,{},r(803055),{id:0,typeOfTraveller:"ADULT",profile:{title:"MR",name:t.name,firstLastName:t.lastNames}})))}}),exposedMethods:{submitUserRequest:"addUserRequest",clearUser:"clearUser",mixUserAndMember:"mixUserAndMember"},execute:function(e,t){return this.exposedMethods[e]&&this.model[this.exposedMethods[e]](t),this}}))}))},667199:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(107406);const a=e=>{const t=n.SearchService.toOldFormat(e),r=n.SearchService.getSearchURL(e,Odigeo.AB.isStreamSearch);n.SessionStorageUtils.setJSON("searchParameters",t),!e.isHotel&&Odigeo.AB.isImmediateSearchActive&&n.PreSearchUtils.preSearch(t,r.split("#")[1]),window.location.href=r}}}]);
//# sourceMappingURL=494467.477663e3a76ad0b36ad3.js.map
