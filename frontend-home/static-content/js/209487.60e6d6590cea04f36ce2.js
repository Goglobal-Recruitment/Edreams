"use strict";(self.webpackChunkOneFront_HomePage=self.webpackChunkOneFront_HomePage||[]).push([[209487],{281298:(e,t,r)=>{r.d(t,{$:()=>d,Z:()=>m});var n=r(878969),i=r(651013),o=r(122501),a=r(471385),l=r(870127),s=r(6318),c=r(919451),u=r(620951);const d=()=>n.createElement(l.Z,{open:!0,onClose:()=>{}}),p=()=>{const{isMobile:e}=(0,c.pn)();return n.createElement(a.Z,{hasToCheckPrimeMember:!1,hasToCheckPrimeOffer:!1,nonIssuable:!0,feeSelected:s.ozX.PrimePrice,withDiscount:!1,isBrokenFlow:!0,overrideAction:!0,showLoadingBar:!e,goToSummary:!!e,pageName:e?u.GV.Summary:u.GV.Pax,simpleUI:!1})},m=(0,i.T)({name:o.ww,variations:[d,p,()=>{const{isMobile:e}=(0,c.pn)();return n.createElement(a.Z,{hasToCheckPrimeMember:!1,hasToCheckPrimeOffer:!1,nonIssuable:!0,feeSelected:s.ozX.PrimePrice,withDiscount:!1,isBrokenFlow:!0,overrideAction:!0,showLoadingBar:!e,goToSummary:!!e,pageName:e?u.GV.Summary:u.GV.Pax,simpleUI:!0})},p],version:1})},471385:(e,t,r)=>{r.d(t,{Z:()=>Z});var n=r(878969),i=r(261678),o=r(480634),a=r(686728),l=r(517367),s=r(715471),c=r(948704),u=r(919451),d=r(69690),p=r(66712),m=r(748575),v=r(797390),y=r(185229),f=r(562411),g=r(911520),b=r(281298),h=r(620951),E=r(7e5);const P=({nonIssuable:e,searchId:t,feeSelected:r,selectedItinerary:i,mutationRequest:o,onContinue:a,withDiscount:s,isBrokenFlow:P=!1,overrideAction:O,goToSummary:I,showLoadingBar:w,pageName:C,simpleUI:S})=>{var j;const[x,T]=(0,n.useState)(!0),[A,k]=(0,n.useState)(!1),{isDesktop:Z}=(0,u.pn)(),[,D]=(0,E.G)(),{mutate:L,loading:R,errors:N,searchId:_,alternativeItinerary:F,carriers:U,locations:$,carbonFootprints:B}=(0,p.b)(),{mutate:M,data:G,loading:H}=(0,d.Z)(),z=null==G||null===(j=G.createShoppingCart)||void 0===j||null===(j=j.shoppingCart)||void 0===j?void 0:j.bookingId,V="PRIME_PRICE"===r?g.no:g.ox,W=F?(0,f.Z)((0,l.s)(F,V,U,$,B),0):{id:"0",fees:[{price:{amount:0,currency:"EUR"},type:{id:"MEMBER_PRICE_POLICY_UNDISCOUNTED"}},{price:{amount:0,currency:"EUR"},type:{id:"MEMBER_PRICE_POLICY_DISCOUNTED"}}],legs:[],ticketsLeft:0,transportTypes:[],price:{amount:0,currency:"EUR"},priceSortingPosition:0},{valuePropositions:K,additionalInformation:q}=F?(0,m.N)(i,W,s):{valuePropositions:["social"],additionalInformation:{}},Y=K[0],X=(0,c.$)(["display"],`alternative-flights-payment-error-searchId-${t}-itineraryId-${i.key}`),J=(0,h.xp)({selectedItinerary:i,alternativeItinerary:W,nonIssuable:e,pageName:C,alternativeItineraryPosition:0,valueProposition:Y,valuePropositions:K,alternativeFlightType:P?h.Aw.BrokenFlow:h.Aw.NonBookable});return(0,n.useEffect)((()=>{!i||!o||R||F||N||L({itinerarySearchAlternativesRequest:o})}),[i,o,R,F,N,L]),(0,n.useEffect)((()=>{if(z){const e=(0,l.iR)(Z,z);D((0,l.lL)(_,F)),T(!1),window.location.assign(e)}}),[z,Z,D,_,F]),(0,n.useEffect)((()=>{N||A||!F||(k(!0),J("onLoad",""))}),[N,A,F,k,J]),N?P?n.createElement(b.$,null):n.createElement("div",{ref:X},n.createElement(v.Z,{open:!0,onClose:()=>{},onClick:a})):n.createElement(y.mP,{isOpen:x,onClose:()=>{e||T(!1)},itinerary:W,selectedItinerary:i,discountAmount:void 0,valueProposition:Y,valuePropositions:K,additionalInformation:q,nonIssuable:e,isBrokenFlow:P,isUnavailable:e,hasCloseIcon:!e,showContinueButton:e,loading:R,onContinue:()=>{J("discard","button","CR"),C!==h.GV.Pax||e?a():T(!1)},onChange:()=>{if(I){var e;const{search:t="",hash:r}=window.location,n=new URLSearchParams(t),i={searchId:_,fareItineraryKey:null==F?void 0:F.key,segmentKeys:null==F||null===(e=F.legs)||void 0===e?void 0:e.reduce(((e,t)=>e.concat(null==t?void 0:t.segmentKeys)),[]),feeTypeId:"MEMBER_PRICE_POLICY_DISCOUNTED"};D((0,l.lL)(_,F));const o=btoa(JSON.stringify(i)),a=null!=r&&r.includes("#checkout_flight_summary_results")?(0,l.pm)(n):t;window.location.assign(`/travel/${a}#checkout_flight_summary_results/${o}/`)}else{var t;J("select","alternative","button"),M({searchId:(null==_?void 0:_.toString())||"",alternativeItinerary:W,resident:null===(t=o.searchRequest)||void 0===t||null===(t=t.itinerary)||void 0===t?void 0:t.resident})}},showLoadingBar:w,isShoppingCartLoading:H,overrideAction:O,trackingHandler:J,simpleUI:S,pageName:C})},O=({nonIssuable:e,searchId:t,itineraryKey:r,feeSelected:o,withDiscount:a,isBrokenFlow:s,selectedItinerary:c,carriers:u,overrideAction:d,goToSummary:p,showLoadingBar:m,pageName:v,simpleUI:y})=>{const[f]=(0,i.u5)("searchParameters"),g={eligibleForDiscount:a,itineraryCarriers:u,itineraryId:r||c.key||c.id||"",searchId:Number(t)||0,searchRequest:(0,l.Mm)(f)};return c&&c.legs.length>0&&c.fees.length>0?n.createElement(P,{nonIssuable:e,searchId:t,feeSelected:o,selectedItinerary:c,mutationRequest:g,onContinue:()=>{const e=(0,l.Tt)(f);window.location.assign(e)},withDiscount:a,isBrokenFlow:s,overrideAction:d,pageName:v,goToSummary:p,showLoadingBar:m,simpleUI:y}):null};var I=r(9303),w=r(901970),C=r(199592),S=r(923728);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const A=({hasToCheckPrimeMember:e,hasToCheckPrimeOffer:t,nonIssuable:r,feeSelected:c,withDiscount:u,isBrokenFlow:d=!1,overrideAction:p,goToSummary:v,showLoadingBar:y,pageName:f,simpleUI:g})=>{var b,P,j;const[T={}]=(0,E.G)(),{alternativeFlight:A,setAlternativeFlight:k}=(0,C.Z)(),[Z,D]=(0,i.u5)(I._1),L=null==T||null===(b=T.data)||void 0===b?void 0:b.searchId,R=null==T||null===(P=T.data)||void 0===P?void 0:P.fareItineraryKey.split("_")[0],{data:N}=(0,w.X)(T),{data:_}=(0,S.t)(),F=null==_?void 0:_.getSummaryPrice,U=(0,l.Wk)(null==N?void 0:N.products[0],F),$=(0,m.ie)(U),B=$.some((e=>s.Ai.includes(e))),{data:M}=(0,o.Z)(),{isPrimeAdded:G,isPrimeDataLoading:H}=(0,a.Z)(),z=null==M||null===(j=M.userAccount)||void 0===j?void 0:j.userMembership.isActive,V=e||t?(e&&z||t&&!G)&&B&&!H:B;return(0,n.useEffect)((()=>{var e,t,n,i,o;V&&r&&null!=T&&null!==(e=T.data)&&void 0!==e&&e.flightNumbers&&(null==A||null===(t=A.disabledItineraries)||void 0===t||!t.includes(null==T||null===(n=T.data)||void 0===n?void 0:n.flightNumbers.join("_")))&&k(x(x({},A),{},{disabledItineraries:[...null!==(i=null==A?void 0:A.disabledItineraries)&&void 0!==i?i:[],null==T||null===(o=T.data)||void 0===o?void 0:o.flightNumbers.join("_")]}))}),[V,T,r,D,A,k]),(0,n.useEffect)((()=>{const e=[h.GV.Pax,h.GV.Pay];!V||Z||e.includes(f)||D(!0)}),[V,Z,D,f]),n.createElement("div",{"data-testid":"alternative-flight-layer"},U&&V?n.createElement(O,{nonIssuable:r,searchId:L,itineraryKey:R,selectedItinerary:U,carriers:$,feeSelected:c,withDiscount:u,isBrokenFlow:d,overrideAction:p,goToSummary:v,showLoadingBar:y,pageName:f,simpleUI:g}):null)},k=({nonIssuable:e,feeSelected:t,withDiscount:r,isBrokenFlow:i=!0,overrideAction:o,pageName:a,goToSummary:s,showLoadingBar:c,simpleUI:u})=>{var d,p;const[v={}]=(0,E.G)(),y=null==v||null===(d=v.data)||void 0===d?void 0:d.fareItineraryKey.split("_")[0],{data:f}=(0,w.X)(v),{data:g}=(0,S.t)(),b=null==g?void 0:g.getSummaryPrice,h=(0,l.Wk)(null==f?void 0:f.products[0],b),P=null==v||null===(p=v.data)||void 0===p?void 0:p.searchId,I=(0,m.ie)(h);return n.createElement("div",{"data-testid":"alternative-flight-layer"},h&&n.createElement(O,{nonIssuable:e,searchId:P,itineraryKey:y,selectedItinerary:h,carriers:I,feeSelected:t,withDiscount:r,isBrokenFlow:i,overrideAction:o,pageName:a,goToSummary:s,showLoadingBar:c,simpleUI:u}))},Z=({hasToCheckPrimeMember:e,hasToCheckPrimeOffer:t,nonIssuable:r,feeSelected:i,withDiscount:o,isBrokenFlow:a=!1,overrideAction:l,pageName:s,goToSummary:c,showLoadingBar:u,simpleUI:d})=>{const p=a?k:A;return n.createElement(p,{hasToCheckPrimeMember:e,hasToCheckPrimeOffer:t,nonIssuable:r,feeSelected:i,withDiscount:o,isBrokenFlow:a,overrideAction:l,pageName:s,goToSummary:c,showLoadingBar:u,simpleUI:d})}},884853:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(878969),i=r(948704),o=r(281298),a=r(7e5);const l=()=>{var e,t;const[r]=(0,a.G)(),l=(0,i.$)(["display"],`alternative-flights-modal-error-searchId-${null==r||null===(e=r.data)||void 0===e?void 0:e.searchId}-itineraryId-${null==r||null===(t=r.data)||void 0===t?void 0:t.fareItineraryKey}`);return n.createElement("div",{ref:l},n.createElement(o.Z,null))}},715471:(e,t,r)=>{r.d(t,{Ai:()=>o,X9:()=>i,pN:()=>n});const n=Object.freeze({TOURIST:"TOURIST",PREMIUM_ECONOMY:"PREMIUM_ECONOMY",BUSINESS:"BUSINESS",FIRST:"FIRST"}),i=Object.freeze({ROUND_TRIP:"roundTrip",ONE_WAY:"oneWayTrip",MULTIPLE:"multipleTrip"}),o=["FR","RK"]},517367:(e,t,r)=>{r.d(t,{Mm:()=>P,Tt:()=>f,Wk:()=>v,d4:()=>m,iR:()=>O,lL:()=>w,pm:()=>I,s:()=>y});var n=r(715471),i=r(6318),o=r(623945),a=r(911520);const l=["carrierId"],s=["departureId","destinationId","carrierId","operatingCarrierId"];function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=e=>n.Ai.some((t=>null==e?void 0:e.some((e=>e.includes(t))))),v=(e,t)=>{var r,n;if(!e||!t)return null;const o=(e=>({fees:[{type:{id:a.ox},price:null!=e&&e.nonDiscountedPricePerPassenger?null==e?void 0:e.nonDiscountedPricePerPassenger:null==e?void 0:e.pricePerPassenger},{type:{id:a.no},price:null==e?void 0:e.pricePerPassenger}],price:e.pricePerPassenger}))(t);return{legs:(null==e||null===(r=e.productInfo)||void 0===r||null===(r=r.legs)||void 0===r?void 0:r.map((e=>({segmentKeys:[],segments:e.segments.map((e=>d(d({},e),{},{carriers:[e.sections[0].carrier],carrier:e.sections[0].carrier,departure:e.sections[0].departure,destination:e.sections[e.sections.length-1].destination,departureDate:e.sections[0].departureDate,arrivalDate:e.sections[e.sections.length-1].arrivalDate,stops:[],duration:e.duration,sections:e.sections.map((e=>d(d({},e),{},{duration:e.duration,insuranceOffer:null,trips:[]})))})))}))))||[],price:(null==e?void 0:e.price)||(null==o?void 0:o.price)||void 0,fees:o.fees||[],id:(null==e||null===(n=e.id)||void 0===n?void 0:n.id)||"0",ticketsLeft:0,priceSortingPosition:0,transportTypes:[i.Fll.Plane]}},y=(e,t,r,n,i)=>{var o,a,u,p;return d(d({},e),{},{__typename:"Itinerary",carbonFootprint:null==i||null===(o=i.find((t=>t.id===e.carbonFootprintId)))||void 0===o?void 0:o.carbonFootprint,fees:null==e||null===(a=e.fees)||void 0===a?void 0:a.map((e=>({price:e.price,type:{id:e.type}}))),price:null==e||null===(u=e.fees)||void 0===u||null===(u=u.find((e=>e.type===t)))||void 0===u?void 0:u.price,legs:null==e||null===(p=e.legs)||void 0===p?void 0:p.map((e=>d(d({},e),{},{__typename:"Leg",segments:e.segments.map((e=>{var t,i;const{carrierId:o}=e;return d(d({},c(e,l)),{},{__typename:"Segment",carrier:null===(t=r.find((e=>e.id===o)))||void 0===t?void 0:t.carrier,sections:null===(i=e.sections)||void 0===i?void 0:i.map((e=>{var t,i,o,a;const{departureId:l,destinationId:u,carrierId:p,operatingCarrierId:m}=e;return d(d({},c(e,s)),{},{__typename:"Section",departure:null===(t=n.find((e=>e.id===l)))||void 0===t?void 0:t.location,destination:null===(i=n.find((e=>e.id===u)))||void 0===i?void 0:i.location,carrier:null===(o=r.find((e=>e.id===p)))||void 0===o?void 0:o.carrier,operatingCarrier:null===(a=r.find((e=>e.id===m)))||void 0===a?void 0:a.carrier})}))})}))})))})},f=e=>{const{host:t,protocol:r}=window.location;if(e){const n={buyPath:e.buyPath,tripType:e.type,directFlightsOnly:e.directFlightsOnly,cabinClass:e.cabinClass,adults:e.numAdults,children:e.numChildren,infants:e.numInfants,segments:e.searchSegments},{buyPath:i,adults:o,children:a,infants:l}=n;let s="travel/#results/"+g(n);return o>=1&&(s+=`;adults=${o}`),a>0&&(s+=`;children=${a}`),l>0&&(s+=`;infants=${l}`),i&&(s+=`;buyPath=${i}`),`${r}//${t}/${s};internalSearch=true`}return""},g=e=>{const{cabinClass:t,directFlightsOnly:r,tripType:i,segments:o}=e;let a=`type=${b(i,o)}`;if(i===n.X9.ONE_WAY&&1===o.length||i===n.X9.ROUND_TRIP){const{departure:e,destination:t,dateStr:r}=o[0];a+=`;from=${e.iata}${h(t)};dep=${r}`,i===n.X9.ROUND_TRIP&&(a+=`;ret=${o[1].dateStr}`)}else o.forEach(((e,t)=>{const{departure:r,destination:n,dateStr:i}=o[t];a+=`;from${t}=${r.iata};to${t}=${n.iata};dep${t}=${i}`}));return t!==n.pN.TOURIST&&(a+=`;class=${t}`),r&&(a+=";direct=true"),a},b=(e,t)=>e===n.X9.ONE_WAY&&t.length>1?"M":e[0].toUpperCase(),h=e=>{let t="";return 0!==e.geoNodeId&&(t=e.iata?`;to=${e.iata}`:`;to=${e.geoNodeId}`),t},E=e=>e===n.X9.ONE_WAY?i.X9H.OneWay:e===n.X9.ROUND_TRIP?i.X9H.RoundTrip:i.X9H.MultipleDestinations,P=e=>{const{buyPath:t,type:r,searchSegments:n,resident:i,numAdults:a,numChildren:l,numInfants:s}=e,c={segments:n.map((e=>({departure:{geoNodeId:e.departure.geoNodeId,iata:e.departure.iata},destination:{geoNodeId:e.destination.geoNodeId,iata:e.destination.iata},date:e.dateStr}))),mainAirportsOnly:!1,resident:!!i,numAdults:a,numChildren:l,numInfants:s};return{buyPath:o.P$[t]||Number(t),tripType:E(r),itinerary:c}},O=(e,t)=>{const{host:r,protocol:n,hash:i,search:o=""}=window.location,a=e?"#details":"#passengersinfo",l=new URLSearchParams(o);return`${n}//${r}/travel/secure/${e&&null!=i&&i.includes(`${a}/`)?I(l):o}${a}/${t}/`},I=e=>(e.has("alt")?e.delete("alt"):e.append("alt","1"),e.toString()?`?${e.toString()}`:""),w=(e,t)=>{var r,n;return{typeOfCart:"preShoppingCart",data:{searchId:e,extensions:[{name:"ESTIMATED_COLLECTION_METHOD",value:"MEMBER_PRICE_POLICY_DISCOUNTED"}],fareItineraryKey:null==t?void 0:t.id,flightNumbers:null==t||null===(r=t.legs)||void 0===r?void 0:r.map((e=>e.segmentKeys.map((e=>e.toString())).concat(e.segments[0].sections.map((e=>e.flightCode))).join(","))),segmentKeys:null==t||null===(n=t.legs)||void 0===n?void 0:n.reduce(((e,t)=>e.concat(null==t?void 0:t.segmentKeys)),[]),priceWithoutDiscountSelected:!1,membershipCouponApplied:!1,promotedItineraryTypes:[]}}}},947324:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(878969),i=r(308923);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=({onClick:e,isAlternativeItineraryOnModal:t,children:r})=>n.createElement(i.Z,{type:"positive",onClick:e,sx:a(a({},t&&{boxSizing:"content-box",maxHeight:"168px"}),{},{zIndex:1,position:"relative"})},r)},185229:(e,t,r)=>{r.d(t,{mP:()=>Be,Rd:()=>$e,ZP:()=>Me});var n=r(878969),i=r(919451),o=r(776530),a=r(114305),l=r(97572),s=r(948704),c=r(261678),u=r(819628),d=r(62474),p=r(569010),m=r(819533),v=r(72530),y=r(356498),f=r(795030),g=r(73565),b=r(294548);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const O=({children:e,sx:t})=>n.createElement(d.Z,{flexDirection:"column",sx:E({},t),"data-testid":"alternative-itinerary-double-card-layer-title"},n.createElement(b.Z,{type:"3",weight:"medium",color:"neutral.90"},e));var I=r(886394),w=r(361177),C=r(171369);const S=({itinerary:e,isClickable:t=!0,hasAlternativeItineraryDecorator:r=!1,isAlternativeItinerary:i=!1,isSelectedItinerary:o=!1,isAlternativeTopSection:a=!1,isBrokenFlow:l,nonIssuable:s,isUnavailable:c=!1,isAlternativeItineraryOnModal:u=!1,onSelectAlternativeItinerary:d,overrideAction:p,trackingHandler:m,onSelectOriginalItinerary:v})=>n.createElement(I.ZP,{itinerary:e},n.createElement(C.Z,{withOverlay:c,isBrokenFlow:l},n.createElement(w.Z,{itinerary:e,position:0,hasRetailingTechniques:!1,isAlternativeItinerary:i,isSelectedItinerary:o,isClickable:t,nonIssuable:s,hasAlternativeItineraryDecorator:r,isAlternativeTopSection:a,isAlternativeItineraryOnModal:u,onSelectAlternativeItinerary:d,overrideAction:p,trackingHandler:m,onSelectOriginalItinerary:v})));var j=r(246137);const x=({itinerary:e,isBrokenFlow:t,nonIssuable:r,isUnavailable:i=!0,trackingHandler:o})=>{const{t:a}=(0,j.$G)(),l=t?"alternativeBrokenFlow.title.issue":r?"alternativeItinerary.nonIssuable.layer.unavailable.title":"alternativeItinerary.improvement.issuable.layer.title";return n.createElement(f.Z,{marginBottom:"big",paddingX:"1x_big",sx:{"*":{boxShadow:"none !important"}}},n.createElement(O,{sx:{marginBottom:"16px"}},a(l)),n.createElement(S,{isAlternativeItineraryOnModal:!0,itinerary:e,nonIssuable:r,isBrokenFlow:t,isClickable:!1,isAlternativeItinerary:!1,isSelectedItinerary:!0,hasAlternativeItineraryDecorator:!1,isAlternativeTopSection:!0,isUnavailable:r&&i,trackingHandler:o}))};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Z=({children:e,sx:t,isTopSectionExpanded:r,onClick:i})=>{const o="neutral.90",a=()=>n.createElement(g.rZ,{category:"Arrows",name:"ChevronDown",size:"medium","data-testid":"chevron-down",sx:{color:o}}),l=()=>n.createElement(g.rZ,{category:"Arrows",name:"ChevronUp",size:"medium","data-testid":"chevron-up",sx:{color:o}});return n.createElement(d.Z,{width:"100%",justifyContent:"space-between",alignItems:"center",sx:A({},t),onClick:i},n.createElement(f.Z,{"data-testid":"alternative-itinerary-dropdown-layer-title"},n.createElement(b.Z,{type:"3",weight:"medium",color:o},e)),n.createElement(f.Z,null,r?n.createElement(l,null):n.createElement(a,null)))},D=({itinerary:e,nonIssuable:t,isUnavailable:r=!0,isTopSectionExpanded:i,onTitleClick:o,trackingHandler:a,onSelectOriginalItinerary:l,overrideAction:s})=>{const{t:c}=(0,j.$G)(),u=t?"alternativeItinerary.nonIssuable.layer.unavailable.title":"alternativeItinerary.improvement.issuable.layer.title",d=!t;return n.createElement(f.Z,{marginBottom:"big",paddingX:"1x_big",sx:{"*":{boxShadow:"none !important"}}},n.createElement(Z,{sx:{marginBottom:"16px"},isTopSectionExpanded:i,onClick:o},c(u)),n.createElement(S,{isAlternativeItineraryOnModal:!0,itinerary:e,nonIssuable:t,isClickable:d,isAlternativeItinerary:!1,isSelectedItinerary:!0,hasAlternativeItineraryDecorator:!1,isAlternativeTopSection:!0,isUnavailable:t&&r,trackingHandler:a,onSelectOriginalItinerary:l,overrideAction:s}))};var L=r(236035),R=r(9303),N=r(207424),_=r(214486);function F(e,t){var r,n;const i=Math.ceil((null==e||null===(r=e.price)||void 0===r?void 0:r.amount)||0),o=Math.ceil((null==t||null===(n=t.price)||void 0===n?void 0:n.amount)||0);return{selectedItineraryPrice:i,itineraryPrice:o,priceDifference:Math.round(i-o)}}const U=({children:e})=>n.createElement(b.Z,{type:"3",color:"positive.50",weight:"medium",sx:{display:"inline"}},e),$=({selectedItinerary:e,itinerary:t})=>{var r;const{priceDifference:i}=F(t,e);return n.createElement(_.P,{currency:(null==e||null===(r=e.price)||void 0===r?void 0:r.currency)||"EUR"},Math.abs(i))},B=({itinerary:e,selectedItinerary:t,valueProposition:r,discountAmount:i})=>{const{t:o}=(0,j.$G)(),{priceDifference:a}=F(e,t),l="discount"===r&&a<0?"cheaper":"expensive";return n.createElement(f.Z,{backgroundColor:"positive.50",position:"relative",pl:"small",pr:"small",pt:"1x_small",pb:"2x_small",borderBottomLeftRadius:"regular",borderBottomRightRadius:"regular",sx:{margin:"-5px auto 0"},"data-testid":"price-tendency-box"},n.createElement(d.Z,null,n.createElement(N.Z,{type:"small",color:"neutral.0"},o(`alternativeItinerary.ribbon.${i&&0!==i.amount?"cheaper":l}`))))};var M=r(950845);const G=({itinerary:e,selectedItinerary:t,nonIssuable:r,showContinueButton:i=!1,valueProposition:o,discountAmount:a,onContinue:c,onChange:u})=>{const{t:p}=(0,j.$G)(),{altSearchId:m}=(0,l.hW)(),v=r?"alternativeItinerary.nonIssuable.button.change":`alternativeItinerary.issuable.button.change.${"price"===o||"discount"===o?"price":"similar"}`,y=i?"modal.availability.button":"alternativeItinerary.issuable.button.continue.similar",g=(0,s.$)(["click"],`alternative-flights-change-flight-searchId-${m}-itineraryId-${null==t?void 0:t.id}-alternativeItineraryId-${null==e?void 0:e.id}-discount:${null==a?void 0:a.amount}${null==a?void 0:a.currency}`),b=(0,s.$)(["click"],`alternative-flights-continue-original-flight-searchId-${m}-itineraryId-${null==t?void 0:t.id}-alternativeItineraryId-${null==e?void 0:e.id}`);return n.createElement(d.Z,{flexDirection:"column",alignItems:"center",pt:"1x_big"},n.createElement("div",{ref:g,style:{width:"100%"},"data-testid":"change-button-mobile",onClick:u},n.createElement(M.Z,{type:"primary",size:"large",sx:{fontWeight:"medium"},fullWidth:!0},p(v))),(!r||i)&&n.createElement(f.Z,{mt:"base",size:"100%"},n.createElement("div",{ref:b,"data-testid":"continue-button-mobile",onClick:c},n.createElement(M.Z,{type:"text",size:"large",fullWidth:!0},p(y)))))},H=({itinerary:e,selectedItinerary:t,valueProposition:r,discountAmount:i,nonIssuable:o,onContinue:a,onChange:c})=>{const{t:u}=(0,j.$G)(),{altSearchId:p}=(0,l.hW)(),m=`alternativeItinerary.issuable.button.change.${"price"===r||"discount"===r?"price":"similar"}`,v=o?"modal.availability.button":"alternativeItinerary.issuable.button.continue.similar",y=(0,s.$)(["click"],`alternative-flights-change-flight-searchId-${p}-itineraryId-${null==t?void 0:t.id}-alternativeItineraryId-${null==e?void 0:e.id}-discount:${null==i?void 0:i.amount}${null==i?void 0:i.currency}`),g=(0,s.$)(["click"],`alternative-flights-continue-original-flight-searchId-${p}-itineraryId-${null==t?void 0:t.id}-alternativeItineraryId-${null==e?void 0:e.id}`),b=o?null:g;return n.createElement(d.Z,{flexDirection:"column",alignItems:"center"},n.createElement("div",{ref:y,style:{width:"100%"},onClick:c,"data-testid":"change-button-desktop"},n.createElement(M.Z,{type:"primary",size:"large",sx:{fontWeight:"medium"},fullWidth:!0},u(m))),n.createElement(f.Z,{size:"100%",paddingTop:"1x_small"},n.createElement("div",{ref:b,onClick:a,"data-testid":"continue-button-desktop"},n.createElement(M.Z,{type:"text",size:"large",fullWidth:!0},u(v)))))},z=e=>{const{isMobile:t}=(0,i.pn)(),r=t?G:H;return n.createElement(r,e)};var V=r(548605),W=r(425837),K=r(213922),q=r(924065);const Y={ED:"info.50",OP:"primary.50",GO:"primary.50",TR:"primary.50"},X=()=>{const e=(0,q.D)();return Y[e]},J={price:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-price",category:"Deals",name:"TrendingDown",color:t,size:e}),discount:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-discount",category:"Finances",name:"Money",color:t,size:e}),cabinLuggage:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-cabinLuggage",category:"Baggage",name:"Medium",color:t,size:e}),checkedLuggage:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-checkedLuggage",category:"Baggage",name:"Large",color:t,size:e}),airport:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-airport",category:"TimeAndDates",name:"Future",color:t,size:e}),convenience:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-convenience",category:"Planes",name:"FlightDiagonal",color:t,size:e}),social:({iconSize:e,color:t})=>n.createElement(g.rZ,{"data-testid":"alternative-itinerary-layer-icon-social",category:"User",name:"Passengers",color:t,size:e})},Q=({valueProposition:e,iconSize:t="medium",color:r=X()})=>{const i=J[e];return n.createElement(i,{iconSize:t,color:r})};var ee=r(904276),te=r(68998);const re=({children:e})=>n.createElement(f.Z,{as:"span",px:"small",py:"tiny",borderRadius:"big",sx:{background:"linear-gradient(135deg, #DA3835 0%, #F9700D 100%)"}},n.createElement(N.Z,{type:"xSmall",color:"white",inline:!0},e)),ne=({color:e,children:t})=>n.createElement(N.Z,{type:"small",color:e,weight:"medium",inline:!0},t),ie=({valueProposition:e,itinerary:t})=>{var r;const i=((null==t?void 0:t.legs)||[]).length>1,o="cabinLuggage"===e?32:70;return n.createElement(_.P,{currency:(null==t||null===(r=t.price)||void 0===r?void 0:r.currency)||"EUR"},i?2*o:o)},oe=({distance:e})=>{const{isUK:t,isUS:r}=(0,ee.j)(),i=`${t|r?Math.floor(.62*(e||0)):e}${t|r?"mi":"km"}`;return n.createElement(N.Z,{type:"base",inline:!0},i)},ae=({valuePropositions:e,additionalInformation:t,itinerary:r,selectedItinerary:i})=>{const o=(0,te.Z)(),a=(null==e?void 0:e.length)||0,l=100+Math.floor(o(0,20));return 1!==(null==e?void 0:e.length)||"social"!==e[0]?n.createElement(f.Z,{paddingTop:"base"},n.createElement(d.Z,{flexDirection:"column"},null==e?void 0:e.map(((e,o)=>n.createElement(d.Z,{key:`benefit-${e}`,flexDirection:"row",mb:o===a-1?"0":"1x_small",alignItems:"start"},n.createElement(d.Z,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",height:"22px",minWidth:"16px"},n.createElement(Q,{valueProposition:e,iconSize:"small",color:"deals.40"})),n.createElement(d.Z,{flexDirection:"column",alignItems:"start",justifyContent:"center",ml:"1x_small"},n.createElement(N.Z,{type:"small"},n.createElement(V.Z,{i18nKey:`alternativeItinerary.benefit.${e}`,values:{numTravellers:l},components:{highlightPill:0===o||a>2&&1===o?n.createElement(re,null):n.createElement(ne,{color:"deals.40"}),priceDifference:n.createElement($,{itinerary:r,selectedItinerary:i}),moneyAmount:n.createElement(ie,{valueProposition:e,itinerary:r}),distance:n.createElement(oe,{distance:null==t?void 0:t.airport})}})))))))):null},le=({valuePropositions:e,additionalInformation:t,itinerary:r,selectedItinerary:i})=>{const o=(0,te.Z)(),a=(null==e?void 0:e.length)||0,l=100+Math.floor(o(0,20));return 1!==(null==e?void 0:e.length)||"social"!==e[0]?n.createElement(f.Z,{paddingTop:"base","data-testid":"alternative-itinerary-card-layer-benefits"},n.createElement(d.Z,{flexDirection:"column"},null==e?void 0:e.slice(0,3).reverse().map(((e,o)=>n.createElement(d.Z,{key:`benefit-${e}`,mb:o===a-1?"0":"1x_small",justifyContent:"flex-start",gap:"2"},n.createElement(f.Z,null,n.createElement(g.rZ,{category:"UIActions",name:"Check",size:"tiny",color:"positive.50"})),n.createElement(b.Z,{type:"6",color:"neutral.90",sx:{"&:has(.benefit-pill)":{lineHeight:"24px"}}},n.createElement(V.Z,{i18nKey:`alternativeItinerary.benefit.${e}`,values:{numTravellers:l},components:{highlightPill:0===o?n.createElement(ne,{color:"neutral.90"}):1===o?n.createElement(K.Z,{className:"benefit-pill",rounded:!0,type:"positive",theme:"soft",sx:{fontWeight:"500"}}):n.createElement(K.Z,{className:"benefit-pill",rounded:!0,type:"deals",theme:"default",sx:{fontWeight:"500"}}),priceDifference:n.createElement($,{itinerary:r,selectedItinerary:i}),moneyAmount:n.createElement(ie,{valueProposition:e,itinerary:r}),distance:n.createElement(oe,{distance:null==t?void 0:t.airport})}}))))))):null},se=e=>{const{simpleUI:t}=e,r=t?le:ae;return n.createElement(r,e)},ce=e=>n.createElement(n.Fragment,null,n.createElement(W.H,null,n.createElement(le,e)),n.createElement(W.i,null,n.createElement(se,e))),ue={price:"price",discount:"discountAmount",cabinLuggage:"cabinLuggage",checkedLuggage:"checkedLuggage",airport:"airport",convenience:"convenience",social:"social",directFlight:"directFlight"},de=({valueProposition:e,valuePropositions:t,itinerary:r,selectedItinerary:o,nonIssuable:a,discountAmount:l})=>{const{isDesktop:s}=(0,i.pn)(),{priceDifference:c}=F(r,o),u=ue[e],d=`alternativeItinerary.${a?"nonIssuable":"issuable"}.title.${"discount"===e&&0===(null==l?void 0:l.amount)&&c>0?t[t.length-1]:u}`;return n.createElement(b.Z,{type:s?"2":"3",weight:"medium",color:"neutral.90",sx:{paddingBottom:s?"0":"base"},"data-testid":"alternative-itinerary-card-layer-title"},n.createElement(V.Z,{i18nKey:d,components:{highlight:n.createElement(U,{isPositive:!0}),priceDifference:n.createElement($,{itinerary:r,selectedItinerary:o})}}))},pe=({valueProposition:e,valuePropositions:t,additionalInformation:r,discountAmount:i,itinerary:o,selectedItinerary:a,nonIssuable:l,showContinueButton:s=!1,paddingTop:c="1x_big",onContinue:u,onChange:d,overrideAction:p,trackingHandler:m,simpleUI:v=!1})=>{const y=(0,R.bp)(),g=L.F4`
  0% {
    transform: translateY(100%);
  }
  100%{
    transform: translateY(0);
  }
`;return n.createElement(f.Z,{sx:{backgroundColor:"neutral.0",borderTopLeftRadius:4,borderTopRightRadius:4,padding:"1x_big",paddingTop:c,animation:g,animationDuration:"0.5s"}},n.createElement(de,{valueProposition:e,valuePropositions:t,itinerary:o,selectedItinerary:a,nonIssuable:l,discountAmount:i}),n.createElement(f.Z,{paddingBottom:"0"},n.createElement(S,{isAlternativeItineraryOnModal:!0,itinerary:o,nonIssuable:l,isClickable:!s||v,isAlternativeItinerary:!0,isSelectedItinerary:!1,hasAlternativeItineraryDecorator:!0,onSelectAlternativeItinerary:d,overrideAction:p,trackingHandler:m,onSelectOriginalItinerary:u}),n.createElement(B,{itinerary:o,additionalInformation:r,valueProposition:e,valuePropositions:t,discountAmount:i,selectedItinerary:a,numPassengers:y})),n.createElement(ce,{valuePropositions:t,additionalInformation:r,itinerary:o,selectedItinerary:a,numPassengers:y,simpleUI:v}),!v&&n.createElement(z,{valueProposition:e,itinerary:o,selectedItinerary:a,nonIssuable:l,showContinueButton:s,discountAmount:i,onContinue:u,onChange:d}))};var me=r(257817);const ve=({itinerary:e,valueProposition:t,valuePropositions:r,additionalInformation:i,discountAmount:o,nonIssuable:a=!0,isUnavailable:s=!1,showContinueButton:c,selectedItinerary:d,backgroundColor:p,onContinue:m,onChange:v,overrideAction:y,trackingHandler:g,simpleUI:b})=>{const[h,E]=(0,n.useState)(!1),[P,O]=(0,n.useState)(!0),[I,w]=(0,n.useState)(0),[C,S]=(0,n.useState)(0),[j,x]=(0,n.useState)(!1),[T,A]=(0,n.useState)(!1),[k,Z]=(0,n.useState)(0),[L,R]=(0,n.useState)(0),[N,_]=(0,n.useState)(!1),[F,U]=(0,n.useState)(0),$=(0,n.useRef)(null),B=(0,n.useRef)(null),M=(0,me.Z)(),G=((null==e?void 0:e.legs)||[]).length>1,H=G?120:130,z=G?120:54,{isItineraryUnavailable:V}=(0,l.M1)(),W=V(d)||s;return(0,n.useLayoutEffect)((()=>{if(B.current&&w(B.current.clientHeight),$.current&&S($.current.clientHeight),G){M<=667&&(x(!0),_(!0));M-I<=(j?140:282)&&(A(!0),_(!0))}R(I+C-z),Z(I+C+H)}),[I,M,k,G,j,C,z,H]),(0,n.useEffect)((()=>{setTimeout((()=>O(!1)),300)}),[O]),(0,n.useEffect)((()=>{const e=((e,t,r)=>{const n=r?"small":"large";return{expanded:{large:{small:-210,large:-140},small:{small:-160,large:0}},collapsed:{large:{small:-76,large:2},small:{small:-15,large:0}}}[e?"expanded":"collapsed"][t?"large":"small"][n]})(h,T,j);U(e)}),[I,T,j,h,C]),n.createElement(u.Z,{scroll:N&&h,sx:{padding:"0",backgroundColor:p,position:"relative",maxHeight:"100%",overflowY:h?"scroll":"hidden !important"}},n.createElement(f.Z,{sx:{overflow:"hidden",position:"relative",height:`${24+I+C}px`,maxHeight:h&&!N?`${k}px`:`${L}px`,zIndex:1,transition:"max-height 0.6s ease-in-out"}},n.createElement("div",{ref:$},n.createElement(D,{itinerary:d,nonIssuable:a,isUnavailable:W,isTopSectionExpanded:h,onTitleClick:()=>{E(!h)},trackingHandler:g,onSelectOriginalItinerary:m,overrideAction:y}))),n.createElement(f.Z,{borderTopLeftRadius:"big",borderTopRightRadius:"big",backgroundColor:"neutral.0",sx:{position:"absolute",bottom:`${F}px`,overflow:"hidden",width:"100%",zIndex:2,height:P?"0":`${I}px`,transition:"bottom 0.6s ease-in-out, height 0.6s linear",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.3)"}},n.createElement("div",{ref:B},n.createElement(pe,{itinerary:e,selectedItinerary:d,nonIssuable:a,showContinueButton:c,paddingTop:"big",valueProposition:t,valuePropositions:r,additionalInformation:i,discountAmount:o,onContinue:m,onChange:v,overrideAction:y,trackingHandler:g,simpleUI:b}))))},ye=({itinerary:e,valueProposition:t,valuePropositions:r,additionalInformation:i,discountAmount:o,isBrokenFlow:a,nonIssuable:s=!0,isUnavailable:c=!1,showContinueButton:d,selectedItinerary:p,backgroundColor:m,onContinue:v,onChange:y,trackingHandler:f,simpleUI:g})=>{const{isItineraryUnavailable:b}=(0,l.M1)(),h=b(p)||c;return n.createElement(u.Z,{scroll:!0,sx:{padding:"0",backgroundColor:m}},n.createElement(x,{itinerary:p,nonIssuable:s,isBrokenFlow:a,isUnavailable:h,trackingHandler:f}),n.createElement(pe,{itinerary:e,selectedItinerary:p,nonIssuable:s,showContinueButton:d,valueProposition:t,valuePropositions:r,additionalInformation:i,discountAmount:o,onContinue:v,onChange:y,trackingHandler:f,simpleUI:g}))};var fe=r(63873),ge=r(56663);const be=L.F4`
  0% {
    transform: translate3d(0, 50%, 0);
    opacity: 0;
  }
  3% {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  22% {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  25% {
    transform: translate3d(0, -50%, 0);
    opacity: 0;
  }
`,he=()=>{const{t:e}=(0,j.$G)();return n.createElement(d.Z,{flexDirection:"column",alignItems:"center",width:"100%"},n.createElement(f.Z,{marginBottom:"1x_small"},n.createElement(b.Z,{type:"3",weight:"medium",textAlign:"center"},e("alternativeItinerary.loadingShoppingCart.title"))),n.createElement(d.Z,{flexDirection:"column",alignItems:"center",marginBottom:"base",minHeight:"20px",width:"100%",sx:{position:"relative"}},["alternativeItinerary.loadingShoppingCart.text1","alternativeItinerary.loadingShoppingCart.text2","alternativeItinerary.loadingShoppingCart.text3","alternativeItinerary.loadingShoppingCart.text4"].map(((t,r)=>n.createElement(b.Z,{key:r,textAlign:"center",type:"5",weight:"normal",sx:{animation:`${be} 20s ${5*r}s ease-in-out infinite`,position:"absolute",opacity:0}},e(t))))),n.createElement(f.Z,{width:"327px",sx:{backgroundColor:"neutral.30",borderRadius:"big",overflow:"hidden","& div":{backgroundColor:"primary.50",borderRadius:"big"}}},n.createElement(ge.Z,null)))};var Ee=r(620951),Pe=r(517367);const Oe=({innerHeightPercentage:e=.75})=>n.createElement(u.Z,null,n.createElement(d.Z,{flexDirection:"row",alignItems:"center",height:window.innerHeight*e+"px",width:"100%"},n.createElement(d.Z,{flexDirection:"column",alignItems:"center",width:"100%"},n.createElement(p.Z,{size:"xlarge"})))),Ie=({isOpen:e,onClose:t,itinerary:r,valueProposition:i,valuePropositions:o,additionalInformation:a,discountAmount:u,isBrokenFlow:p,nonIssuable:b=!0,isUnavailable:h=!1,hasCloseIcon:E=!0,showContinueButton:P,selectedItinerary:O,loading:I,showLoadingBar:w,isShoppingCartLoading:C=!1,onContinue:S,onChange:j,overrideAction:x,simpleUI:T=!1,trackingHandler:A,pageName:k=Ee.GV.FlightsResults})=>{const Z=T?ve:ye,{altSearchId:D}=(0,l.hW)(),L="neutral.20",{state:R,transitionDuration:N}=(0,m.y)({isOpen:e,transitionDuration:300}),_=(0,s.$)(["display"],`alternative-flights-layer-searchId-${D}-itineraryId-${null==O?void 0:O.id}-alternativeItineraryId-${null==r?void 0:r.id}-${i}-discount:${null==u?void 0:u.amount}${null==u?void 0:u.currency}`),F=D&&r&&e&&!I?_:null,U=(0,fe.U)(),[$]=(0,c.u5)("searchParameters"),B=T&&b&&k!==Ee.GV.FlightsResults;return n.createElement("div",{ref:F},n.createElement(v.Z,{state:R,transitionDuration:N,onBackdropClick:()=>{A("discard","backdrop","OP"),U(),t()},sx:{backgroundColor:L,maxHeight:"95%"}},n.createElement(y.Z,{elevated:!1},(E||T)&&n.createElement(f.Z,{sx:{height:"8px"}},n.createElement(d.Z,{className:"random","data-testid":"close-icon",top:"minus_1x_small",position:"absolute",onClick:()=>B?(()=>{const e=(0,Pe.Tt)($);window.location.assign(e),U()})():(A("discard","cross","CC"),U(),void t())},n.createElement(g.rZ,{category:B?"Arrows":"UIActions",name:B?"Left":"Clear",size:"medium",color:"neutral.90",sx:{zIndex:1}})))),(I||!r)&&n.createElement(Oe,{innerHeightPercentage:T?.65:.75}),!I&&r&&!C&&n.createElement(Z,{itinerary:r,valueProposition:i,valuePropositions:o,additionalInformation:a,discountAmount:u,isBrokenFlow:p,nonIssuable:b,isUnavailable:h,showContinueButton:P,selectedItinerary:O,backgroundColor:L,onContinue:S,onChange:j,overrideAction:x,trackingHandler:A,simpleUI:T}),(w||C&&!I)&&n.createElement(d.Z,{height:.75*window.innerHeight+"px",alignItems:"center",justifyContent:"center"},n.createElement(he,null))))};var we=r(797390),Ce=r(819238),Se=r(63963),je=r(728406),xe=r(923932),Te=r(24428),Ae=r(783888),ke=r(33693),Ze=r(939950),De=r(325503);const Le=({isBrokenFlow:e,content:t})=>{const{t:r}=(0,j.$G)(),{isDesktop:o}=(0,i.pn)(),a=o?"warning.70":"neutral.0";return n.createElement(f.Z,{marginY:o?"0":"base",borderRadius:o?"regular":"small",sx:{backgroundColor:o?"warning.20":"warning.50"}},n.createElement(d.Z,null,n.createElement(d.Z,{flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"small"},n.createElement(g.rZ,{"data-testid":"alternative-itinerary-unavailable-banner-warning-icon",category:"Alerts",name:"Warning",color:a,size:o?"small":"medium"})),n.createElement(d.Z,{flexDirection:"column",alignItems:"center",justifyContent:"center"},n.createElement(N.Z,{type:o?"xSmall":"small",sx:{color:a}},e?r("alternativeBrokenFlow.title.large.issue"):t||r("alternativeItinerary.nonIssuable.flightUnavailable"+(o?".large":"short"))))))},Re=({itinerary:e,valueProposition:t,valuePropositions:r,discountAmount:i,selectedItinerary:o,additionalInformation:a,isBrokenFlow:l,nonIssuable:s,onContinue:c,onChange:u})=>{const{t:p}=(0,j.$G)(),m=(0,R.bp)();return n.createElement(d.Z,{flexDirection:"column",justifyContent:"center",backgroundColor:"neutral.0",paddingRight:"2x_big",width:"50%",padding:"2x_big"},s&&n.createElement(f.Z,null,n.createElement(Le,{isBrokenFlow:l})),n.createElement(f.Z,{sx:{marginTop:s?"auto":"32px"}},!s&&("discount"===t||"price"===t)&&n.createElement(d.Z,{alignItems:"flex-end",gap:"1",sx:{marginBottom:"base"}},n.createElement(f.Z,null,n.createElement(g.rZ,{category:"Deals",name:"Hot",size:"small",color:"deals.40"})),n.createElement(b.Z,{type:"4",weight:"medium",color:"deals.40"},p("alternativeItinerary.layer.title.price"))),n.createElement(de,{itinerary:e,valueProposition:t,valuePropositions:r,selectedItinerary:o,nonIssuable:s,discountAmount:i}),r.length>0&&n.createElement(ce,{valuePropositions:r,additionalInformation:a,itinerary:e,selectedItinerary:o,numPassengers:m})),n.createElement(f.Z,{sx:{marginTop:"auto"}},n.createElement(z,{valueProposition:t,itinerary:e,selectedItinerary:o,nonIssuable:s,discountAmount:i,onContinue:c,onChange:u})))},Ne=({selectedItinerary:e,itinerary:t,valueProposition:r,isBrokenFlow:i,nonIssuable:o,trackingHandler:a})=>{const{t:l}=(0,j.$G)(),s=o?"none":"auto";return n.createElement(d.Z,{flexDirection:"column",justifyContent:"center",backgroundColor:"neutral.20",padding:"2x_big",width:"50%"},n.createElement(f.Z,{"data-testid":"alternative-selected-itinerary-desktop",marginBottom:"base",sx:{pointerEvents:s}},n.createElement(S,{itinerary:e,isBrokenFlow:i,isUnavailable:o,isClickable:!1,isSelectedItinerary:!0,isAlternativeItineraryOnModal:!0,isAlternativeTopSection:!0,trackingHandler:a})),n.createElement(f.Z,{"data-testid":"alternative-itinerary-desktop"},n.createElement(Ae.Z,{type:"positive",size:"full",sx:{paddingBottom:"1x_small",paddingTop:"2x_small",marginBottom:"minus_small","::after":{content:"none"}}},n.createElement(N.Z,{type:"small",weight:"normal",color:"neutral.0"},l("alternativeItinerary.ribbon."+("discount"===r||"price"===r?"cheaper":"expensive")))),n.createElement(S,{itinerary:t,isClickable:!0,isAlternativeItinerary:!0,hasAlternativeItineraryDecorator:!0,isAlternativeItineraryOnModal:!0,trackingHandler:a})))},_e=({isOpen:e,loading:t,isShoppingCartLoading:r=!1,itinerary:i,valueProposition:o,valuePropositions:a,discountAmount:c,selectedItinerary:u,additionalInformation:m,isBrokenFlow:v,nonIssuable:y,onContinue:f,onChange:g,onClose:b,trackingHandler:h})=>{const{altSearchId:E}=(0,l.hW)(),{addItineraryToUnavailableList:P}=(0,l.M1)(),O=(0,s.$)(["display"],`alternative-flights-layer-searchId-${E}-itineraryId-${null==u?void 0:u.id}-alternativeItineraryId-${null==i?void 0:i.id}-${o}-discount:${null==c?void 0:c.amount}${null==c?void 0:c.currency}`),I=E&&i&&e&&!t?O:null;return e&&!t&&y&&P(u),(0,ke.Z)({state:e?"opened":"closed"}),n.createElement("div",{ref:I},n.createElement(Ze.u_,{state:e?"opened":"closed",size:"large",sx:{width:"856px"},onClose:y?()=>{}:b,"data-testid":"alternative-itinerary-card-layer-desktop"},n.createElement(De.h,{sx:{padding:0}},r?n.createElement(d.Z,{height:"461px",justifyContent:"center",alignItems:"center"},n.createElement(he,null)):t||!i?n.createElement(d.Z,{flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"461px","data-testid":"alternative-itinerary-card-layer-desktop-loading"},n.createElement(p.Z,{size:"xlarge"})):n.createElement(d.Z,{width:"100%",height:"461px"},n.createElement(Re,{itinerary:i,valueProposition:o,valuePropositions:a,discountAmount:c,selectedItinerary:u,additionalInformation:m,isBrokenFlow:v,nonIssuable:y,onContinue:f,onChange:g}),n.createElement(Ne,{itinerary:i,selectedItinerary:u,valueProposition:o,isBrokenFlow:v,nonIssuable:y,trackingHandler:h})))))},Fe=({isOpen:e,onClose:t,itinerary:r,selectedItinerary:o,discountAmount:a,valueProposition:l,valuePropositions:s,additionalInformation:c,isBrokenFlow:u,nonIssuable:d=!0,isUnavailable:p=!1,hasCloseIcon:m=!0,showContinueButton:v,loading:y,showLoadingBar:f,isShoppingCartLoading:g=!1,onContinue:b,onChange:h,overrideAction:E,trackingHandler:P,simpleUI:O,pageName:I=Ee.GV.FlightsResults})=>{const{isMobile:w}=(0,i.pn)();return w?n.createElement(Ie,{isOpen:e,onClose:t,itinerary:r,selectedItinerary:o,discountAmount:a,isBrokenFlow:u,nonIssuable:d,isUnavailable:p,hasCloseIcon:m,showContinueButton:v,valueProposition:l,valuePropositions:s,additionalInformation:c,loading:y,showLoadingBar:f,isShoppingCartLoading:g,onContinue:b,onChange:h,overrideAction:E,trackingHandler:P,simpleUI:O,pageName:I}):null},Ue=({isOpen:e,itinerary:t,selectedItinerary:r,discountAmount:o,valueProposition:a,valuePropositions:l,additionalInformation:s,isBrokenFlow:c,nonIssuable:u=!0,loading:d,isShoppingCartLoading:p=!1,onContinue:m,onChange:v,onClose:y,trackingHandler:f})=>{const{isDesktop:g}=(0,i.pn)();return g?n.createElement(_e,{isOpen:e,loading:d,isShoppingCartLoading:p,itinerary:t,valueProposition:a,valuePropositions:l,discountAmount:o,selectedItinerary:r,isBrokenFlow:c,nonIssuable:u,additionalInformation:s,onContinue:m,onChange:v,onClose:y,trackingHandler:f}):null},$e=({itinerary:e,selectedItinerary:t,discountAmount:r,valueProposition:i,valuePropositions:l,additionalInformation:s,alternativeItineraryPosition:u,nonIssuable:d,goToResults:p,loading:m,errors:v,trackingHandler:y,simpleUI:f,pageName:g})=>{const[b,h]=(0,n.useState)(!1),[E]=(0,c.u5)("searchParameters"),{isOpen:P,isErrorLayerVisible:O}=(0,a.MV)(),{selectItineraryAndContinue:I}=(0,je.OE)(),{close:w}=(0,a.dd)(),[C]=(0,Ce.k)(),{feeTypeSelected:S}=(0,a.MV)(),j=S||(null==C?void 0:C.id),x=r=>{if("close"===r)return y("discard","backdrop","OP"),h(!1),void w();if("continue"===r)if(y("discard","button","CR"),d&&p){const e=(0,Pe.Tt)(E);window.location.assign(e)}else if(d)return void w();"change"===r&&y("select","alternative","button");const n="continue"===r?t:e;I((0,o.EZ)(n,j),{feeTypeId:j}),w()};return(0,n.useEffect)((()=>{P&&!b&&null!=u&&(h(!0),y("onLoad",""))}),[P,u,b,h,y]),!d&&v?(I((0,o.EZ)(t,j),{feeTypeId:j}),null):v||O?n.createElement(we.Z,{open:P,onClose:w,onClick:w}):n.createElement(Ue,{isOpen:P,onClose:()=>x("close"),itinerary:e,selectedItinerary:t,discountAmount:r,valueProposition:i,valuePropositions:l,additionalInformation:s,nonIssuable:d,loading:m,onContinue:()=>x("continue"),onChange:()=>x("change"),trackingHandler:y,simpleUI:f,pageName:g})},Be=e=>{const{isMobile:t}=(0,i.pn)(),r=t?Fe:Ue;return n.createElement(r,e)},Me=({itinerary:e,selectedItinerary:t,discountAmount:r,valueProposition:i,valuePropositions:s,additionalInformation:c,alternativeItineraryPosition:u,nonIssuable:d,isUnavailable:p,hasCloseIcon:m=!0,isShoppingCartLoading:v,loading:y,errors:f,trackingHandler:g,simpleUI:b,pageName:h})=>{const[E,P]=(0,n.useState)(!1),[O,I]=(0,n.useState)(!1),{navigate:w}=(0,xe.k6)(),{showItineraryTrip:C}=(0,o._V)(),S=(0,Se.d)(),{setContinueWithErrorBookeableState:j}=(0,l.M1)(),{isOpen:x,isErrorLayerVisible:T}=(0,a.MV)(),{close:A}=(0,a.dd)(),{feeTypeSelected:k}=(0,a.MV)(),[Z]=(0,Ce.k)(),D=k||(null==Z?void 0:Z.id),L=r=>{if("close"===r)return I(!1),void A();const n="continue"===r?t:e;"change"===r&&g("select","alternative","button"),"continue"===r&&g("discard","button","CR"),S({itinerary:(0,o.EZ)(n,D)}),P(!0),A()};return(0,n.useEffect)((()=>{x&&!O&&null!=u&&(I(!0),g("onLoad",""))}),[x,u,O,I,g]),(0,n.useEffect)((()=>{E&&(w(Te.qD,{push:!0}),C(),P(!1))}),[E,w,C]),!d&&f?(j(!0),null):f||T?n.createElement(we.Z,{open:x,onClose:A,onClick:A}):n.createElement(Fe,{isOpen:x,onClose:()=>L("close"),itinerary:e,selectedItinerary:t,discountAmount:r,valueProposition:i,valuePropositions:s,additionalInformation:c,nonIssuable:d,isUnavailable:p,hasCloseIcon:m,loading:y,isShoppingCartLoading:v,onContinue:()=>L("continue"),onChange:()=>L("change"),trackingHandler:g,simpleUI:b,pageName:h})}},474319:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(878969),i=r(236035),o=r(792106),a=r(795030),l=r(859088),s=r(73565),c=r(55031),u=r(752747);const d=i.F4`
0% {
  transform: scale(1);
}
50% {
  transform: scale(1.25);
}
100%{
  transform: scale(1);
}
`,p=({itineraryId:e,withRetailPills:t=!0})=>{const r=(0,u.Z)(),[i,p]=(0,n.useState)(!1),{favorites:m,addFavorite:v,removeFavorite:y}=(0,c.r)(),f=!!m.find((t=>(null==t?void 0:t.id)===e)),g=(0,o.Z)();let b;(0,n.useEffect)((()=>()=>{b&&clearTimeout(b)}),[b]);return n.createElement(a.Z,{mr:g?"0":"minus_base",ml:g?"minus_base":"0",mt:"minus_base",sx:{cursor:"pointer"}},n.createElement(l.g,{onClick:t=>{null==t||t.preventDefault(),null==t||t.stopPropagation(),f?y(e):v(e),r(),p(!0),b=setTimeout((()=>{p(!1)}),500)},height:t?"56px":"24px",mt:t?"unset":"base",width:"56px",justifyContent:"center",alignItems:"center","data-testid":"favorite"},n.createElement(s.rZ,{"data-testid":"favorite-icon",category:"UIActions",name:f?"Favorite":"FavoriteOutline",sx:{"&:hover":{color:f?"red.30":"neutral.70"},"&:active":{transform:"scale(0.75)"},color:f?"red.50":"neutral.80",animation:i?`${d} 0.5s ease-in-out`:null}})))}},989508:(e,t,r)=>{r.d(t,{Jw:()=>i,ZP:()=>o});var n=r(140015);const i="OTHER",o=()=>{const e=new Set,t=(0,n.Z)();return{add:(r,n)=>{n||e.has(i)?n&&(e.add(n),t.add({id:n,checked:!0})):(e.add(i),t.add({id:i,checked:!0}))},build:()=>t.build().sort((({id:e},{id:t})=>e<t?-1:e>t?1:0))}}},878037:(e,t,r)=>{r.d(t,{_b:()=>v,bG:()=>g,cP:()=>f,lF:()=>y});var n=r(878969),i=r(872064),o=r(82593),a=r(767502),l=r(9303);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=(0,n.createContext)([[],()=>{}]),p="aircraft",m=(e,t)=>{switch(t.type){case"SET":return t.payload;case"TOGGLE":return e.map((e=>e.id===t.payload.id?c(c({},e),{},{checked:!e.checked}):e));case"CHECK_ALL":return e.map((e=>c(c({},e),{},{checked:!0})));case"UNCHECK_ALL":return e.map((e=>c(c({},e),{},{checked:!1})));case"CHECK_ONLY":return e.map((e=>c(c({},e),{},{checked:e.id===t.payload.id})));default:return e}},v=({children:e})=>{const t=(0,l.o3)(),r=(0,n.useReducer)(m,[]),[s,c]=r,u=(0,i.mT)(),{add:v,remove:y}=(0,o.b8)(),f=(0,o.KP)(),g=!s.every((e=>e.checked));return(0,n.useEffect)((()=>{const e=!!f.find((({alias:e})=>e===p));g&&!e?v({alias:p,undo:()=>c({type:"CHECK_ALL"})}):!g&&e&&y({alias:p})}),[g,v,y,c,f]),(0,n.useEffect)((()=>{c({type:"SET",payload:[]})}),[t,c]),(0,n.useEffect)((()=>{!s.length&&u&&u.length>0&&c({type:"SET",payload:u})}),[u,c,s]),n.createElement(d.Provider,{value:r},n.createElement(a.D,null,e))},y=()=>(0,n.useContext)(d)[0],f=()=>{const e=(0,n.useContext)(d)[1];return{setState:t=>e({type:"SET",payload:t}),toggle:t=>e({type:"TOGGLE",payload:{id:t}}),checkAll:()=>e({type:"CHECK_ALL"}),uncheckAll:()=>e({type:"UNCHECK_ALL"}),checkOnly:t=>e({type:"CHECK_ONLY",payload:{id:t}})}},g=()=>!y().every((e=>e.checked))},767502:(e,t,r)=>{r.d(t,{D:()=>l,n:()=>s});var n=r(878969),i=r(878037),o=r(989508);const a=(0,n.createContext)((()=>!0)),l=({children:e})=>{const t=(e=>e&&0!==e.length?({legs:t})=>{var r;return null===(r=null==t?void 0:t.every((({segments:t})=>t.every((({sections:t})=>t.every((({vehicleModel:t})=>{var r;return null===(r=e.filter((({id:e})=>e===t||e===o.Jw&&!t))[0])||void 0===r?void 0:r.checked})))))))||void 0===r||r}:()=>!0)((0,i.lF)());return n.createElement(a.Provider,{value:t},e)},s=()=>n.useContext(a)},592679:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(140015),i=r(753730),o=r(644285);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>({airports:e,isAbleToBeUnfiltered:e.some((({isAbleToBeUnfiltered:e})=>e))}),u=(e,{iata:t})=>"AIRPORT"!==e.type||e.iata===t||e.iataCode===t,d=(e,t)=>{const r=(0,n.Z)(),i=(0,n.Z)(),o=null==t?void 0:t[e];let a=!1;return{add({sections:e}){const{departure:t}=e[0],{destination:n}=e[e.length-1],s=u(null==o?void 0:o.departure,t),c=u(null==o?void 0:o.destination,n);a=a||!s||!c,r.add(l(l({},t),{},{checked:s})),i.add(l(l({},n),{},{checked:c}))},build(){return{isAbleToBeUnfiltered:a,departureAirports:r.build(),destinationAirports:i.build()}}}},p=({tripType:e,itinerary:t},r=!1)=>{const n=(0,i.Z)(d,t.segments);return{add(e,t){n.add(e,t)},build(){const t=n.build();return c("ROUND_TRIP"!==e||r?t:(([e,t])=>{const r=(0,o.Z)([...e.departureAirports,...t.destinationAirports]),n=(0,o.Z)([...e.destinationAirports,...t.departureAirports]);return[l(l({},e),{},{departureAirports:r,destinationAirports:n})]})(t))}}}},99914:(e,t,r)=>{r.d(t,{I6:()=>h,U0:()=>P,ZP:()=>O,m7:()=>E});var n=r(878969),i=r(643390),o=r(626825);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=(0,n.createContext)((()=>{})),u=e=>t=>t.map((t=>l(l({},t),{},{checked:e}))),d=(e,{isNewSearch:t})=>({airports:e,isNewSearch:t}),p=e=>(t,r)=>{const{airports:n}=t||r.availableAirports,{legId:i,airportType:o}=r,a=n.map(((t,n)=>i!==n?t:l(l({},t),{},{[o]:e(t[o],r)})));return d(a,r)},m=p(((e,{value:t})=>e.map((e=>e.id!==t?e:l(l({},e),{},{checked:!e.checked}))))),v=p(((e,{value:t})=>e.map((e=>l(l({},e),{},{checked:e.id===t}))))),y=p(u(!0)),f=p(u(!1)),g=(b=u(!0),(e,t)=>{const{airports:r}=e||t.availableAirports,n=r.map(((e,r)=>({id:r,departureAirports:b(e.departureAirports,t),destinationAirports:b(e.destinationAirports,t)})));return d(n,t)});var b;const h=(e,t)=>{switch(t.type){case"INIT":return null;case"LEG_TOGGLE":return m(e,t);case"LEG_SELECT_ONE":return v(e,t);case"LEG_SELECT_ALL":return y(e,t);case"LEG_DESELECT_ALL":return f(e,t);case"SELECT_ALL":return g(e,t);default:return e}},E=(e,t)=>{const r=(0,o.J)(),a=(0,i.Qq)(),s=(0,n.useContext)(c);return(0,n.useMemo)((()=>{const n=r=>l({legId:e,airportType:t,availableAirports:a},r);return{toggle:r((({value:e})=>s(n({type:"LEG_TOGGLE",value:e})))),selectOne:r((e=>s(n({type:"LEG_SELECT_ONE",value:e})))),selectAll:r((()=>s(n({type:"LEG_SELECT_ALL"})))),deselectAll:r((()=>s(n({type:"LEG_DESELECT_ALL"}))))}}),[s,a,t,e,r])},P=()=>{const e=(0,o.J)(),t=(0,i.Qq)(),r=(0,n.useContext)(c);return(0,n.useMemo)((()=>({selectAll:e((({isNewSearch:e=!1}={})=>{r({type:"SELECT_ALL",availableAirports:t,isNewSearch:e})})),selectLegAll:e((({legId:e,airportType:n})=>{r({type:"LEG_SELECT_ALL",legId:e,airportType:n,availableAirports:t})}))})),[r,t,e])},O=({dispatch:e,children:t})=>{const r=(0,i.Qq)();return(0,n.useEffect)((()=>{r||e({type:"INIT"})}),[e,r]),n.createElement(c.Provider,{value:e},t)}},38305:(e,t,r)=>{r.d(t,{Z:()=>m,t:()=>p});var n=r(878969),i=r(9303),o=r(643390);const a=(0,n.createContext)((()=>!1)),l=({id:e})=>e,s=e=>new Set((e||[]).filter((({checked:e})=>e)).map(l)),c=()=>!0,u=({departureAirports:e,destinationAirports:t})=>{const r=s(e),n=s(t),i=e?({id:e})=>r.has(e):c,o=t?({id:e})=>n.has(e):c;return({sections:e})=>{const{departure:t}=e[0],{destination:r}=e[e.length-1];return i(t)&&o(r)}},d=(e,t)=>{if(!e.airports)return c;const{airports:r}=e,n="ROUND_TRIP"===t?(e=>{const{departureAirports:t,destinationAirports:r}=e;return[u(e),u({departureAirports:r,destinationAirports:t})]})(r[0]):r.map(u);return({legs:e})=>e.every(((e,t)=>n[t](e.segments[0])))},p=()=>(0,n.useContext)(a);function m({children:e}){const t=(0,o.S0)(),{tripType:r}=(0,i.o3)()||{},l=d(t,r);return n.createElement(a.Provider,{value:l},e)}},643390:(e,t,r)=>{r.d(t,{Lg:()=>m,Qq:()=>d,S0:()=>u,ZP:()=>v,pR:()=>p});var n=r(878969),i=r(493780);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=(0,n.createContext)({}),{StateProvider:c,useFilterState:u,useAvailableFilterState:d}=(0,i.Z)("airports",s,((e,{isNewSearch:t}={isNewSearch:!1})=>a(a({},e),{},{isNewSearch:t}))),p=(e,t)=>{const{airports:r}=u();return r?r[e][t]:null},m=()=>{var e;const t=d(),{isNewSearch:r}=u();return r&&null!==(e=null==t?void 0:t.isAbleToBeUnfiltered)&&void 0!==e&&e},v=c},484878:(e,t,r)=>{r.d(t,{ZP:()=>I,b1:()=>O,fd:()=>P,sY:()=>E,td:()=>h});var n=r(878969),i=r(99914),o=r(643390),a=r(576084),l=r(154773);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=(0,n.createContext)(!1),p=(0,n.createContext)(!1),m=(0,n.createContext)([]),v=(0,n.createContext)([]),y={summary:[],isApplied:!1,isUnsuited:!1},f=e=>e&&e.map((([e])=>e)),g=e=>e&&e.map((([,e])=>e)),b=({summary:e,children:t})=>{const{previous:r,next:o}=(0,a.l)(e),{departureAirports:l,destinationAirports:s}=((e,t)=>({departureAirports:{previous:f(e),next:f(t)},destinationAirports:{previous:g(e),next:g(t)}}))(r,o),{selectLegAll:c}=(0,i.U0)(),u=(0,n.useMemo)((()=>{const e=e=>({legId:t})=>c({airportType:e,legId:t});return{departureAirports:e("departureAirports"),destinationAirports:e("destinationAirports")}}),[c]),d=[...(0,a.m)(l.previous,l.next,"departureAirports",u.departureAirports),...(0,a.m)(s.previous,s.next,"destinationAirports",u.destinationAirports)];return n.createElement(v.Provider,{value:d},t)},h=()=>(0,n.useContext)(m),E=()=>(0,n.useContext)(v),P=()=>(0,n.useContext)(d),O=()=>(0,n.useContext)(p),I=({children:e})=>{const t=(0,o.S0)(),{product:r}=(0,l.$R)(),{summary:i,isApplied:a,isUnsuited:s}=(({airports:e},t)=>{if(!e||0===e.length)return y;const r=(e,t)=>{if(!e)return y;const r="TRAIN"===t?"TRAIN_STATION":"AIRPORT",n=""!==t?e.filter((({locationType:e})=>e===r)):e,i=e.filter((({checked:e})=>e)),o=""!==t?i.filter((({locationType:e})=>e===r)):i,a=o.length<n.length;return{summary:a?o:[],isApplied:a,isUnsuited:0===o.length}},n=[];let i=!1,o=!1;return e.forEach((({departureAirports:e,destinationAirports:a})=>{const l=r(e,t),s=r(a,t);i=i||l.isUnsuited||s.isUnsuited,o=o||l.isApplied||s.isApplied;const u=[c({type:"departure"},l),c({type:"destination"},s)];u.length>0&&n.push(u)})),{summary:n,isApplied:o,isUnsuited:i}})(t,r);return n.createElement(m.Provider,{value:i},n.createElement(b,{summary:i},n.createElement(d.Provider,{value:a},n.createElement(p.Provider,{value:s},e))))}},798686:(e,t,r)=>{r.d(t,{ZP:()=>s});var n=r(878969),i=r(484878),o=r(99914),a=r(38305),l=r(643390);const s=({children:e})=>{const[t,r]=(0,n.useReducer)(o.I6,null);return n.createElement(l.ZP,{airports:t},n.createElement(a.Z,null,n.createElement(o.ZP,{dispatch:r},n.createElement(i.ZP,null,e))))}},408341:(e,t,r)=>{r.d(t,{Z:()=>s,l:()=>l});var n=r(878969),i=r(721138),o=r(82593);const a=(0,n.createContext)({}),l=()=>{const e=(0,n.useContext)(a);if(!e)throw new Error("useCarbonFootprintFilter must be used within a CarbonFootprintFilterProvider");return e},s=({children:e})=>{const{start:t}=(0,i.s4)(),{add:r,remove:l}=(0,o.b8)(),[s,c]=(0,n.useState)(!1),u=e=>{t(),c(e),e?r({alias:"carbonFootprint",type:"eco",undo:()=>{c(!1),l({alias:"carbonFootprint"})}}):l({alias:"carbonFootprint"})},d={hasCarbonFootprintFilterApplied:s,toggleCarbonFootprintFilter:()=>u(!s),resetCarbonFootprintFilter:()=>u(!1)};return n.createElement(a.Provider,{value:d},e)}},943957:(e,t,r)=>{r.d(t,{Z:()=>n});const n=e=>t=>!e||t.carbonFootprint&&t.carbonFootprint.isEco},408824:(e,t,r)=>{r.d(t,{I6:()=>b,U0:()=>E,ZP:()=>P,m7:()=>h});var n=r(878969),i=r(380751),o=r(626825);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=(0,n.createContext)(),u=e=>t=>t.map((t=>l(l({},t),{},{checked:e}))),d=e=>(t,r)=>{const n=t||r.availableCarriers,{legId:i}=r;return n.map(((t,n)=>i!==n?t:{legId:i,carriers:e(t.carriers,r)}))},p=d(((e,{value:t})=>e.map((e=>e.id!==t?e:l(l({},e),{},{checked:!e.checked}))))),m=d(((e,{value:t})=>e.map((e=>l(l({},e),{},{checked:e.id===t}))))),v=d(u(!0)),y=d(u(!1)),f=(g=u(!0),(e,t)=>(e||t.availableCarriers).map(((e,r)=>({legId:r,carriers:g(e.carriers,t)}))));var g;const b=(e,t)=>{switch(t.type){case"INIT":return null;case"LEG_TOGGLE":return p(e,t);case"LEG_SELECT_ONE":return m(e,t);case"LEG_SELECT_ALL":return v(e,t);case"LEG_DESELECT_ALL":return y(e,t);case"SELECT_ALL":return f(e,t);default:return e}},h=e=>{const t=(0,o.J)(),r=(0,i.Qq)(),a=(0,n.useContext)(c);return(0,n.useMemo)((()=>{const n=t=>l({legId:e,availableCarriers:r},t);return{toggle:t((({value:e})=>a(n({type:"LEG_TOGGLE",value:e})))),selectOne:t((e=>a(n({type:"LEG_SELECT_ONE",value:e})))),selectAll:t((()=>a(n({type:"LEG_SELECT_ALL"})))),deselectAll:t((()=>a(n({type:"LEG_DESELECT_ALL"}))))}}),[a,r,e,t])},E=()=>{const e=(0,o.J)(),t=(0,i.Qq)(),r=(0,n.useContext)(c);return(0,n.useMemo)((()=>({selectAll:e((()=>{r({type:"SELECT_ALL",availableCarriers:t})})),selectLegAll:e((({legId:e})=>{r({type:"LEG_SELECT_ALL",legId:e,availableCarriers:t})}))})),[r,t,e])},P=({dispatch:e,children:t})=>{const r=(0,i.Qq)();return(0,n.useEffect)((()=>{r||e({type:"INIT"})}),[e,r]),n.createElement(c.Provider,{value:e},t)}},95119:(e,t,r)=>{r.d(t,{Z:()=>d,t:()=>u});var n=r(878969),i=r(9303),o=r(380751);const a=(0,n.createContext)(),l=()=>!0,s=({carriers:e})=>t=>e.some((e=>e.checked&&e.id===t.carrier.id)),c=(e,t)=>{if(!e)return l;const r="ROUND_TRIP"===t?(e=>{const t=s(e[0]);return[t,t]})(e):e.map(s);return({legs:e})=>e.every(((e,t)=>r[t](e.segments[0])))},u=()=>(0,n.useContext)(a);function d({children:e}){const t=(0,o.S0)(),{tripType:r}=(0,i.o3)()||{},l=c(t,r);return n.createElement(a.Provider,{value:l},e)}},380751:(e,t,r)=>{r.d(t,{Qq:()=>s,S0:()=>l,ZP:()=>u,pR:()=>c});var n=r(878969),i=r(493780);const o=(0,n.createContext)(),{StateProvider:a,useFilterState:l,useAvailableFilterState:s}=(0,i.Z)("carriers",o),c=e=>{var t;return(null===(t=(l()||{})[e])||void 0===t?void 0:t.carriers)||null},u=a},940961:(e,t,r)=>{r.d(t,{ZP:()=>P,b1:()=>E,fd:()=>h,sY:()=>b,td:()=>g});var n=r(878969),i=r(408824),o=r(380751),a=r(576084),l=r(154773);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=(0,n.createContext)(!1),d=(0,n.createContext)(!1),p=(0,n.createContext)({}),m=(0,n.createContext)([]),v={summary:[],isApplied:!1,isUnsuited:!1},y=(e,t)=>{const r=""!==t?e.filter((({transportType:e})=>e===t)):e,n=e.filter((({checked:e})=>e)),i=""!==t?n.filter((({transportType:e})=>e===t)):n,o=i.length<r.length,a=0===i.length;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isApplied:o,isUnsuited:a},o&&!a&&{carrierName:i[0].name,count:i.length-1})},f=({summary:e,children:t})=>{const{previous:r,next:o}=(0,a.l)(e),{selectLegAll:l}=(0,i.U0)(),s=(0,a.m)(r,o,"airline",l,"default");return n.createElement(m.Provider,{value:s},t)},g=()=>(0,n.useContext)(p),b=()=>(0,n.useContext)(m),h=()=>(0,n.useContext)(u),E=()=>(0,n.useContext)(d),P=({children:e})=>{const t=(0,o.S0)(),{product:r}=(0,l.$R)(),{summary:i,isApplied:a,isUnsuited:s}=((e,t)=>{if(!e||0===e.length)return v;const r=[];let n=!1,i=!1;return e.forEach((({carriers:e})=>{const o=y(e,t);n=n||o.isApplied,i=i||o.isUnsuited,r.push(o)})),{summary:r,isApplied:n,isUnsuited:i}})(t,r);return n.createElement(p.Provider,{value:i},n.createElement(f,{summary:i},n.createElement(u.Provider,{value:a},n.createElement(d.Provider,{value:s},e))))}},919360:(e,t,r)=>{r.d(t,{ZP:()=>s});var n=r(878969),i=r(380751),o=r(95119),a=r(408824),l=r(940961);const s=({children:e})=>{const[t,r]=(0,n.useReducer)(a.I6,null);return n.createElement(i.ZP,{carriers:t},n.createElement(o.Z,null,n.createElement(a.ZP,{dispatch:r},n.createElement(l.ZP,null,e))))}},2379:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(140015),i=r(753730);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=()=>{const e=(0,n.Z)();return{add(t){e.add(t)},build(){return{carriers:e.build()}}}},c={has:()=>!0},u=e=>{const t=e.airlineCodes?new Set(e.airlineCodes):c,r=(0,i.Z)(s);return{add(e,n){const i=t.has(n.carrier.id);r.add(e,a(a({},n.carrier),{},{checked:i,transportType:n.transportTypes[0]}))},build(){let t=r.build();return"ROUND_TRIP"===e.tripType&&(t=(e=>{const t=e.reduce(((e,{carriers:t})=>t.reduce(((e,t)=>e.set(t.id,t)),e)),new Map);return[a(a({},e[0]),{},{carriers:Array.from(t.values())})]})(t)),t.map((({id:e,carriers:t})=>({legId:e,carriers:t.sort((({name:e},{name:t})=>e<t?-1:e>t?1:0))})))}}}},639331:(e,t,r)=>{r.d(t,{ZP:()=>l,nF:()=>a});var n=r(878969),i=r(872064);const o=(0,n.createContext)({}),a=()=>(0,n.useContext)(o),l=({children:e})=>{const t=(0,i.kj)(),[r,a]=n.useState(null),[l,s]=n.useState(!1),c={initialRange:t,isSemDurationFilterApplied:l,durationRangeSelected:r||t,applyDurationRange:e=>{t&&(a(e),s(t.minDays<e.minDays||t.maxDays>e.maxDays))},resetSemDurationFilter:()=>{a(t),s(!1)}};return n.createElement(o.Provider,{value:c},e)}},927:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(872064);const i=e=>t=>{if(!e)return!0;const r=(0,n.m3)(t.legs);return r>=e.minDays&&r<=e.maxDays}},357894:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(872064);const i=()=>{const e=[0,0];return{add(t){const r=(0,n.m3)((null==t?void 0:t.legs)||[]);0===e[0]?(e[0]=r,e[1]=r):r>e[0]&&r>e[1]?e[1]=r:r<e[0]&&(e[0]=r)},build(){return{minDays:e[0],maxDays:e[1]}}}}},753730:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>o});const o=(e,t)=>{const r=[];return{add(n,i){r[n]=r[n]||e(n,t),r[n].add(i)},build(){return r.map(((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:t},e.build())))}}}},437702:(e,t,r)=>{r.d(t,{I6:()=>p,U0:()=>v,ZP:()=>y,m7:()=>m});var n=r(878969),i=r(181639),o=r(626825),a=r(154773);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=(0,n.createContext)((()=>{})),d=(e,{availableConnectionThresholds:t,value:r,legId:n,transportType:i})=>{var o;const a=e||{"":t[""].map((({defaultValue:e})=>e)),TRAIN:t.TRAIN.map((({defaultValue:e})=>e)),PLANE:t.PLANE.map((({defaultValue:e})=>e))},l=(null!==(o=a[i])&&void 0!==o?o:[]).map(((e,t)=>n!==t?e:r));return s(s({},a),{},{[i]:l})},p=(e,t)=>{switch(t.type){case"INIT":return null;case"LEG_SELECT":return d(e,t);case"LEG_RESET":return((e,{availableConnectionThresholds:t,legId:r,transportType:n})=>{var i;return d(e,{legId:r,value:null===(i=t[n][r])||void 0===i?void 0:i.resetValue,availableConnectionThresholds:t,transportType:n})})(e,t);case"RESET_ALL":return((e,{availableConnectionThresholds:t})=>({"":t[""].map((({resetValue:e})=>e)),TRAIN:t.TRAIN.map((({resetValue:e})=>e)),PLANE:t.PLANE.map((({resetValue:e})=>e))}))(0,t);default:return e}},m=(e,t)=>{const r=(0,o.J)(),a=(0,i.Qq)(),l=(0,n.useContext)(u);return(0,n.useMemo)((()=>({select:r((r=>{l({type:"LEG_SELECT",transportType:t,legId:e,value:r,availableConnectionThresholds:a})}))})),[r,l,t,e,a])},v=()=>{const e=(0,i.Qq)(),t=(0,n.useContext)(u),r=(0,o.J)(),{product:l}=(0,a.$R)();return(0,n.useMemo)((()=>({resetAll:r((()=>{t({type:"RESET_ALL",availableConnectionThresholds:e})})),resetLeg:r((({legId:r})=>{t({type:"LEG_RESET",legId:r,availableConnectionThresholds:e,transportType:l})}))})),[r,t,e,l])},y=({dispatch:e,children:t})=>{const r=(0,i.Qq)();return(0,n.useEffect)((()=>{r||e({type:"INIT"})}),[e,r]),n.createElement(u.Provider,{value:e},t)}},636631:(e,t,r)=>{r.d(t,{Z:()=>p,t:()=>d});var n=r(878969),i=r(9303),o=r(181639),a=r(411353);const l=(0,n.createContext)((()=>!0)),s=()=>!0,c=e=>t=>{const r=t.sections.length-1;return e===a.Jz||Number(e)>=r},u=(e,t)=>{if(!e)return s;const r="ROUND_TRIP"===t?(n=e[0],[c(n),c(n)]):e.map(c);var n;return({legs:e})=>e.every(((e,t)=>r[t]&&r[t](e.segments[0])))},d=()=>(0,n.useContext)(l);function p({children:e,transportType:t}){const r=(0,o.S0)(),{tripType:a="ONE_WAY"}=(0,i.o3)()||{},s=u(r[t],a);return n.createElement(l.Provider,{value:s},e)}},181639:(e,t,r)=>{r.d(t,{Qq:()=>s,S0:()=>l,Xn:()=>u,ZP:()=>d,pR:()=>c});var n=r(878969),i=r(493780);const o=(0,n.createContext)(null),{StateProvider:a,useFilterState:l,useAvailableFilterState:s}=(0,i.Z)("connectionThresholds",o,(e=>{const t=t=>e&&e[t]&&e[t].map((({defaultValue:e})=>e));return{"":t(""),TRAIN:t("TRAIN"),PLANE:t("PLANE")}})),c=(e,t)=>{var r,n;const i=l();return null!==(r=null==i||null===(n=i[t])||void 0===n?void 0:n[e])&&void 0!==r?r:null},u=(e,t)=>{var r,n;const i=s();return null!==(r=null==i||null===(n=i[t])||void 0===n?void 0:n[e])&&void 0!==r?r:null},d=a},632398:(e,t,r)=>{r.d(t,{ZP:()=>y,fd:()=>v,sY:()=>m,td:()=>p});var n=r(878969),i=r(437702),o=r(181639),a=r(576084),l=r(154773);const s=(0,n.createContext)(!1),c=(0,n.createContext)([]),u=(0,n.createContext)([]),d=({summary:e,children:t})=>{const{previous:r,next:o}=(0,a.l)(e),{resetLeg:l}=(0,i.U0)(),s=(0,a.m)(r,o,"maxStops",l);return n.createElement(u.Provider,{value:s},t)},p=()=>(0,n.useContext)(c),m=()=>(0,n.useContext)(u),v=()=>(0,n.useContext)(s),y=({children:e})=>{const t=(0,o.S0)(),r=(0,o.Qq)(),{product:i}=(0,l.$R)(),a=Array.isArray(null==r?void 0:r[i])?r[i]:[],u=Array.isArray(null==t?void 0:t[i])?t[i]:[],{summary:p,isApplied:m}=((e,t)=>{if(!e||0===e.length)return{summary:[],isApplied:!1};const r=[];let n=!1;return e.forEach(((e,i)=>{const o=((e,t)=>e?{selected:e,isApplied:e!==t}:{selected:t,isApplied:!1})(e,t[i].resetValue);n=n||o.isApplied,r.push(o)})),{summary:r,isApplied:n}})(u,a);return n.createElement(c.Provider,{value:p},n.createElement(d,{summary:p},n.createElement(s.Provider,{value:m},e)))}},112913:(e,t,r)=>{r.d(t,{ZP:()=>c});var n=r(878969),i=r(632398),o=r(437702),a=r(636631),l=r(181639),s=r(154773);const c=({children:e})=>{const[t,r]=(0,n.useReducer)(o.I6,null),{product:c}=(0,s.$R)();return n.createElement(l.ZP,{connectionThresholds:t},n.createElement(a.Z,{transportType:c},n.createElement(o.ZP,{dispatch:r},n.createElement(i.ZP,null,e))))}},411353:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Jz:()=>a,Xx:()=>l,ZP:()=>v});const a="DONT_CARE",l="0",s=(e,t,r)=>r&&e.some((({upto:e})=>e===l))?l:t,c=(e,t)=>{const[{upto:r}]=e;return{values:e,resetValue:r,defaultValue:s(e,r,t)}},u=({tripType:e,withoutConnections:t})=>{const r=[];return{add(e,n){r[e]=r[e]||(e=>{const t=new Set;let r=!1;return{add({sections:e}){const n=e.length-1;n>2?r=!0:t.add(n)},build(){const n=[...t].sort(((e,t)=>e-t)).map((e=>({upto:e.toString(),disabled:!1})));return(n.length>1||r)&&n.unshift({upto:a,disabled:!1}),c(n,e)}}})(t),r[e].add(n)},build(){const n=r.map((e=>e.build()));return"ROUND_TRIP"===e&&n[0]&&n[1]?[m(n[0],n[1],t)]:n}}},d=e=>null==e?void 0:e.values.reduce(((e,t)=>e.set(t.upto,t)),new Map),p=e=>null==e?void 0:e.values.reduce(((e,{upto:t})=>t===a?e:{min:Math.min(parseInt(t),e.min),max:Math.max(parseInt(t),e.max)}),{min:1/0,max:0}),m=(e,t,r)=>{const n=d(e),o=d(t),l=p(e),s=p(t),u=Math.max(l.min,s.min),m=Math.max(l.max,s.max),v=e=>n.get(e)||o.get(e),y=[];for(let e=u;e<=m;++e){const t=v(`${e}`);t&&y.push(t)}return(y.length>1||v(a))&&y.unshift(i(i({},y[0]),{},{upto:a,disabled:!1})),c(y,r)},v=e=>{const t={"":u(e),TRAIN:u(e),PLANE:u(e)};return{add:(e,r)=>{t[""].add(e,r);const n=r.transportTypes[0];"TRAIN"===n?t.TRAIN.add(e,r):"PLANE"===n&&t.PLANE.add(e,r)},build:()=>{var e,r;return{"":t[""].build(),TRAIN:null===(e=t.TRAIN)||void 0===e?void 0:e.build(),PLANE:null===(r=t.PLANE)||void 0===r?void 0:r.build()}}}}},890227:(e,t,r)=>{r.d(t,{ZP:()=>p,dp:()=>u,uS:()=>d});var n=r(878969),i=r(872064),o=r(82593),a=r(189631);const l="priceRange",s=(0,n.createContext)([]),c=(e,t)=>{switch(t.type){case"RESET":return null;case"FILTER":return t.values;default:return e}},u=()=>{const e=(0,i.Ex)(),[t]=(0,n.useContext)(s);return!(0,a.le)(t)&&!(0,a.le)(e)&&(t[0]>(null==e?void 0:e.minPrice.amount)||t[1]<(null==e?void 0:e.maxPrice.amount))},d=()=>{const e=(0,i.Ex)(),t=(0,o.b8)(),[r,a]=(0,n.useContext)(s),{add:c,remove:u,clearAllStartsWith:d}=t,p=null==e?void 0:e.minPrice.amount,m=null==e?void 0:e.maxPrice.amount;return[r,(0,n.useMemo)((()=>e=>{a({type:"FILTER",values:e});const t=l;e[0]>p||e[1]<m?c({alias:t,undo:()=>{a({type:"RESET"}),d(t)}}):u({alias:t})}),[a,p,m,c,d,u]),(0,n.useCallback)((()=>{a({type:"RESET"}),d(l)}),[a,d])]},p=({children:e})=>{const t=(0,n.useReducer)(c,null);return n.createElement(s.Provider,{value:t},e)}},966727:(e,t,r)=>{r.d(t,{Z:()=>n});const n=()=>({build(e){var t,r,n;return{minPrice:{amount:0,currency:(null==e||null===(t=e.itinerary)||void 0===t?void 0:t.price.currency)||""},maxPrice:{amount:Math.ceil((null==e||null===(r=e.itinerary)||void 0===r?void 0:r.price.amount)||1/0),currency:(null==e||null===(n=e.itinerary)||void 0===n?void 0:n.price.currency)||""}}}})},367826:(e,t,r)=>{r.d(t,{Z:()=>n});const n=e=>t=>{const r=Math.ceil(t.price.amount);return!e||r>=e[0]&&r<=e[1]}},858281:(e,t,r)=>{r.d(t,{Z:()=>c,o:()=>s});var n=r(878969),i=r(721138),o=r(82593);const a=(0,n.createContext)({}),{Provider:l}=a,s=()=>(0,n.useContext)(a),c=({children:e})=>{const{start:t}=(0,i.s4)(),{add:r,remove:a}=(0,o.b8)(),[s,c]=(0,n.useState)(!1),u=e=>{t(),c(e),e?r({alias:"airline",type:"primeDay",undo:()=>{c(!1),a({alias:"primeDay"})}}):a({alias:"airline"})},d={hasPrimeDayFilterApplied:s,togglePrimeDayFilter:()=>u(!s),resetPrimeDayFilter:()=>u(!1)};return n.createElement(l,{value:d},e)}},572541:(e,t,r)=>{r.d(t,{Z:()=>n});const n=e=>t=>{var r;return!e||(null===(r=t.campaignConfig)||void 0===r||null===(r=r.primeDayConfig)||void 0===r?void 0:r.isPrimeDayFare)}},318580:(e,t,r)=>{r.d(t,{Vq:()=>E,ZP:()=>O,pj:()=>f,wB:()=>P});var n=r(878969),i=r(9303),o=r(364111),a=r(721138),l=r(872064),s=r(406798);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const p=(0,n.createContext)([{},()=>{}]),m=(e,t)=>{switch(t.type){case"RESET":return{};case"FILTER":return((e,t)=>(0,o.Z)(t.legIds,t.connections,e))(e,t);default:return e}},v={airports:null,connections:null,toggle:({value:e})=>{}},y=e=>{const{start:t}=(0,a.s4)(),r=(0,i.o3)(),o=(0,l.h4)(),[s,c]=(0,n.useContext)(p),d=(s||[])[e]||(m=(o||[])[e])&&m.map((e=>u(u({},e),{},{checked:!0})));var m;const v=(0,n.useMemo)((()=>{const n=(e=>e&&"ROUND_TRIP"===e.tripType)(r)?[0,1]:[e];return e=>{t(),c({type:"FILTER",legIds:n,connections:e})}}),[e,c,r,t]);return[d,v]},f=e=>{const[t,r]=y(e);return t?{connections:t,toggle({value:e}){const n=t.map((t=>t.id.toString()===e.toString()?u(u({},t),{},{checked:!t.checked}):t));r(n)}}:v},g=({id:e})=>e,b=()=>!0,h=(0,s.Z)((e=>{const t=new Set((e||[]).filter((({checked:e})=>e)).map(g));const r=e?(n=e=>t.has(e.id),e=>{for(let t=0;t<e.length-1;++t){const{destination:r}=e[t],{departure:i}=e[t+1];if(!n(r)||!n(i))return!1}return!0}):b;var n;return({sections:e})=>r(e)})),E=()=>{const[e,t]=(0,n.useContext)(p),r=(0,n.useCallback)((()=>t({type:"RESET"})),[t]);return{predicate:h(e),resetFilter:r}},P=()=>{const[e]=(0,n.useContext)(p);return!!e&&Object.values(e).flat().some((({checked:e}={id:0,name:"",checked:!1,iata:""})=>!1===e))},O=({children:e})=>{const t=(0,n.useReducer)(m,[]);return n.createElement(p.Provider,{value:t},e)}},501541:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(140015),i=r(644285);const o=({tripType:e},t=!1)=>{const r=[];return{add(e,t){r[e]=r[e]||(()=>{const e=(0,n.Z)();return{add({sections:t}){for(let r=0;r<t.length-1;++r)e.add(t[r].destination),e.add(t[r+1].departure)},build(){return e.build()}}})(),r[e].add(t)},build(){const n=r.map((e=>e.build()));return"ROUND_TRIP"!==e||t?n:[(0,i.Z)([...n[0],...n[1]])]}}}},604098:(e,t,r)=>{r.d(t,{Fh:()=>d,Ys:()=>p,ZP:()=>y,ni:()=>m,rn:()=>v});var n=r(878969),i=r(364111),o=r(9303),a=r(82593),l=r(872064);const s="stopDuration",c=(0,n.createContext)([[],()=>{}]),u=(e,t)=>{switch(t.type){case"RESET":return[];case"FILTER":return((e,{legIds:t,maxDuration:r})=>{const[n]=t,o=e[n]||{},a=r||o;return(0,i.Z)(t,a,e)})(e,t);default:return e}},d=e=>{const t=(0,o.o3)(),r=(0,a.b8)(),i=(0,l.ps)(),[u,d]=(0,n.useContext)(c),p=(i||[])[e].max,m=(u||[])[e]||p,v=(0,n.useMemo)((()=>{const{add:n,remove:i,clearAllStartsWith:o}=r,a=(e=>e&&"ROUND_TRIP"===e.tripType)(t)?[0,1]:[e];return t=>{d({type:"FILTER",legIds:a,maxDuration:t});const r=s;t!==p?n({alias:r,legId:e,undo:()=>{d({type:"RESET"}),o(s)}}):i({alias:r,legId:e})}}),[d,e,t,r,p]);return[m,v]},p=()=>{const e=(0,l.ps)(),[t]=(0,n.useContext)(c);return(null==t?void 0:t.length)>0&&(null==t?void 0:t.some(((t,r)=>(null==e?void 0:e[r])&&t<e[r].max)))},m=()=>{const{clearAllStartsWith:e}=(0,a.b8)(),[t,r]=(0,n.useContext)(c);return[t,(0,n.useCallback)((()=>{r({type:"RESET"}),e(s)}),[r,e])]},v=()=>{const e=(0,l.ps)(),[t]=(0,n.useContext)(c);return null==t?void 0:t.map(((t,r)=>{const{max:n}=(null==e?void 0:e[r])||{};return{isApplied:!!(n&&t&&t<n),selected:t}}))},y=({children:e})=>{const t=(0,n.useReducer)(u,[]);return n.createElement(c.Provider,{value:t},e)}},561054:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(318854);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=(e,t)=>{const r=Math.max(...[e.min,t.min].filter((e=>Number.isFinite(e))));return o(o({},e),{},{min:r,max:Math.max(e.max,t.max)})},s=({tripType:e},t=!1)=>{const r=[];return{add(e,t){r[e]=r[e]||(()=>{let e=1/0,t=0;return{add({sections:r}){for(let i=0;i<r.length-1;i++){const o=(0,n.Z)(r[i+1].departureDate,r[i].arrivalDate);e=Math.min(e,o),t=Math.max(t,o)}},build(){return{min:e,max:t}}}})(),r[e].add(t)},build(){const n=r.map((e=>e.build()));return"ROUND_TRIP"!==e||t?n:[l(n[0],n[1])]}}}},869604:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(0,r(406798).Z)((e=>({stops:t})=>t.every((({duration:t})=>t<=e))))},49136:(e,t,r)=>{r.d(t,{ZP:()=>v,gJ:()=>m,gK:()=>p,zu:()=>d});var n=r(878969),i=r(364111),o=r(82593);const a="timeRanges",l=(0,n.createContext)([]),s={min:0,max:24},c=(e,t)=>Number.isFinite(e)?e:t,u=(e,t)=>{switch(t.type){case"RESET":return[];case"FILTER":return((e,{legId:t,timeRange:r})=>{const n=e[t]||s,o={min:c(r.min,n.min),max:c(r.max,n.max),id:t};return(0,i.Z)([t],o,e)})(e,t);default:return e}};const d=e=>{const[t,r]=(0,n.useContext)(l),{add:i,remove:c}=(0,o.b8)();return[t[e]||s,(0,n.useCallback)((t=>{r({type:"FILTER",legId:e,timeRange:t}),!function(e,t){return e.min!==t.min||e.max!==t.max}(t,s)?c({alias:a,legId:e}):i({alias:a,legId:e,undo:()=>{r({type:"FILTER",legId:e,timeRange:s}),c({alias:a,legId:e})}})}),[r,e,i,c])]},p=()=>{const[e]=(0,n.useContext)(l);return null==e?void 0:e.some((e=>e&&(e.min>0||e.max<24)))},m=()=>{const[e,t]=(0,n.useContext)(l),{clearAllStartsWith:r}=(0,o.b8)();return[e,(0,n.useCallback)((()=>{t({type:"RESET"}),r(a)}),[t,r])]},v=({children:e})=>{const t=(0,n.useReducer)(u,[]);return n.createElement(l.Provider,{value:t},e)}},749733:(e,t,r)=>{r.d(t,{Sv:()=>i,ZP:()=>o});const n=/^\d+-\d{2}-\d{2}T(\d{2}):\d{2}:\d{2}/,i=e=>{const t=e[0].departureDate,[,r]=n.exec(t)||["",""];return parseInt(r)},o=()=>{let e,t;const r=(()=>{const e=new Map;return{add({hour:t,price:r}){const n=e.get(t);(!n||n>r)&&e.set(t,r)},build(){return e}}})();return{add({itinerary:n,sections:o,defaultFeeType:a}){e!==n.id&&(e=n.id,t=(({itinerary:e,defaultFeeType:t})=>{const{price:r}=e.fees.find((({type:e})=>e.id===t.id))||{};return r?r.amount:0})({itinerary:n,defaultFeeType:a}));const l=i(o);r.add({hour:l,price:t})},build(){const e=r.build();return{maxPricePerHour:Math.max(...e.values()),pricesPerHour:Array.from({length:24},((t,r)=>({hour:r,price:e.get(r)||0})))}}}}},498232:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(406798),i=r(749733);const o=(0,n.Z)((({min:e,max:t})=>({sections:r})=>{const n=(0,i.Sv)(r);return n>=e&&n<t}))},154773:(e,t,r)=>{r.d(t,{$R:()=>w,T6:()=>E,ZP:()=>C,mp:()=>P});var n=r(878969),i=r(122501),o=r(872064),a=r(590719),l=r(877667),s=r(651013),c=r(485251),u=r(9303);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(null,arguments)}const y=(0,n.createContext)([null,()=>{}]),f=(0,n.createContext)({product:"",setProduct:()=>{}}),g={[c.Lm]:"flights",[c.bt]:"trains"},b=(e,t)=>{switch(t.type){case"RESET":return null;case"FILTER":return t.values;default:return e}},h={applyFilter:()=>{},resetFilter:()=>{},swap:()=>{},toggle:()=>{},transportTypes:[]},E=()=>{const[e]=(0,n.useContext)(y);return Array.isArray(e)&&e.some((({checked:e})=>!e))},P=()=>{const e=(0,o.i_)(),t=(0,u.mx)(),[r,i]=(0,n.useContext)(y),{setProduct:s}=w(),{trackEvent:d}=(0,a.rS)(),m=(0,l.W4)(),v=["DE","OPDE"].includes(m),f=e=>!(t&&e===c.Lm||v&&e===c.bt),b=r||e&&e.map((e=>({id:e,checked:f(e)}))),E=(0,n.useMemo)((()=>e=>i({type:"FILTER",values:e})),[i]);return b?{transportTypes:b,toggle({target:e}){const{value:t,checked:r}=e,n=b.map((e=>e.id===t?p(p({},e),{},{checked:!e.checked}):e));E(n);d("results_filters",`transport_${r?"checked":"unchecked"}_${g[t]}`)},swap:e=>{const t=b.map((t=>t.id===e?p(p({},t),{},{checked:!0}):p(p({},t),{},{checked:!1})));s(e),E(t)},resetFilter:()=>i({type:"RESET"})}:h},O=({hasProductSelector:e=!1,children:t})=>{const r=(0,n.useReducer)(b,null),i=(0,u.mx)(),[o,a]=(0,n.useState)("");(0,n.useEffect)((()=>{if(e&&i){a(i?"TRAIN":"PLANE")}}),[i,e,a]);const l=(0,n.useMemo)((()=>({product:o,setProduct:a})),[o,a]);return n.createElement(f.Provider,{value:l},n.createElement(y.Provider,{value:r},t))},I=(0,s.T)({name:i.qF,variations:[e=>n.createElement(O,e),e=>n.createElement(O,v({hasProductSelector:!0},e))],version:1}),w=()=>(0,n.useContext)(f),C=I},247137:(e,t,r)=>{r.d(t,{ZP:()=>s});const n="PLANE",i="TRAIN",o={[n]:2,[i]:1},a=e=>o[e]||-1,l=(e,t)=>a(t)-a(e),s=()=>{const e=new Set;return{add({transportTypes:t}){t.forEach((t=>e.add(t)))},build(){return[...e].sort(l)}}}},757490:(e,t,r)=>{r.d(t,{Z:()=>n});const n=e=>{const t=e&&new Set(e.filter((({checked:e})=>e)).map((({id:e})=>e)));return({legs:e})=>!t||e.every((({segments:e})=>{const{transportTypes:r}=e[0];return r.every((e=>t.has(e)))}))}},428556:(e,t,r)=>{r.d(t,{P:()=>I,Z:()=>w});var n=r(878969),i=r(49136),o=r(112913),a=r(798686),l=r(919360),s=r(604098),c=r(858281),u=r(408341),d=r(94345),p=r(154773),m=r(82593),v=r(318580),y=r(38305),f=r(725512),g=r(636631),b=r(95119),h=r(573294),E=r(878037),P=r(762993),O=r(767502);const I=()=>{const{transportTypes:e}=(0,p.mp)(),[t]=(0,i.gJ)(),[r]=(0,s.ni)(),{predicate:n}=(0,v.Vq)(),o=(0,y.t)(),a=(0,b.t)(),l=(0,g.t)(),{hasPrimeDayFilterApplied:d}=(0,c.o)(),{pinnedSegmentIds:m}=(0,P.Gn)(),{hasCarbonFootprintFilterApplied:f}=(0,u.l)();return{transportTypes:e,timeRanges:t,maxDurations:r,connectionThresholdPredicate:l,connectionsPredicate:n,airportsPredicate:o,carriersPredicate:a,pinnedSegmentIds:m,aircraftPredicate:(0,O.n)(),isPrimeDayFare:d,isEco:f}},w=({children:e})=>{const t=(0,h.UR)();return n.createElement(p.ZP,null,n.createElement(m.ZP,null,n.createElement(c.Z,null,n.createElement(u.Z,null,n.createElement(i.ZP,null,n.createElement(o.ZP,null,n.createElement(s.ZP,null,n.createElement(v.ZP,null,n.createElement(a.ZP,null,n.createElement(l.ZP,null,n.createElement(P.ZP,null,n.createElement(E._b,null,n.createElement(f.Z,null,"desktop"===t?n.createElement(d.ZP,null,e):n.createElement(d.Zn,null,e))))))))))))))}},140015:(e,t,r)=>{r.d(t,{Z:()=>n});const n=()=>{const e=new Map;return{add(t){e.set(t.id,t)},build(){return Array.from(e.values())}}}},644285:(e,t,r)=>{r.d(t,{Z:()=>n});const n=e=>{const t=e.reduce(((e,t)=>e.set(t.id,t)),new Map);return Array.from(t.values())}},406798:(e,t,r)=>{r.d(t,{Z:()=>i});const n=()=>!0,i=e=>t=>r=>{if(0===t.length)return!0;const{legs:i}=r;return i.every(((r,i)=>{const o=(r=>t[r]?e(t[r]):n)(i);return o(r.segments[0])}))}},364111:(e,t,r)=>{r.d(t,{Z:()=>n});const n=(e,t,r)=>e.reduce(((e,r)=>(e[r]=t,e)),[...r])},667950:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(154773),i=r(49136),o=r(632398),a=r(604098),l=r(318580),s=r(484878),c=r(940961),u=r(858281),d=r(408341),p=r(890227),m=r(762993),v=r(878037);const y=()=>{const e=(0,n.T6)(),{hasPrimeDayFilterApplied:t}=(0,u.o)(),{hasCarbonFootprintFilterApplied:r}=(0,d.l)();return[e,t,r,(0,i.gK)(),(0,o.fd)(),(0,a.Ys)(),(0,l.wB)(),(0,s.fd)(),(0,c.fd)(),(0,p.dp)(),(0,m.zI)(),(0,v.bG)()].filter(Boolean).length}},493780:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(872064),i=r(878969);const o=e=>e,a=(e,t,r=o)=>{const a=()=>{const{data:t}=(0,n.OK)();return(null==t?void 0:t[e])||null};return{StateProvider:n=>{const o=(e=>{const t=a(),n=(0,i.useRef)();(0,i.useEffect)((()=>{n.current=t}),[t]);const o=!n.current||!t;return o?r(t,{isNewSearch:o}):e||r(t)})(n[e]);return i.createElement(t.Provider,{value:o},n.children)},useFilterState:()=>(0,i.useContext)(t),useAvailableFilterState:a}}},576084:(e,t,r)=>{r.d(t,{l:()=>s,m:()=>c});var n=r(878969);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=e=>(e||[]).reduce(((e,t,r)=>t.isApplied?e.add(r):e),new Set),s=e=>{const t=(0,n.useRef)();(0,n.useEffect)((()=>{t.current=e}));return{previous:t.current,next:e}},c=(e,t,r,n,i)=>((e,t,r)=>{const n=new Set([...e,...t]),i=[],a=(e,t)=>({type:e,tag:o({legId:t},r)});for(const r of n)e.has(r)&&!t.has(r)?i.push(a("REMOVE",r)):!e.has(r)&&t.has(r)&&i.push(a("ADD",r));return i})(l(e),l(t),{alias:r,undo:n,type:i})},626825:(e,t,r)=>{r.d(t,{J:()=>o});var n=r(721138),i=r(878969);const o=()=>{const{start:e}=(0,n.s4)();return(0,i.useCallback)((t=>(...r)=>{e(),t(...r)}),[e])}}}]);
//# sourceMappingURL=209487.60e6d6590cea04f36ce2.js.map
