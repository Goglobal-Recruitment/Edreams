(self.webpackChunkOneFront_HomePage=self.webpackChunkOneFront_HomePage||[]).push([[668167],{122501:(e,r,t)=>{"use strict";t.d(r,{$F:()=>n,$b:()=>Z,Ae:()=>b,As:()=>oe,B1:()=>le,CP:()=>_,D8:()=>z,DR:()=>m,Dk:()=>p,Dr:()=>re,Ef:()=>B,GE:()=>ce,Gp:()=>U,H7:()=>x,HR:()=>te,IZ:()=>u,Im:()=>G,J7:()=>W,JW:()=>T,Jw:()=>y,LR:()=>X,Lp:()=>O,NC:()=>q,Od:()=>M,R8:()=>ae,Rk:()=>C,Rn:()=>se,S$:()=>J,ST:()=>f,Si:()=>s,T1:()=>L,XG:()=>P,Xi:()=>ue,YS:()=>d,ZR:()=>c,Zf:()=>D,_2:()=>N,bT:()=>K,cZ:()=>A,d3:()=>o,e7:()=>h,h4:()=>Q,hQ:()=>E,j:()=>$,jX:()=>l,kD:()=>ee,kF:()=>k,lb:()=>I,ni:()=>a,oX:()=>ie,og:()=>v,pf:()=>ne,qF:()=>V,rU:()=>j,t5:()=>S,u:()=>w,um:()=>H,ww:()=>g,xQ:()=>i,yR:()=>Y,yY:()=>F,yo:()=>R});const n="SSE_FC5392",i="SSE_FC5638",a="PRIME_TITANS83M",o="PRIME_TITANS83D",s="fan_plus_9520",l="FAN_PLUS9571",c="SSE_FC5243",u="SSE_FC5727PR",d="SSE_FC5692PR",p="SSE_FC5452",m="FAN_PLUS9355",y="FAN_PLUS9569",f="FAN_PLUS9570",g="SSE_FC5946",v="SSE_FC6059",b="SSE_FC3610",P="FBO_BOOK3259",S="FBO_BOOK3259_PAXTYPE",h="FRO_OFIS2437",O="SSE_FC3865",I="MFS_MFS1752",E="MFS_MFS1752",_="MFS_MFS1752",C="MFS_MFS1752",T="MFS_MFS1752",D="COUNTER_COUNTER925",N="COUNTER_COUNTER925D",A="SSE_FC4128",R="ALT_ALT4135_M",j="SSE_FC4237D",w="SSE_FC4587",L="SSE_FC4489",F="SSE_FC4489M",$="FAN_PLUS7920_D",M="FAN_PLUS7920_M",x="FAN_PLUS9180_D",k="SSE_FC3712",H="SSE_FC4681",Z="ULC_UNL293",U="SSE_FC4806",B="SSE_FC4879",K="SSE_FC4900",q="SSE_FC5034",G="SSE_FC5115",Y="SSE_FC5206",W="SSE_FC6235",V="SSE_FC6301",X="SSE_FC6517",z="SSE_FC6534",J="SSE_FC6341",Q="PRIME_TITANS527",ee="SSE_FC6330",re="SSE_FC6439_B",te="SSE_FC6439_NB",ne="SSE_FC6418",ie="SSE_FC6488",ae="SSE_FC6544",oe="SSE_FC6633",se="sse_fc-6293",le="SSE_FC6524",ce="SSE_FC6622",ue="PRIME_TITANS10494"},318854:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var n=t(969690),i=t(623855);const a=(e,r)=>(0,n.Z)((0,i.Z)(e),(0,i.Z)(r))},989046:(e,r,t)=>{"use strict";t.d(r,{H:()=>n});const n=({itinerary:e,dealPrice:r})=>{const{price:t}=e;if(null==t||!t.amount||!r)return!1;const n=100*r/100;return t.amount<r+n}},974783:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var n=t(630355),i=t(470819),a=t(878969);const o=(e,r)=>{const t=(0,i.wL)();(0,a.useEffect)((()=>{const n=(null==e?void 0:e.status)||"ok";(e||[]).forEach((e=>{var i,a,o;"ERR-01"!==(null==e||null===(i=e.extensions)||void 0===i?void 0:i.code)&&t.error(e,`REQUEST-FEFR-${(null==e||null===(a=e.extensions)||void 0===a?void 0:a.errorCode)||(null==e||null===(o=e.extensions)||void 0===o?void 0:o.code)||"000"}-Status: ${n}-${r}-${null==e?void 0:e.message}`)}))}),[e,r,t])},s=(e,r)=>{o(e,r),(0,n.ef)(e)},l=({errors:e,id:r})=>(s(e,r),null)},292643:(e,r,t)=>{"use strict";t.d(r,{k:()=>n,z:()=>i});let n=function(e){return e.notApplicable="notApplicable",e.equal="equal",e.down="down",e.up="up",e.highest="highest",e}({});const i=({itinerary:e,flexibleDatesPrice:r})=>{const{price:t}=e;if(!r)return n.notApplicable;const i=t.amount-r;let a=n.highest;return Math.abs(i)<2?a=n.equal:i<0?a=n.down:i<40*r/100&&(a=n.up),a}},721138:(e,r,t)=>{"use strict";t.d(r,{Gg:()=>o,QX:()=>a,RV:()=>c,gY:()=>s,jE:()=>l,ps:()=>u,s4:()=>i});var n=t(100207);const{useMetric:i,useEndMetricEffect:a}=(0,n.hp)("LOAD_FILTERS_FLIGHTS_OF2"),{useMetric:o,useEndMetricEffect:s}=(0,n.hp)("LOAD_SORTING_FLIGHTS_OF2"),{useMetric:l,useEndMetricEffect:c}=(0,n.hp)("LOAD_PRICE_TYPE_FILTER_FLIGHTS_OF2"),{useMetric:u,useEndMetricEffect:d}=(0,n.hp)("REQUEST_TIME_RESULTS_FLIGHTS")},183295:(e,r,t)=>{"use strict";t.d(r,{TV:()=>y,Tq:()=>f,Vm:()=>p,yz:()=>d,zt:()=>m});var n=t(878969),i=t(277424),a=t(9303),o=t(886394),s=t(692300),l=t(928366),c=t(428672),u=t(904276);const d=()=>{var e;const r=(0,i.f9)(),t=(0,o.xK)(),n=null===(e=(t.fareItineraryKey||t.id).split(",")[0])||void 0===e?void 0:e.split("_")[0],a=t.segmentKeys||t.legs.map((e=>e.segmentKeys[0]));return{searchId:t.searchId||r,fareItineraryKey:n,segmentKeys:a}},p=()=>{var e;const r=(0,a.o3)()||{},{tripType:t="",itinerary:{segments:n=[],numAdults:i=0,numChildren:o=0,numInfants:s=0}={}}=r;return{paxNumber:{numInfants:s,numChildren:o,numAdults:i},tripType:t,departureDate:g(null===(e=n[0])||void 0===e?void 0:e.date)}};function m(){const e=p(),{data:r}=(0,c.Bw)(),t=r&&r.externalSelection,n=(0,o.xK)();return function(e={}){return r=e.departureDate,(0,s.Z)(r,(0,l.Z)())>=4&&"MULTIPLE_DESTINATIONS"!==e.tripType;var r}(e)&&!t&&function(e=[]){return e.every((e=>"PLANE"===e))}(n.transportTypes)}const y=e=>r=>{const{isLoggedPrimeUser:t}=(0,u.j)();return t?n.createElement(e,r):null},f=e=>r=>{const{isLoggedPrimeUser:t,isUserLogged:i}=(0,u.j)();return i&&!t?null:n.createElement(e,r)};function g(e=""){const[r,t,n]=e.split("-");return Date.UTC(Number(r),Number(t)-1,Number(n))}},197616:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});const n=["FR"]},882766:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o,k:()=>a});var n=t(277424),i=t(886394);const a=(e,r)=>{const{id:t}=r,n=((null==e?void 0:e.airlineSteeringTracking)||[]).some((e=>e.sortingPosition.some((e=>{var r;return(null===(r=e.itineraryId)||void 0===r?void 0:r.toString())===(null==t?void 0:t.toString())}))));return n},o=()=>{const e=(0,i.xK)(),r=(0,n.vC)();return{hasAirlineCampaignData:()=>a(r,e)}}},63873:(e,r,t)=>{"use strict";t.d(r,{U:()=>o});var n=t(878969),i=t(590719);const a="qualtrics:mmb_abandoned",o=()=>{const{trackFireEvent:e}=(0,i.rS)();return(0,n.useCallback)((()=>{e(a)}),[e])}},199592:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var n=t(261678);const i=()=>{const[e,r]=(0,n.u5)("alternativeFlight");return{alternativeFlight:e,setAlternativeFlight:r}}},66712:(e,r,t)=>{"use strict";t.d(r,{b:()=>s});var n=t(878969),i=t(158180),a=t(438974),o=t(963710);const s=()=>{var e,r,t,s,l;const c=(0,i.D)(a.p),{mutate:u,loading:d,data:p,errors:m}=c,y=null==p||null===(e=p.itinerarySearchAlternatives)||void 0===e?void 0:e.searchId,f=null==p||null===(r=p.itinerarySearchAlternatives)||void 0===r?void 0:r.itineraries[0],g=null==p||null===(t=p.itinerarySearchAlternatives)||void 0===t?void 0:t.carriers,v=null==p||null===(s=p.itinerarySearchAlternatives)||void 0===s?void 0:s.locations,b=null==p||null===(l=p.itinerarySearchAlternatives)||void 0===l?void 0:l.carbonFootprints;return(0,o.Z)(c),(0,n.useMemo)((()=>({mutate:u,loading:d,errors:m,searchId:y,alternativeItinerary:f,carriers:g,locations:v,carbonFootprints:b})),[u,d,m,y,f,g,v,b])}},69690:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p,o:()=>u});var n=t(878969),i=t(158180);const a=t(481855).P`
  mutation createShoppingCart(
    $fareItineraryKey: String!
    $promotedItineraryTypes: [PromotedItineraryType!]
    $resident: Boolean
    $searchId: String!
    $segmentKeys: [String!]!
    $flightNumbers: [String!]!
    $extensions: [Extension!]!
  ) {
    createShoppingCart(
      request: {
        fareItineraryKey: $fareItineraryKey
        promotedItineraryTypes: $promotedItineraryTypes
        resident: $resident
        searchId: $searchId
        segmentKeys: $segmentKeys
        flightNumbers: $flightNumbers
        extensions: $extensions
      }
    ) {
      shoppingCart {
        bookingId
      }
    }
  }
`,o=["mutate","loading","data","errors"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const u=e=>{const{highlightedType:r,carbonFootprint:t,legs:n}=e,{segmentIds:i,flightNumbers:a}=n.reduce(((e,{segments:r,segmentKeys:t})=>{const{segmentIds:n,flightNumbers:i}=((e,r=[])=>{const[t]=e,n=r,i=t.sections.map((({flightCode:e})=>e)).join(",");return{segmentIds:n,flightNumbers:`${r[0]},${i}`}})(r,t);return{segmentIds:[...e.segmentIds,...n],flightNumbers:[...e.flightNumbers,i]}}),{segmentIds:[],flightNumbers:[]});return{carbonFootprint:t,fareItineraryKey:e.id,flightNumbers:a,highlightedType:r,segmentIds:i}},d=(e,r)=>{const t=[];return"recommended"===e&&t.push("ODI_RATING"),r&&r.isEco&&t.push("GREENER_CHOICE"),t},p=()=>{const e=(0,i.D)(a),{mutate:r,loading:t,data:s,errors:c}=e,p=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,o),m=(0,n.useCallback)((({searchId:e,alternativeItinerary:t,resident:n})=>{var i;const{highlightedType:a,carbonFootprint:o,segmentIds:s,fareItineraryKey:l,flightNumbers:c}=u(t);r({searchId:e,segmentKeys:null==s||null===(i=s.map)||void 0===i?void 0:i.call(s,(e=>`${e}`)),promotedItineraryTypes:d(a,o),fareItineraryKey:l,resident:n,flightNumbers:c,extensions:[]})}),[r]);return l(l({},p),{},{loading:t,errors:c,data:s,mutate:m})}},362238:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var n=t(884289);const i=()=>{const e=(0,n.bU)();return{getAbbreviatedDay:r=>new Date(Date.UTC(2023,3,r+2)).toLocaleDateString(e,{weekday:"short"}),getMonth:r=>new Date(Date.UTC(2023,r)).toLocaleDateString(e,{month:"long"})}}},257817:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var n=t(878969);const i=function(){const[e,r]=(0,n.useState)(window.innerHeight);return(0,n.useEffect)((()=>{const e=()=>r(window.innerHeight);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}},530723:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var n=t(877667);const i=["DE","ES","FR","GB","UK","NL","GOFR","OPAT","OPDE","OPFR","OPGB","OPUK","OPNL"],a=()=>{const e=(0,n.W4)();return{isUKDisplayType:()=>i.includes(e)}}},87945:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u});var n=t(154773),i=t(277424),a=t(886394),o=t(834502),s=t(6318);const l=["primeDay","recommended","cheapest","priceFreeze","hotelVoucher","fastest","earliest","numNights","carbonFootprint"],c=["numNights","primeDay","recommended","cheapest","fastest","carbonFootprint"],u=(e,r,t,u)=>{var d,p,m;const{carbonFootprint:y,highlightedType:f,campaignConfig:g,id:v}=(0,a.xK)(),b=(0,i.XV)().includes(v),{isEco:P}=y||{},{product:S}=(0,n.$R)(),h=(null==g||null===(d=g.primeDayConfig)||void 0===d?void 0:d.isPrimeDayFare)&&(null==g||null===(p=g.primeDayConfig)||void 0===p?void 0:p.primeDayFareType)&&"BRONZE"!==(null==g||null===(m=g.primeDayConfig)||void 0===m?void 0:m.primeDayFareType)&&u,O=[h&&"primeDay",!h&&b&&"hotelVoucher",o.R[f]&&u&&f,(r||t)&&"priceFreeze",P&&u&&S!==s.Fll.Train&&"carbonFootprint",e&&u&&"numNights"],I=new Set(O);return(e?c:l).filter((e=>I.has(e))).slice(0,3)}},559097:(e,r,t)=>{"use strict";t.d(r,{p:()=>s});var n=t(877667);const i=["AU","CA","ES","FR","GB","IT","PT","UK","US","GOFR","OPGB","OPFR","OPUK"];var a=t(904276),o=t(919451);const s=()=>{const{isPrimeSite:e,isLoggedPrimeUser:r}=(0,a.j)()||{},{isMobile:t}=(0,o.pn)(),s=(e=>i.includes(e))((0,n.W4)())&&t&&e&&!r;return s}},752747:(e,r,t)=>{"use strict";t.d(r,{Z:()=>m});var n=t(878969),i=t(590719),a=t(9303),o=t(94345),s=t(301989),l=t(238779),c=t(886394);const u=e=>{var r;const t=null==e||null===(r=e.itinerary)||void 0===r?void 0:r.segments;return null==t?void 0:t.map((e=>{var r;return`${null==e||null===(r=e.departure)||void 0===r?void 0:r.iata}`})).join("-")},d=e=>{var r;const t=null==e||null===(r=e.itinerary)||void 0===r?void 0:r.segments;return null==t?void 0:t.map((e=>`${(0,l.Z)(new Date(null==e?void 0:e.date),"dd/MM")}`)).join("-")},p=(e="",r,t,n)=>{var i;return["select-favorite",`trip-type:${e.split("_").reduce(((e,r)=>e+r.charAt(0)),"")}`,`route:${u(n)}`,`dates:${d(n)}`,`position:${t+1}`,`tab:${i=r,{recom:"recom",price:"cheap",duration:"fast"}[i]}`,"page:fl_res"]},m=()=>{const{trackEvent:e}=(0,i.rS)(),r=(0,a.o3)(),t=(0,o.iy)(),l=(0,c.fY)(),u=r?r.tripType:"";return(0,n.useCallback)((()=>{e({category:s.qu,action:"favorites",label:p(u,t,l,r).join("_")})}),[e,r,t,u,l])}},923728:(e,r,t)=>{"use strict";t.d(r,{t:()=>s});var n=t(700041),i=t(6318);const a=t(481855).P`
  query GetFlightSummarySelectedTotalPrice($request: ShoppingSummaryRequest!) {
    getSummaryPrice(request: $request) {
      ... on ItineraryPriceSummary {
        pricePerPassenger {
          amount
          currency
        }
        nonDiscountedPricePerPassenger {
          amount
          currency
        }
      }
    }
  }
`;var o=t(7e5);const s=()=>{const[e={}]=(0,o.G)();return(e=>{const{fareItineraryKey:r="",priceWithoutDiscountSelected:t,searchId:o="",segmentKeys:s=[]}=(null==e?void 0:e.data)||{},l=t?i.ozX.FullPrice:i.ozX.PrimePrice;return(0,n.a)(a,{variables:{request:{fareItineraryKey:r.split("_")[0],feeSelected:l,searchId:String(o),segmentKeys:s,isMeta:!1}}})})(e)}},626567:(e,r,t)=>{"use strict";t.d(r,{BG:()=>a,Dy:()=>o,ZP:()=>s});var n=t(9303),i=t(623945);const a="deal.weekend",o="deal.hottest",s=()=>{const{buyPath:e}=(0,n.o3)()||{};return e?e===i.P$.WEEKEND_DEALS?a:e===i.P$.HOTTEST_DEALS||e===i.P$.INSPIRATIONAL_DEALS_PAGE?o:"":null}},367321:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o,G:()=>a});var n=t(700041);const i=t(481855).P`
  query getUserQuery {
    getUser {
      email
      membership {
        name
      }
    }
  }
`,a=()=>(0,n.a)(i,{}),o=a},523336:(e,r,t)=>{"use strict";t.d(r,{Hj:()=>a,J4:()=>o,fL:()=>i});var n=t(685704);const i=({fees:e})=>{const{primePrice:r,noPrimePrice:t}=(0,n.v)(e);return Math.floor(((null==t?void 0:t.amount)-(null==r?void 0:r.amount))/(null==t?void 0:t.amount)*100||0)},a=({itineraries:e})=>e.filter((e=>i(e)>=10)).length>0,o=({itineraries:e})=>e.filter((e=>i(e)>10)).length>0},823388:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var n=t(197616),i=t(882766);const a=(e,r,t)=>{const a=()=>{const{legs:r}=e||{},t=null==r?void 0:r.map((e=>e.segments.map((e=>e.carrier.id))));return!(null!=t&&t.flat().some((e=>n.Z.includes(e))))},o=(0,i.k)(t,e||{});return e?{hasDecoration:!("recommended"!==(null==e?void 0:e.highlightedType)||!a())||r&&"default"!==(null==e?void 0:e.highlightedType)&&a()&&!(()=>{var r;const{primeDayFareType:t}=(null==e||null===(r=e.campaignConfig)||void 0===r?void 0:r.primeDayConfig)||{};return!!o&&(t&&"GOLD"===t)})(),decorationType:null==e?void 0:e.highlightedType}:{hasDecoration:!1,decorationType:"default"}}},286315:(e,r,t)=>{"use strict";t.d(r,{jh:()=>c,lE:()=>d,qr:()=>b});var n=t(94345),i=t(623945),a=t(9303),o=t(1917),s=t(539858),l=t(428672);const c={ONE_WAY:"OW",ROUND_TRIP:"RT",MULTIPLE_DESTINATIONS:"MD"},u={TOURIST:"EC",PREMIUM_ECONOMY:"PE",BUSINESS:"BU",FIRST:"FC",ECONOMIC_DISCOUNTED:"ED"},d={recommended:"BS",cheapest:"CH",fastest:"FA",earliest:"EA"},p={HO:[i.P$.FLIGHTS_HOME_SEARCH_FORM,i.P$.FLIGHTS_HOME_RECENT_SEARCHES,i.P$.FLIGHTS_HOME_FLIGHTS_TAB],RE:[i.P$.FLIGHTS_RESULTS_SEARCH_FORM,i.P$.PASSENGER_PAGE_SEARCH],DE:[i.P$.WEEKEND_DEALS,i.P$.HOTTEST_DEALS],FD:[i.P$.CALENDAR_SEARCH_FLEXIBLE_DATES],WM:[i.P$.FLIGHTS_HOME_SEARCH_FORM_MICROSITE],SE:[i.P$.SEM_RESULTS],ER:[i.P$.FLIGHTS_EXPIRED_SEARCH_POPUP,i.P$.FLIGHTS_EXPIRED_SESSION_POPUP,i.P$.CONFIRMATION_REJECTED,i.P$.BOOKING_ERROR,i.P$.DYNPACK_EXPIRED_SEARCH_POPUP],IN:[i.P$.INSPIRATIONAL_SEARCH,i.P$.INSPIRATIONAL_DEALS_PAGE,i.P$.EDIT_INSPIRATIONAL_SEARCH],CR:[i.P$.KO_EMAIL_SAME_SEARCH,i.P$.TRANSACTIONAL_EMAILS,i.P$.BIM_NOTIFICATIONS_REBOOK_F],DP:[i.P$.FLIGHTS_HOME_DYNPACK_TAB,i.P$.DYNPACK_MOBILE_RESULTS_CHANGE_SEARCH,i.P$.DYNPACK_MOBILE_ACCOMMODATION_CHANGE_SEARCH,i.P$.DYNPACK_MOBILE_BOOKING_CHANGE_SEARCH,i.P$.DYNPACK_HOME_DYNPACK_TAB,i.P$.DYNPACK_RESULTS_SEARCH_FORM,i.P$.DYNPACK_RESULTS_ACCOMMODATION_SEARCH_FORM,i.P$.DYNPACK_RESULTS_FLIGHTS_SEARCH_FORM,i.P$.DYNPACK_ROOM_SELECTION_SEARCH_FORM,i.P$.DYNPACK_DIRECT_URL,i.P$.DYNPACK_EXPIRED_ROOMSELECTION_POPUP,i.P$.UPSELL_DYNPACK_EMERGING_LAYER_REDIRECTION,i.P$.DYNPACK_MOBILE_HOME,i.P$.DYNPACK_HOME_DYNPACK_TAB_MICROSITE,i.P$.DYNPACK_HOME_FLIGHTS_TAB,i.P$.DYNPACK_MOBILE_FLIGHTS_TAB],IP:[i.P$.INTERMEDIATE_PAGE_FLIGHTS_SEARCH,i.P$.INTERMEDIATE_PAGE_DYNPACK_SEARCH],LP:[i.P$.SSLP_AIRLINES_INDEX,i.P$.SSLP_AIRLINE_CITY_PAIRS,i.P$.SSLP_AIRLINES,i.P$.SSLP_CITY_PAIRS,i.P$.SSLP_COUNTRIES,i.P$.SSLP_DYNPACK_DESTINATIONS,i.P$.SSLP_FLIGHT_DESTINATIONS,i.P$.SSLP_GENERIC,i.P$.SSLP_INTERNATIONAL,i.P$.SSLP_HOTELS,i.P$.SSLP_CITY,i.P$.SSLP_CARS_INTERNATIONAL,i.P$.SSLP_CARS_COUNTRIES,i.P$.SSLP_CARS_DESTINATIONS,i.P$.SSLP_CARS_HOME,i.P$.SSLP_SEARCHER,i.P$.SSLP_CITY_COUNTRY,i.P$.SSLP_CITY_STATE,i.P$.SSLP_TRAINS_DESTINATION,i.P$.SSLP_TRAINS_CITY_PAIRS,i.P$.SSLP_TRAIN_CARRIER,i.P$.SSLP_SEARCHEXTENSION,i.P$.SSLP_HOTELS_PROPERTIES,i.P$.SSLP_TRAINS],OT:[i.P$.RESERVED_4,i.P$.BIM_NOTIFICATIONS_REBOOK_DP,i.P$.POST_BOOKING_ACCOMMODATION,i.P$.UNKNOWN],UR:[i.P$.FLIGHTS_DIRECT_URL],MA:[i.P$.HSA_FLIGHT_CONFIRMATION,i.P$.HSA_RESULTS_SEARCH_FORM,i.P$.HSA_PB_SEARCHEXTENSION,i.P$.HOME_HSA_TAB,i.P$.HSA_PB_POPUNDER,i.P$.HSA_HOME,i.P$.HSA_ROOM_SELECTION_SEARCH_FORM,i.P$.HSA_DIRECT_URL,i.P$.HSA_HOME_DEALS,i.P$.HSA_PB_YOURJOURNEY,i.P$.HSA_CRM,i.P$.HSA_LANDING_WMP,i.P$.HSA_MAP,i.P$.HSA_NATIVE_SEARCH_FORM,i.P$.HSA_ROOM_SHARE,i.P$.HSA_PB_EMERGINGLAYER,i.P$.HSA_PB_GIFT,i.P$.HSA_PB_MOBILE_DEALS]},m={CHECKIN_INCLUDED:"BB",CABIN_INCLUDED:"SB",CABIN_INCLUDED_US:"SB",BASED_ON_AIRLINE:"SB"},y=e=>u[e]||"NA",f=e=>{var r;const t=(0,i.l3)(e);return(null===(r=Object.entries(p).find((([e,r])=>r.includes(t))))||void 0===r?void 0:r[0])||t||"NA"},g=e=>{var r;return(null==e||null===(r=e.stops)||void 0===r?void 0:r.length)||0},v=e=>{var r,t,n,i,a,o,s,l;const{tripType:u,itinerary:d,buyPath:p}=e||{},m=c[u],g=(null==d?void 0:d.segments)||[],v=g[0],b=g[g.length-1],P=null==v?void 0:v.date.replace(/-/g,""),S="OW"===m?"NA":null==b?void 0:b.date.replace(/-/g,""),h=f(p),O=y(null==d?void 0:d.cabinClass),I=["AIRPORT"===(null==v||null===(r=v.departure)||void 0===r?void 0:r.geoNodeType)?"AO":null,"AIRPORT"===(null===(t="OW"===m?null==b?void 0:b.destination:null==b?void 0:b.departure)||void 0===t?void 0:t.geoNodeType)?"AI":null,null!=e&&e.withoutConnections?"D":null].filter((e=>null!=e)),E=0===I.length?"NA":I.length>1?"MT":I[0];return{tripSelected:m,departureDate:P,returnDate:S,buyPathLabel:h,cabinClassLabel:O,iataDeparture:null==v||null===(n=v.departure)||void 0===n?void 0:n.iata,iataArrival:"RT"===m?null==b||null===(i=b.departure)||void 0===i?void 0:i.iata:null==b||null===(a=b.destination)||void 0===a?void 0:a.iata,geoNodeDeparture:null==v||null===(o=v.departure)||void 0===o?void 0:o.geoNodeId,geoNodeReturn:"RT"===m?null==b||null===(s=b.departure)||void 0===s?void 0:s.geoNodeId:null==b||null===(l=b.destination)||void 0===l?void 0:l.geoNodeId,filterAppliedLabel:E}},b=()=>{const{sorting:e}=(0,n.rK)(),r=(0,a.bp)(),t=(0,a.mx)(),i=(0,a.o3)(),{data:u}=(0,l.Bw)();return{createDMTrackingLabelResultsOnLoad:()=>{const{tripSelected:n,departureDate:a,returnDate:l,buyPathLabel:c,cabinClassLabel:p,iataDeparture:m,iataArrival:y,geoNodeDeparture:f,geoNodeReturn:g,filterAppliedLabel:b}=v(i)||{},P=t?"train":"comb_f_t",S=d[e],h=(null==(O=null==u?void 0:u.itineraries)?void 0:O.slice(0,10).filter((({ticketsLeft:e,transportTypes:r})=>!(null!=r&&r.every((e=>"TRAIN"===e)))&&e>o.Z4.MIN&&e<o.Z4.MAX)).length)||0;var O;const I=(e=>(null==e?void 0:e.slice(0,10).filter((({highlightedType:e})=>e!=s.w.Default)).length)||0)(null==u?void 0:u.itineraries);return[`results_onload:${P}`,`type:${n}`,`pp:${r}`,`dd:${a}`,`dr:${l}`,`sort:${S}`,`buypath:${c}`,`ct:${h}`,`cc:${I}`,`cl:${p}`,`oi:${m}`,`di:${y}`,`og:${f}`,`dg:${g}`,`fp:${b}`].join("_")},createDMTrackingLabelOnClickCard:({itinerary:n,isPrime:a})=>{var o,s,l;if(!i)return"";const{tripSelected:c,departureDate:p,returnDate:y,buyPathLabel:f,cabinClassLabel:b,iataDeparture:P,iataArrival:S,geoNodeDeparture:h,geoNodeReturn:O}=v(i)||{},{departure:I,arrival:E,numberStopsDeparture:_,numberStopsArrival:C,positionCardPriceRank:T,prices:D,hasCrown:N,hasTicketRemaining:A}=(e=>{var r,t,n,i;const a=null==e||null===(r=e.legs[0])||void 0===r?void 0:r.segments[0],o=null==e||null===(t=e.legs[e.legs.length-1])||void 0===t?void 0:t.segments[0];return{departure:a,arrival:o,numberStopsDeparture:g(a),numberStopsArrival:g(o),positionCardPriceRank:(null==e?void 0:e.priceSortingPosition)||"NA",prices:{noPrime:null==e||null===(n=e.fees.find((e=>"MEMBER_PRICE_POLICY_UNDISCOUNTED"===e.type.id)))||void 0===n?void 0:n.price,prime:null==e||null===(i=e.fees.find((e=>"MEMBER_PRICE_POLICY_DISCOUNTED"===e.type.id)))||void 0===i?void 0:i.price},hasCrown:+("default"!==(null==e?void 0:e.highlightedType)),hasTicketRemaining:+(0!==(null==e?void 0:e.ticketsLeft))}})(n)||{},R=t?"train":"comb_f_t",j=d[e],w=(null==u||null===(o=u.itineraries)||void 0===o?void 0:o.findIndex((e=>e.id===n.id)))+1,L=((null===(s=a?D.prime:D.noPrime)||void 0===s||null===(s=s.amount)||void 0===s?void 0:s.toFixed(2))||0)+(null==n||null===(l=n.price)||void 0===l?void 0:l.currency)||"NA",F=a?"P":"O",$=m[null==I?void 0:I.baggageCondition]||"NO",M="OW"!==c?m[null==E?void 0:E.baggageCondition]||"NO":"NA";return[`card_selected:${R}`,`type:${c}`,`pp:${r}`,`dd:${p}`,`dr:${y}`,`sort:${j}`,`buypath:${f}`,`ct:${A}`,`cc:${N}`,`pos:${w}`,`posp:${T}`,`prime:${F}`,`cl:${b}`,`oi:${P}`,`di:${S}`,`lgd:${$}`,`lgr:${M}`,`si:${_}`,`so:${C}`,`og:${h}`,`dg:${O}`,`itid:${null==n?void 0:n.id}`,`prc:${L}`].join("_")},getFlexibleDatesSearchLaunchedLabel:({departureDate:e,returnDate:t})=>{if(!i)return"";const{tripType:n,trainSearch:a,itinerary:o}=i,{segments:s}=o,l=a?"train":"comb_f_t",u=c[n],d=e.replace(/-/g,""),p=t?t.replace(/-/g,""):"NA",m=f(81),g=y(null==o?void 0:o.cabinClass),v=s[0],b=v.departure.iata,P=v.destination.iata,S=v.departure.geoNodeId,h=v.destination.geoNodeId;return[`search_launched:${l}`,`type:${u}`,`pp:${r}`,`dd:${d}`,`dr:${p}`,"sort:BS",`buypath:${m}`,`cl:${g}`,`oi:${b}`,`di:${P}`,`og:${S}`,`dg:${h}`].join("_")}}}},330379:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p});var n=t(878969),i=t(590719),a=t(301989),o=t(9303),s=t(16961);function l({recommended:e,cheapest:r}){const t=null==e?void 0:e.price.amount,n=null==r?void 0:r.price.amount;return`pr:${t?Math.floor(t):"NA"}-${n?Math.floor(n):"NA"}`}const c=e=>e&&"ONE_WAY"===e;function u({recommended:e}){var r;return`rc:${null!==(r=null==e?void 0:e.priceSortingPosition)&&void 0!==r?r:"NA"}`}const d=({highlightedItineraries:e,selectedItinerary:r,tripType:t})=>{let n="l";return r&&(n="s",e.cheapest=r),[`${n}`,"sc:NA",`${u(e)}`,"ml:1",`${l(e)}`,"bg:NA-NA","dr:NA-NA","sd:NA-NA",""+(c(t)?"sr:OW-OW":"sr:NA-NA"),"ar:NA-NA","st:NA-NA"].join("_")},p=()=>{const{trackEvent:e}=(0,i.rS)(),{tripType:r}=(0,o.o3)()||{},t=(0,n.useRef)(),{data:l}=(0,s.cJ)();return!t.current&&l&&(t.current=l),(0,n.useCallback)(((n=null)=>{e({category:a.qu,action:"odi",label:d({tripType:r,highlightedItineraries:t.current,selectedItinerary:n})})}),[e,r,t])}},516540:(e,r,t)=>{"use strict";t.d(r,{q:()=>l});var n=t(590719),i=t(878969);const a={},o="flights_results",s="price-freeze";function l(e){const{trackEvent:r}=(0,n.rS)();return(0,i.useMemo)((()=>({trackLoadOnce(t){a[e]||(r({category:o,action:s,label:t}),a[e]=!0)},trackClick(e){r({category:o,action:s,label:e})}})),[e,r])}},7e5:(e,r,t)=>{"use strict";t.d(r,{G:()=>n});const n=(0,t(618461).T)({type:"sessionStorage",key:"flightSelectionData",isGlobal:!0})},686728:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var n=t(700041);const i=t(481855).P`
  query MembershipProduct(
    $membershipProductRequest: GetMembershipProductRequest
  ) {
    membershipProduct(membershipProductRequest: $membershipProductRequest) {
      offerAdded {
        type
      }
    }
  }
`;var a=t(724900);const o=()=>{const e={shoppingInfo:(0,a.M)()},r=(0,n.a)(i,{variables:{membershipProductRequest:e}}),{data:t,loading:o,errors:s}=r;return{data:null==t?void 0:t.membershipProduct,loading:o,errors:s}},s=()=>{const{data:e,loading:r}=o();return{isPrimeAdded:!(null==e||!e.offerAdded.type),isPrimeDataLoading:r}}},68998:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var n=t(878969);const i=()=>(0,n.useCallback)(((e,r)=>((e,r)=>{const t=new Uint32Array(1);return window.crypto.getRandomValues(t),e+t[0]/4294967296*(r-e)})(e,r)),[])},296444:(e,r,t)=>{"use strict";t.d(r,{$T:()=>l,$s:()=>o,Co:()=>g,DY:()=>c,O1:()=>i,SP:()=>n,Wx:()=>d,_U:()=>f,b:()=>s,c6:()=>p,gz:()=>m,mh:()=>y,pG:()=>u,zE:()=>a});const n=38,i=35,a=42,o=44,s=45,l=46,c=47,u=51,d=52,p=48,m=65,y=72,f={ONE_WAY:"ONE_WAY",ROUND_TRIP:"ROUND_TRIP",MULTIPLE_DESTINATIONS:"MULTIPLE_DESTINATIONS"},g={BUSINESS:"business",FIRST:"firstclass",TOURIST:"economy",PREMIUM_ECONOMY:"premiumeconomy",ECONOMIC_DISCOUNTED:"economydiscounted"}},724900:(e,r,t)=>{"use strict";t.d(r,{M:()=>d});var n=t(739733),i=t(261678),a=t(64677),o=t(6318);const s=new RegExp("/(\\d{10,12})/"),l=new RegExp("/([a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12})/"),c=()=>{const{query:e,pathname:r}=(0,n.t)(),t=r.match(l),i=t?t[1]:"";return(null==e?void 0:e.shoppingId)||i},u=()=>{const e=(()=>{const{query:e,pathname:r}=(0,n.t)(),t=r.match(s),i=t?t[1]:"0";return(null==e?void 0:e.bookingId)||i})(),[r]=(0,i.u5)("bookingId");return e||r||""},d=()=>{const e=(0,a.X6)(),r={shoppingId:`${u()}`,shoppingType:o.A1p.Cart},t={shoppingId:c(),shoppingType:o.A1p.BasketV3};return"CART"===e?r:t}},901970:(e,r,t)=>{"use strict";t.d(r,{X:()=>p});var n=t(700041),i=t(963710),a=t(6318),o=t(481855);const s=o.P`
  fragment Location on Location {
    id
    iata
    name
    cityName
    countryName
    locationType
  }
`,l=o.P`
  ${s}
  query GetShoppingSummaryItinerary($request: ShoppingSummaryRequest!) {
    getShoppingSummary(request: $request) {
      products {
        ... on ItineraryProduct {
          productInfo {
            transportTypes
            legs {
              segments {
                id
                duration
                transportTypes
                baggageCondition
                sections {
                  id
                  isHub
                  departureDate
                  arrivalDate
                  flightCode
                  departureTerminal
                  arrivalTerminal
                  duration
                  vehicleModel
                  transportType
                  cabinClass
                  technicalStops {
                    location {
                      ...Location
                    }
                    arrivalDate
                    departureDate
                  }
                  carrier {
                    id
                    name
                  }
                  operatingCarrier {
                    id
                    name
                  }
                  departure {
                    ...Location
                  }
                  destination {
                    ...Location
                  }
                }
              }
            }
          }
        }
      }
      totalNumPassengers
    }
  }
`,c=["data"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const p=e=>{const{fareItineraryKey:r="",priceWithoutDiscountSelected:t,searchId:o="",segmentKeys:s=[]}=(null==e?void 0:e.data)||{},p=t?a.ozX.FullPrice:a.ozX.PrimePrice,m=(0,n.a)(l,{variables:{request:{fareItineraryKey:r.split("_")[0],feeSelected:p,isMeta:!1,searchId:String(o),segmentKeys:s}},skip:!r||!o});(0,i.Z)(m);const{data:y}=m,f=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(m,c);return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){d(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({data:{products:(null==y?void 0:y.getShoppingSummary.products)||[]}},f)}},323127:(e,r,t)=>{"use strict";t.d(r,{H:()=>a,h:()=>i});var n=t(878969);const i=e=>(0,n.useMemo)((()=>e?(e=>(("/"===e.charAt(e.length-1)?e.replace(/.$/,""):e).split("/").pop()||"").split(/(;|%3B)/gi).reduce(((e,r)=>{const[t,n]=r.split("=");return t&&n?e[t]=n:"fdp"!==t&&"bd"!==t||(e[t]=""),e}),{}))(decodeURI(e)):{}),[e]),a=()=>{const[e,r]=(0,n.useState)(window.location.hash),t=()=>{const e=window.location.hash;r(e)};return(0,n.useEffect)((()=>(window.addEventListener("popstate",t),()=>{window.removeEventListener("popstate",t)})),[]),e}},480634:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var n=t(700041);const i=t(481855).P`
  query GetUserAccount($userAccountRequest: UserAccountRequest) {
    userAccount(userAccountRequest: $userAccountRequest) {
      isLoggedIn
      userMembership {
        isActive
        accountDetails {
          names
        }
        subscriptionDetails {
          isAutoRenewalEnabled
          currentPlanDetails {
            tier
          }
        }
      }
    }
  }
`;var a=t(724900);const o=()=>{const e={shoppingInfo:(0,a.M)()},{queryKey:r,data:t,loading:o,errors:s}=(0,n.a)(i,{variables:{userAccountRequest:e}});return{queryKey:r,data:t,loading:o,errors:s}}},118330:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var n=t(700041);const i=t(481855).P`
  query userInfoQuery {
    userInfo {
      name
    }
  }
`,a=()=>(0,n.a)(i,{})},963332:(e,r,t)=>{"use strict";t.d(r,{a:()=>n});const n=(e,r)=>e.fees.find((({type:e})=>e.id===r.id))},463606:(e,r,t)=>{"use strict";t.d(r,{Z:()=>p,b:()=>d});var n=t(878969),i=t(158180),a=t(438974),o=t(9303),s=t(590719),l=t(963710),c=t(296444);const u=(0,n.createContext)({alternativeMutationLaunched:!1,alternativeSearchId:null,alternativeItineraryId:null,alternativeItineraries:null,loading:!1,errors:null,mutate:()=>{},setAlternativeMutationLaunched:()=>{}}),d=()=>(0,n.useContext)(u),p=({children:e})=>{const[r,t]=(0,n.useState)(!1),[d,p]=(0,n.useState)(null),[m,y]=(0,n.useState)(""),[f,g]=(0,n.useState)([]),v=(0,o.o3)(),{setCustomDimension:b}=(0,s.rS)(),P=(0,i.D)(a.p),{mutate:S,loading:h,data:O,errors:I}=P;return(0,l.Z)(P),(0,n.useEffect)((()=>{v&&(p(null),g([]))}),[v]),(0,n.useEffect)((()=>{if(null!=O&&O.itinerarySearchAlternatives){const e=O.itinerarySearchAlternatives.searchId,r=O.itinerarySearchAlternatives.itineraries[0],n=(null==r?void 0:r.id)||"";t(!1),p(e),b(c.SP,`${e}`),y(n),g((e=>((e,r)=>e.some((e=>e.id===r.id))?e.map((e=>e.id===r.id?r:e)):[...e,r])(e,r)))}}),[O,b]),n.createElement(u.Provider,{value:{alternativeMutationLaunched:r,alternativeSearchId:d,alternativeItineraryId:m,alternativeItineraries:f,loading:h,errors:I,mutate:S,setAlternativeMutationLaunched:t}},e)}},97572:(e,r,t)=>{"use strict";t.d(r,{M1:()=>b,ZP:()=>h,hW:()=>v});var n=t(878969),i=t(651013),a=t(770865),o=t(277424),s=t(9303),l=t(748575),c=t(463606),u=t(122501),d=t(199592),p=t(69690);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},m.apply(null,arguments)}const y=(0,n.createContext)({selectedItinerary:void 0,alternativeItinerary:void 0,alternativeItineraryPosition:void 0,valueProposition:"social",valuePropositions:[],alternativeItineraryPrice:void 0,additionalInformation:{},discountAmount:void 0,loading:!1,errors:null,continueWithErrorBookeable:!1,altSearchId:void 0}),f=(0,n.createContext)({requestAlternativeItinerary:()=>{},hasAlternativeItineraryCarrier:()=>!1,addItineraryToUnavailableList:()=>{},isItineraryUnavailable:()=>!1,setContinueWithErrorBookeableState:()=>{}}),g=({withDiscount:e=!1,children:r})=>{const[t,i]=(0,n.useState)(),[u,m]=(0,n.useState)(),[g,v]=(0,n.useState)(),[b,P]=(0,n.useState)([]),[S,h]=(0,n.useState)("social"),[O,I]=(0,n.useState)({}),[E,_]=(0,n.useState)(),[C,T]=(0,n.useState)(),[D,N]=(0,n.useState)(),[A,R]=(0,n.useState)(),[j,w]=(0,n.useState)(!1),{data:L}=(0,a.gH)(),{alternativeFlight:F,setAlternativeFlight:$}=(0,d.Z)(),[M,x]=(0,n.useState)([]),k=(0,o.f9)(),H=(0,s.o3)(),{mutate:Z,alternativeItineraryId:U,loading:B,errors:K,alternativeSearchId:q,setAlternativeMutationLaunched:G}=(0,c.b)();if(U&&q&&(q!==D||(null==g?void 0:g.id)!==(null==u?void 0:u.id))){var Y,W,V,X;const r=null==L||null===(Y=L.itineraries)||void 0===Y?void 0:Y.find((e=>e.id===U)),t=null==L||null===(W=L.itineraries)||void 0===W?void 0:W.findIndex((e=>e.id===U)),{valuePropositions:n,additionalInformation:a}=(0,l.N)(u,r,e),o=null==r||null===(V=r.price)||void 0===V?void 0:V.amount,s=null==r||null===(X=r.perks)||void 0===X?void 0:X.alternativeItineraryDiscount,c={alternativeItinerary:r,alternativeItineraryPosition:t,originalItineraryId:null==u?void 0:u.id,selectedItinerary:u,valueProposition:S};v(u),i(r),$(c),_(t),h(n[0]),P(n),I(a),T(o),R(s),N(q)}const z=(0,n.useMemo)((()=>({requestAlternativeItinerary:r=>{G(!0);const t=r;m(t);const n={eligibleForDiscount:e,itineraryCarriers:(0,l.ie)(t),itineraryId:t.key||t.id||"",searchId:k||0,searchRequest:(0,l.Mm)(H)};Z({itinerarySearchAlternativesRequest:n})},hasAlternativeItineraryCarrier:e=>(0,l.ho)(e),addItineraryToUnavailableList:e=>{(0,l.ho)(e)&&null!=e&&e.id&&!M.includes(e.id)&&x([...M,e.id])},isItineraryUnavailable:e=>{var r;const t=(0,p.o)(e),n=null==F||null===(r=F.disabledItineraries)||void 0===r?void 0:r.some((e=>t.flightNumbers.join("_")===e));return!!e.id&&(M.includes(e.id)||n)},setContinueWithErrorBookeableState:e=>{w(e)}})),[G,e,k,H,Z,M,null==F?void 0:F.disabledItineraries]);return n.createElement(y.Provider,{value:{selectedItinerary:u,alternativeItinerary:t,alternativeItineraryPosition:E,valueProposition:S,valuePropositions:b,additionalInformation:O,alternativeItineraryPrice:C,discountAmount:A,loading:B,errors:K,continueWithErrorBookeable:j,altSearchId:D}},n.createElement(f.Provider,{value:z},r))},v=()=>(0,n.useContext)(y),b=()=>(0,n.useContext)(f),P=e=>n.createElement(g,m({},e,{withDiscount:!0})),S=(0,i.T)({name:u.$F,variations:[g,P,P,P],version:1}),h=(0,i.T)({name:u.HR,variations:[S,P],version:1})},114305:(e,r,t)=>{"use strict";t.d(r,{MV:()=>o,ZP:()=>c,dd:()=>s,xq:()=>l});var n=t(878969);const i=(0,n.createContext)({isOpen:!1,isErrorLayerVisible:!1,isDesktopEnabled:!1,feeTypeSelected:null}),a=(0,n.createContext)({open:()=>{},close:()=>{},showErrorLayer:()=>{},setFeeType:e=>{}}),o=()=>(0,n.useContext)(i),s=()=>(0,n.useContext)(a),l=()=>{const{isDesktopEnabled:e}=o();return e},c=({isDesktopEnabled:e=!1,children:r})=>{const[t,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),d=(0,n.useMemo)((()=>({open:()=>o(!0),close:()=>{o(!1),l(!1)},showErrorLayer:()=>l(!0),setFeeType:e=>u(e)})),[o]);return n.createElement(i.Provider,{value:{isOpen:t,isErrorLayerVisible:s,isDesktopEnabled:e,feeTypeSelected:c}},n.createElement(a.Provider,{value:d},r))}},748575:(e,r,t)=>{"use strict";t.d(r,{ie:()=>p,Mm:()=>b,N:()=>v,ho:()=>d});var n=t(623855),i=t(76972),a=t(6318);const o={AMS:{AMS:2,RTM:64},BCN:{BCN:12,GRO:82,REU:92},BFS:{BHD:4,BFS:20},BRU:{BRU:11,CRL:49},BTS:{BTS:10,VIE:27},CDT:{CDT:27,VLC:66},CGN:{CGN:15,DUS:41,DTM:73,NRN:93},CIY:{CIY:5,CTA:71},CTA:{CTA:5,CIY:71},DTM:{DTM:1,CGN:75},DUS:{DUS:7,CGN:47,DTM:58,NRN:61},EDI:{EDI:10,GLA:67},FLR:{FLR:6,PSA:69},FRA:{FRA:12,HHN:103},FRL:{FRL:3,BLQ:68},GLA:{GLA:2,PIK:46},GNB:{GNB:37,LYS:86},HAM:{HAM:9,LBC:55},IAS:{IAS:3,BCM:82,RMO:107},IST:{SAW:30,IST:34},KRK:{KRK:16,KTW:77},KTW:{KTW:25,KRK:69},KUN:{KUN:0,VNO:93},LON:{LCY:12,LHR:23,LGW:40,STN:49,LTN:43,SEN:57},LYS:{LYS:9,GNB:59},MIL:{LIN:8,MXP:39,BGY:46,PMF:117},OSL:{OSL:37,TRF:85},PAR:{ORY:15,CDG:23,BVA:68,XCR:136},PMF:{PMF:1,LIN:108,BGY:108,MXP:157},ROM:{CIA:15,FCO:23},RTM:{RTM:16,AMS:55},STO:{BMA:7,ARN:37,VST:86,NYO:90},SUF:{SUF:10,CRV:66},TCI:{TFS:27,TFN:28},TRN:{TRN:15,CUF:60},VCE:{VCE:5,TSF:32},VIE:{VIE:14,BTS:63},VLC:{VLC:8,CDT:91},VNO:{VNO:7,KUN:90},WAW:{WAW:8,WMI:35,RDO:94}};function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const u=["FR","RK"],d=e=>{var r;return null==e||null===(r=e.legs)||void 0===r?void 0:r.some((e=>{var r;return u.includes(null===(r=e.segments[0])||void 0===r||null===(r=r.carrier)||void 0===r?void 0:r.id)}))},p=e=>Array.from(new Set(null==e?void 0:e.legs.flatMap((e=>e.segments)).map((e=>{var r;return null==e||null===(r=e.carrier)||void 0===r?void 0:r.id})))).map(String),m=e=>{var r;const t=null==e||null===(r=e.legs)||void 0===r?void 0:r.map((e=>e.segments[0].baggageCondition));return null!=t&&t.includes("BASED_ON_AIRLINE")?"BASED_ON_AIRLINE":null!=t&&t.includes("CABIN_INCLUDED")?"CABIN_INCLUDED":t?"CHECKIN_INCLUDED":"BASED_ON_AIRLINE"},y=(e,r)=>{var t;return null==e||null===(t=e.legs[r])||void 0===t?void 0:t.segments[0]},f=e=>{const r=y(e,0),t=y(e,1);if(!r||!t)return 0;const a=(0,n.Z)(r.arrivalDate),o=(0,n.Z)(t.departureDate);return(0,i.Z)(o,a)||0},g=e=>{var r;return null==e||null===(r=e.legs)||void 0===r?void 0:r.reduce(((e,r)=>{let t=0;return r.segments.forEach((e=>{var r,n;const i=e.departure.cityIata||e.departure.iata,a=e.destination.cityIata||e.destination.iata;t+=null===(r=o[i])||void 0===r?void 0:r[e.departure.iata],t+=null===(n=o[a])||void 0===n?void 0:n[e.destination.iata]})),e+t}),0)},v=(e,r,t)=>{const n=[],i={airport:0},a=m(e),o=m(r);if(((e,r)=>{var t,n,i,a;return(null==e||null===(t=e.price)||void 0===t?void 0:t.amount)&&(null==r||null===(n=r.price)||void 0===n?void 0:n.amount)&&Math.ceil(null==e||null===(i=e.price)||void 0===i?void 0:i.amount)>Math.ceil(null==r||null===(a=r.price)||void 0===a?void 0:a.amount)})(e,r)){const e=t?"discount":"price";n.push(e)}if(((e,r)=>e!==r&&"BASED_ON_AIRLINE"!==r)(a,o)&&n.push("CHECKIN_INCLUDED"===o?"checkedLuggage":"cabinLuggage"),((e,r)=>!(null!=e&&e.legs.every(((e,t)=>null==e?void 0:e.segments.every(((e,n)=>{var i,a,o,s;return(null===(i=e.departure)||void 0===i?void 0:i.iata)===(null==r||null===(a=r.legs[t].segments[n].departure)||void 0===a?void 0:a.iata)&&(null===(o=e.destination)||void 0===o?void 0:o.iata)===(null==r||null===(s=r.legs[t].segments[n].destination)||void 0===s?void 0:s.iata)}))))))(e,r)){const t=((e,r)=>g(e)-g(r))(e,r);t&&t>0&&(n.push("airport"),i.airport=t)}return((e,r)=>f(r)>f(e))(e,r)&&n.push("convenience"),n.push("social"),{valuePropositions:n,additionalInformation:i}},b=e=>{var r;const t=null==e||null===(r=e.itinerary)||void 0===r?void 0:r.segments.map((e=>l(l({},e),{},{departure:{geoNodeId:e.departure.geoNodeId,iata:e.departure.iata},destination:{geoNodeId:e.destination.geoNodeId,iata:e.destination.iata}}))),n=l(l({},null==e?void 0:e.itinerary),{},{segments:t});return{buyPath:null==e?void 0:e.buyPath,tripType:(i=null==e?void 0:e.tripType,"ONE_WAY"===i?a.X9H.OneWay:"ROUND_TRIP"===i?a.X9H.RoundTrip:a.X9H.MultipleDestinations),itinerary:n};var i}},620951:(e,r,t)=>{"use strict";t.d(r,{Aw:()=>l,GV:()=>c,xp:()=>p});var n=t(878969),i=t(590719),a=t(9303),o=t(301989);const s="alternative_flight_layer";let l=function(e){return e.RyanairCountersteering="RC",e.BrokenFlow="BF",e.NonBookable="NB",e}({}),c=function(e){return e.FlightsResults="flights_results",e.Summary="summary",e.Pax="pax",e.Pay="pay",e}({});const u={price:"BP",discount:"DS",cabinLuggage:"SB",checkedLuggage:"BB",airport:"AP",convenience:"TS",social:"SP",directFlight:"DF"},d=e=>{const{tripType:r}=(0,a.o3)()||{},t=((null==e?void 0:e.legs.length)||1)-1,n="MULTIPLE_DESTINATIONS"===r?t:0,i=(r,t)=>{var n;return null==e||null===(n=e.legs)||void 0===n||null===(n=n[r])||void 0===n||null===(n=n.segments[0])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.iata};return{departureAirportCode:i(0,"departure"),destinationAirportCode:i(n,"destination"),carrierCode:(()=>{const r=new Set;return null==e||e.legs.forEach((e=>{e.segments.forEach((e=>{r.add(e.carrier.id)}))})),Array.from(r).join("-")})()}},p=({selectedItinerary:e,alternativeItinerary:r,nonIssuable:t,pageName:a,alternativeItineraryPosition:l,valueProposition:c,valuePropositions:p,alternativeFlightType:m})=>{var y,f,g;const{trackEvent:v}=(0,i.rS)(),b=null==r||null===(y=r.price)||void 0===y?void 0:y.amount,P=null==r||null===(f=r.perks)||void 0===f?void 0:f.alternativeItineraryDiscount,S=u[c]||null,{departureAirportCode:h,destinationAirportCode:O,carrierCode:I}=d(r),{carrierCode:E}=d(e),_=null==e||null===(g=e.price)||void 0===g?void 0:g.amount;return(0,n.useCallback)(((e,r,n)=>{const i="alternative"===r?"conf":"card_FR",c="alternative"===r?`_btn:${"button"===n?0:1}`:"",d=u[p[0]]||null,y=u[p[1]]||null,f=u[p[2]]||null;if(null!=l)switch(e){case"onLoad":v({category:o.qu,action:s,label:`AF_onload:${S}_s1:${d}_s2:${y}_s3:${f}_Alt_pos:${l}_route:${h}_${O}_DC:${null==P?void 0:P.amount}${null==P?void 0:P.currency}_pr_fr:${_}_pr_a:${b}_bk:${Number(!t)}_sa:${E}_aa:${I}_type:${m}_page:${a}`});break;case"discard":v({category:o.qu,action:s,label:`AF_discard:${S}_s1:${d}_s2:${y}_s3:${f}_Alt_pos:${l}_route:${h}_${O}_DC:${null==P?void 0:P.amount}${null==P?void 0:P.currency}_pr_fr:${_}_pr_a:${b}_disc:${n}_bk:${Number(!t)}_sa:${E}_aa:${I}_type:${m}_page:${a}`});break;case"select":v({category:o.qu,action:s,label:`AF_click_${i}:${S}_s1:${d}_s2:${y}_s3:${f}_Alt_pos:${l}${c}_route:${h}_${O}_DC:${null==P?void 0:P.amount}${null==P?void 0:P.currency}_pr_fr:${_}_pr_a:${b}_bk:${Number(!t)}_sa:${E}_aa:${I}_type:${m}_page:${a}`})}}),[p,l,v,S,h,O,null==P?void 0:P.amount,null==P?void 0:P.currency,_,b,t,E,I,m,a])}},845172:(e,r,t)=>{"use strict";t.d(r,{aD:()=>m,xT:()=>p});var n=t(878969),i=t(651013),a=t(425837),o=t(122501);const s={goToPassengers:()=>{},createShoppingBundle:()=>{}},l=(0,n.createContext)(s),c=({children:e})=>n.createElement(n.Fragment,null,e),u=(0,i.T)({name:o.Zf,variations:[c,c],version:1}),d=(0,i.T)({name:o._2,variations:[c,c],version:1}),p=({children:e})=>n.createElement(n.Fragment,null,n.createElement(a.H,null,n.createElement(d,null,e)),n.createElement(a.i,null,n.createElement(u,null,e))),m=()=>(0,n.useContext)(l)},428672:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>b,DN:()=>I,L7:()=>v,ZP:()=>T,f9:()=>E,n_:()=>O,pB:()=>N,qT:()=>D,zg:()=>h});var n=t(878969),i=t(590719),a=t(651013),o=t(16961),s=t(94345),l=t(189631),c=t(122501);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function p(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const m=()=>new Promise((e=>setTimeout(e,0))),y=Function.prototype,f=(0,n.createContext)(),g=(0,n.createContext)({loadNextPage:y}),v=()=>(0,n.useContext)(g),b=()=>{const e=(0,n.useContext)(f),{loading:r,error:t,data:i}=e||{};return d(d({},e),{},{itineraries:r||t?[]:null==i?void 0:i.itineraries})},P=e=>e.filter((e=>e.transportTypes.includes("TRAIN"))).length,S=e=>e.findIndex((e=>e.transportTypes.includes("TRAIN")))+1,h=()=>{const{itineraries:e}=b(),r=(0,s.iy)();return["onload_trains",P(e),e.length,S(e),r].join("_")},O=()=>{const{itineraries:e}=b();return["onload_trains",P(e),e.length,S(e)].join("_")},I=30,E=2,_=({children:e,onDisplayedItinerariesChange:r,limitedList:t=!1})=>{const{trackEvent:a}=(0,i.rS)(),c=(0,o.PN)(),[u,p]=(0,n.useState)(!1),[y,v]=(0,n.useState)(1),{sorting:b}=(0,s.rK)(),{loading:P,error:S,data:h}=c,O=((e,r,{pageNumber:t,onDisplayedItinerariesChange:n},i)=>{const{itineraries:a=[]}=e||{},o=a.filter((e=>(0,l.Gu)(e,r))),s=t*(null!=e&&e.externalSelection&&i?E:I);return{error:null,loading:!1,data:d(d({},e),{},{itineraries:a.slice(0,s),hasNextPage:s<o.length,pageNumber:t,onDisplayedItinerariesChange:n})}})(h,b,{pageNumber:y,onDisplayedItinerariesChange:r},t),_=P||S?c:d(d({},O),{},{hasNextPage:O.data.hasNextPage,showMoreLoading:u}),C=(0,n.useMemo)((()=>({loadNextPage:async()=>{p(!0),await m(),p(!1),v((e=>(a("results_list",`page_selected_next_${e+1}`),e+1)))}})),[p,v,a]);return n.createElement(g.Provider,{value:C},n.createElement(f.Provider,{value:_},e))},C=({children:e,onDisplayedItinerariesChange:r})=>n.createElement(_,{onDisplayedItinerariesChange:r,limitedList:!0},e),T=(0,a.T)({name:c.h4,variations:[_,C,_,C],version:1}),D=10,N=({children:e,onDisplayedItinerariesChange:r})=>{const{trackEvent:t}=(0,i.rS)(),a=(0,o.hl)(),[s,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(1),{loading:p,error:y,data:v}=a,b=((e,{pageNumber:r,onDisplayedItinerariesChange:t})=>{const{itineraries:n=[]}=e||{},i=r*D;return{error:null,loading:!1,data:d(d({},e),{},{itineraries:n.slice(0,i),hasNextPage:i<n.length,pageNumber:r,onDisplayedItinerariesChange:t})}})(v,{pageNumber:c,onDisplayedItinerariesChange:r}),P=p||y?a:d(d({},b),{},{hasNextPage:b.data.hasNextPage,showMoreLoading:s}),S=(0,n.useMemo)((()=>({loadNextPage:async()=>{l(!0),await m(),l(!1),u((e=>(t("results_list",`page_selected_next_${e+1}`),e+1)))}})),[l,u,t]);return n.createElement(g.Provider,{value:S},n.createElement(f.Provider,{value:P},e))}},217985:(e,r,t)=>{"use strict";t.d(r,{H7:()=>s,ZP:()=>c,o5:()=>l});var n=t(878969),i=t(277424);const a=(0,n.createContext)(!1),o=(0,n.createContext)({open:()=>{},close:()=>{}}),s=()=>(0,n.useContext)(a),l=()=>(0,n.useContext)(o),c=({children:e})=>{const[r,t]=(0,n.useState)(!1),{data:s}=(0,i.fI)(),l=(0,n.useMemo)((()=>({open:()=>t(!0),close:()=>t(!1)})),[t]);return(0,n.useEffect)((()=>{t(!1)}),[s,t]),n.createElement(a.Provider,{value:r},n.createElement(o.Provider,{value:l},e))}},55031:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l,r:()=>c});var n=t(878969),i=t(428672),a=t(277424);const o={favorites:[],addFavorite:()=>{},removeFavorite:()=>{}},s=(0,n.createContext)(o),l=({children:e})=>{const[r,t]=(0,n.useState)([]),{data:o}=(0,a.fI)(),{itineraries:l}=(0,i.Bw)(),c=(0,n.useCallback)((e=>{const n=l.find((r=>r.id===e));t([...r,n])}),[r,l,t]),u=(0,n.useCallback)((e=>{t(r.filter((r=>(null==r?void 0:r.id)!==e)))}),[r,t]);return(0,n.useEffect)((()=>{t([])}),[o,t]),n.createElement(s.Provider,{value:{favorites:r,addFavorite:c,removeFavorite:u}},e)},c=()=>(0,n.useContext)(s)},819238:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d,k:()=>u});var n=t(878969),i=t(911520),a=t(277424),o=t(721138),s=t(394329);const l=[null,()=>{}],c=(0,n.createContext)(l),u=()=>{const[e,r]=(0,n.useContext)(c),{start:t}=(0,o.jE)(),i=(0,a.hH)(),u=(0,s.m2)(),d=e||i||u;if(!d)return l;return[d,e=>{t(),r(e)}]},d=({onChange:e,children:r})=>{const t=(0,n.useState)(null),[a]=t;return(0,n.useEffect)((()=>{const r=(e=>{const r=null==e?void 0:e.id;return{id:r===i.Sq?"0":r}})(a);r.id&&!(({id:e})=>[i.no,i.ox,i.FV].includes(e))(r)&&e(r)}),[a,e]),n.createElement(c.Provider,{value:t},r)}},725512:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var n=t(878969),i=t(484878),a=t(82593),o=t(632398),s=t(940961);const l=e=>{const{dispatch:r}=(0,a.b8)();(0,n.useEffect)((()=>e.forEach(r)),[r,e])};function c({children:e}){const r=(0,i.sY)(),t=(0,o.sY)(),n=(0,s.sY)();return l(t),l(r),l(n),e}},429726:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});var n=t(94345),i=t(656427);const a=()=>{let e,r={price:{amount:1/0,currency:""},type:{id:"",name:""}};return{add(t,i){(0,n.Wv)(t,r)<0&&(r=t,e=i)},build(){return(0,i.L)("cheapest",r,e)}}}},656427:(e,r,t)=>{"use strict";function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,{L:()=>a});const a=(e,r,t)=>function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({highlightedType:e},void 0!==t&&{itinerary:r,position:t})},16961:(e,r,t)=>{"use strict";t.d(r,{zH:()=>ie,ZP:()=>ae,Rw:()=>G,kY:()=>J,PN:()=>B,cJ:()=>Y,w$:()=>z,hl:()=>te,Ni:()=>re});var n=t(878969),i=t(417050),a=t(94345),o=t(656427);const s=()=>{let e,r={meRating:-1/0};return{add(t,n){(0,a.Z8)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("recommended",r,e)}}},l=()=>{let e,r={duration:1/0};return{add(t,n){(0,a.Lm)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("fastest",r,e)}}};var c=t(429726);const u=()=>{let e,r={price:{amount:1/0}};return{add(t,n){const{hasCheckInBaggage:i}=t;i&&(0,a.Wv)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("withBaggage",r,e)}}},d=()=>{let e,r={price:{amount:1/0}};return{add(t,n){var i;null!==(i=t.campaignConfig)&&void 0!==i&&null!==(i=i.primeDayConfig)&&void 0!==i&&i.isPrimeDayFare&&(0,a.Wv)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("primeDay",r,e)}}},p=()=>{let e,r={legs:[{segments:[{departureDate:"3000-12-31T23:59:59+01:00"}]}]};return{add(t,n){1===t.legs.length&&t.transportTypes.every((e=>"TRAIN"===e))&&(0,a.AG)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("earliest",r,e)}}},m=()=>{let e,r={legs:[{segments:[{departureDate:"3000-12-31T23:59:59+01:00"}]}]};return{add(t,n){1===t.legs.length&&t.transportTypes.every((e=>"PLANE"===e))&&(0,a.AG)(t,r)<0&&(r=t,e=n)},build(){return(0,o.L)("earliestFlight",r,e)}}},y=()=>{const e=(0,c.Z)(),r=s(),t=l(),n=u(),i=d(),a=p(),o=m();return{add(s,l){e.add(s,l),r.add(s,l),t.add(s,l),n.add(s,l),i.add(s,l),a.add(s,l),o.add(s,l)},build(){return[r.build(),e.build(),t.build(),n.build(),i.build(),a.build(),o.build()]}}},f=e=>({build(){return e.reduce(((e,r)=>{const{itinerary:t}=r,n=e.find((({itinerary:e})=>e&&(null==t?void 0:t.id)===e.id));return t&&!n&&e.push(r),e}),[])}});var g=t(757490),v=t(498232),b=t(869604),P=t(572541),S=t(345789),h=t(943957),O=t(367826),I=t(273256),E=t(567602),_=t(927);function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){D(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function D(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const N=({transportTypes:e,timeRanges:r,maxDurations:t,connectionThresholdPredicate:n,connectionsPredicate:i,airportsPredicate:a,carriersPredicate:o,pinnedSegmentIds:s,aircraftPredicate:l,isPrimeDayFare:c,isEco:u})=>{const d=[(0,g.Z)(e),(0,v.Z)(r),(0,b.Z)(t),n,i,a,o,(0,P.Z)(c),(0,S.Z)(s),(0,h.Z)(u),l];return e=>d.every((r=>r(e)))},A=e=>e.reduce(((e,{highlightedType:r,itinerary:t})=>(t&&(e[r]=t),e)),{}),R=(e,r)=>null==e?void 0:e.filter((e=>e.legs.every((e=>e.segments.every((e=>!e.transportTypes.includes(r))))))).length,j=({transportTypes:e,timeRanges:r,maxDurations:t,connectionThresholdPredicate:n,connectionsPredicate:i,airportsPredicate:a,carriersPredicate:o,isPrimeDayFare:s,priceRange:l,monthsSelected:c,weekDaysSelected:u,durationRangeSelected:d})=>{const p=[(0,g.Z)(e),(0,v.Z)(r),(0,b.Z)(t),n,i,a,o,(0,P.Z)(s),(0,O.Z)(l),(0,I.Z)(c),(0,E.Z)(u),(0,_.Z)(d)];return e=>p.every((r=>r(e)))},w=(e,r)=>{const t=y(),n=N(r),i=[];let a=0;const o={PLANE:R(e.itineraries,"TRAIN"),TRAIN:R(e.itineraries,"PLANE")};return{add(e){n(e)&&(t.add(e,a),i.push(T(T({},e),{},{highlightedType:"default"})),++a)},build(){const r=t.build(),n=f(r).build();n.forEach((({highlightedType:e,position:r})=>{i[r].highlightedType=e}));const a=A(r),s=A(n);return T(T({},e),{},{itineraries:i,bestItineraries:a,highlightedItineraries:s,filteredItinerariesNumber:i.length,totalItinerariesNumber:e.itineraries.length,totalItinerariesByProduct:o})}}};var L=t(428556),F=t(189631),$=t(605968),M=t(230379);function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){H(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function H(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const Z={loading:!0,data:null,error:null},U=(0,n.createContext)(Z),B=()=>(0,n.useContext)(U),K=({data:e})=>null==e?void 0:e.bestItineraries,q=({data:e})=>null==e?void 0:e.highlightedItineraries,G=()=>{const e=B();return(0,i.r)(e,K)},Y=()=>{const e=B();return(0,i.r)(e,q)},W={filteredItinerariesNumber:0,totalItinerariesNumber:0},V=k({loading:!0,error:null},W),X=e=>k({loading:!1,error:e},W),z=()=>{const{loading:e,error:r,data:t}=B(),{totalItinerariesNumber:i,totalItinerariesByProduct:o,itineraries:s}=t||{},{sorting:l}=(0,a.rK)(),c=null==s?void 0:s.filter((e=>(0,F.Gu)(e,l))),u=null==c?void 0:c.length;return(0,n.useMemo)((()=>e?V:r?X(r):{filteredItinerariesNumber:u,totalItinerariesNumber:i,totalItinerariesByProduct:o}),[e,r,u,i,o])},J=()=>{const{filteredItinerariesNumber:e,totalItinerariesNumber:r}=z();return(0,n.useMemo)((()=>r>0&&0===e),[e,r])},Q=({data:e},r)=>{const t=w(e,r);return e.itineraries.forEach((e=>t.add(e))),t.build()},ee=(0,n.createContext)(Z),re=()=>{const{loading:e,error:r,data:t}=te(),{totalItinerariesNumber:i,itineraries:o}=t||{},{sorting:s}=(0,a.rK)(),l=null==o?void 0:o.filter((e=>(0,F.Gu)(e,s))),c=null==l?void 0:l.length;return(0,n.useMemo)((()=>e?V:r?X(r):{filteredItinerariesNumber:c,totalItinerariesNumber:i}),[e,r,c,i])},te=()=>(0,n.useContext)(ee),ne=({data:e},r)=>{const t=((e,r)=>{const t=j(r),n=[];return{add(e){t(e)&&n.push(T({},e))},build(){return T(T({},e),{},{itineraries:n,filteredItinerariesNumber:n.length,totalItinerariesNumber:e.itineraries.length})}}})(e,r);return e.itineraries.forEach((e=>t.add(e))),t.build()},ie=({children:e})=>{const r=(0,$.SM)(),t=(0,M.K8)(),a=(0,i.r)(r,ne,t);return n.createElement(ee.Provider,{value:a},e)},ae=({children:e})=>{const r=(0,a.Fo)(),t=(0,L.P)(),o=(0,i.r)(r,Q,t);return n.createElement(U.Provider,{value:o},e)}},343477:(e,r,t)=>{"use strict";t.d(r,{CL:()=>y,yf:()=>g,PI:()=>v});var n=t(700041),i=t(963710),a=t(9303),o=t(904276),s=t(500313),l=t(623855),c=t(69119),u=t(878969);const d=t(481855).P`
  query flexibleDates($flexibleDatesSearchRequest: FlexibleDatesSearchRequest) {
    flexibleDates(flexibleDatesSearchRequest: $flexibleDatesSearchRequest) {
      originGeoNode
      destinationGeoNode
      firstOriginDate
      lastOriginDate
      firstReturnDate
      lastReturnDate
      numberOfRows
      numberOfColumns
      matrixEntries {
        ... on FlexibleDatesMatrixData {
          matrixRow
          matrixColumn
          departureDate
          returnDate
          apparentPrices {
            ... on FlexibleDatesApparentPrice {
              apparentPrice {
                ... on Money {
                  amount
                  currency
                }
              }
              apparentPriceCriteria
            }
          }
        }
      }
    }
  }
`,p={loading:!1,data:null,errors:null},m=(0,u.createContext)(p),y=3,f=(e,r)=>{var t,n,i,a;if(!e)return;const{itinerary:o,tripType:s}=e;return{flexibleDatesSearchRequest:{departureDate:null==o||null===(t=o.segments)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.date,returnDate:null==o||null===(n=o.segments)||void 0===n||null===(n=n[1])||void 0===n?void 0:n.date,originGeoNode:null==o||null===(i=o.segments)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.departure)||void 0===i?void 0:i.geoNodeId,destinationGeoNode:null==o||null===(a=o.segments)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.destination)||void 0===a?void 0:a.geoNodeId,tripType:s,numberOfDaysFlexibility:y,priceFreshnessDays:1,priceCalculationCriteria:r?"MINIMUM_PURCHASABLE_MEMBERSHIP_PRICE":"MINIMUM_PURCHASABLE_PRICE"}}},g=({children:e})=>{const r=(0,a.o3)(),{isPrimeSite:t}=(0,o.j)(),i=(0,n.a)(d,{variables:f(r,t),skip:void 0===(null==r?void 0:r.tripType)||("ONE_WAY"===(null==r?void 0:r.tripType)?(0,s.Z)((0,l.Z)(null==r||null===(p=r.itinerary)||void 0===p||null===(p=p.segments)||void 0===p||null===(p=p[0])||void 0===p?void 0:p.date),(0,c.Z)(new Date))||!(null!=r&&null!==(y=r.itinerary)&&void 0!==y&&null!==(y=y.segments)&&void 0!==y&&null!==(y=y[0])&&void 0!==y&&null!==(y=y.departure)&&void 0!==y&&y.geoNodeId)||!(null!=r&&null!==(g=r.itinerary)&&void 0!==g&&null!==(g=g.segments)&&void 0!==g&&null!==(g=g[0])&&void 0!==g&&null!==(g=g.destination)&&void 0!==g&&g.geoNodeId):"ROUND_TRIP"!==(null==r?void 0:r.tripType)||(0,s.Z)((0,l.Z)(null==r||null===(v=r.itinerary)||void 0===v||null===(v=v.segments)||void 0===v||null===(v=v[0])||void 0===v?void 0:v.date),(0,c.Z)(new Date))||(0,s.Z)((0,l.Z)(null==r||null===(b=r.itinerary)||void 0===b||null===(b=b.segments)||void 0===b||null===(b=b[1])||void 0===b?void 0:b.date),(0,c.Z)(new Date))||!(null!=r&&null!==(P=r.itinerary)&&void 0!==P&&null!==(P=P.segments)&&void 0!==P&&null!==(P=P[0])&&void 0!==P&&null!==(P=P.departure)&&void 0!==P&&P.geoNodeId)||!(null!=r&&null!==(S=r.itinerary)&&void 0!==S&&null!==(S=S.segments)&&void 0!==S&&null!==(S=S[0])&&void 0!==S&&null!==(S=S.destination)&&void 0!==S&&S.geoNodeId)||!(null!=r&&null!==(h=r.itinerary)&&void 0!==h&&null!==(h=h.segments)&&void 0!==h&&null!==(h=h[1])&&void 0!==h&&null!==(h=h.departure)&&void 0!==h&&h.geoNodeId)||!(null!=r&&null!==(O=r.itinerary)&&void 0!==O&&null!==(O=O.segments)&&void 0!==O&&null!==(O=O[1])&&void 0!==O&&null!==(O=O.destination)&&void 0!==O&&O.geoNodeId)),notifyOnBackgroundFetching:!0});var p,y,g,v,b,P,S,h,O;return u.createElement(m.Provider,{value:i},e)},v=()=>{const e=(0,u.useContext)(m);(0,i.Z)(e);const{errors:r,loading:t,data:n}=e;return r||t?null:(null==n?void 0:n.flexibleDates)||null}},964866:(e,r,t)=>{"use strict";t.d(r,{C:()=>a,U:()=>o});var n=t(878969);const i=(0,n.createContext)({}),a=({children:e})=>{const[r,t]=(0,n.useState)(null),[a,o]=(0,n.useState)(null),[s,l]=(0,n.useState)(!1),c=(0,n.useMemo)((()=>({selectedCell:r,setSelectedCell:t,hoveredCell:a,setHoveredCell:o,isModalOpen:s,setIsModalOpen:l})),[s,r,a]);return n.createElement(i.Provider,{value:c},e)},o=()=>(0,n.useContext)(i)},770865:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>O,gH:()=>v});var n=t(878969),i=t(261678),a=t(819238),o=t(872064),s=t(963332),l=t(989046),c=t(292643),u=t(94345),d=t(323127),p=t(417050);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){f(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function f(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const g=(0,n.createContext)(),v=()=>(0,n.useContext)(g),b=({itinerary:e,dealPrice:r})=>{const{price:t}=e;return r===t.amount?"equal":r<t.amount?"up":"down"},P=({itinerary:e,dealPrice:r})=>{(0,l.H)({itinerary:e,dealPrice:r})&&(e.dealInfo={trend:b({itinerary:e,dealPrice:r})})},S=({itinerary:e,flexibleDatesPrice:r,trend:t})=>{t!==c.k.up&&t!==c.k.down||(e.flexibleDatesDealInfo={trend:(0,c.z)({itinerary:e,flexibleDatesPrice:r})})},h=({data:e},{feeType:r,dealPrice:t,flexibleDatesPrice:n})=>{var i;const{itineraries:a,defaultFeeType:o}=e,l=r||o,d=(({dealPrice:e,flexibleDatesPrice:r}={})=>{let t={price:{amount:null}};const n=[];return{add(e){n.push(e),(null===t.price.amount||(0,u.Wv)(e,t)<0)&&(t=e)},build(){let i=!1;const a=(0,c.z)({itinerary:t,flexibleDatesPrice:r});return P({itinerary:t,dealPrice:e}),a===c.k.up||a===c.k.down?S({itinerary:t,flexibleDatesPrice:r,trend:a}):a===c.k.highest&&(i=!0),{cheapest:t,itinerariesWithPrice:n,soldoutFlexibleDates:i}}}})({dealPrice:t,flexibleDatesPrice:n});a.forEach((e=>{const r=(0,s.a)(e,l);if(r){const t=y(y({},e),{},{price:r.price});d.add(t)}}));const{cheapest:p,itinerariesWithPrice:m,soldoutFlexibleDates:f}=d.build();return y(y({},e),{},{cheapestItineraryPrice:null==p||null===(i=p.price)||void 0===i?void 0:i.amount,itineraries:m,soldoutFlexibleDates:f})},O=({children:e})=>{const[r]=(0,a.k)(),t=(0,o.gW)(),[s]=(0,i.u5)("deal_price"),{fdp:l}=(0,d.h)(window.location.href||""),c=(0,p.r)(t,h,{feeType:r,dealPrice:s,flexibleDatesPrice:l});return n.createElement(g.Provider,{value:c},e)}},210213:(e,r,t)=>{"use strict";t.d(r,{$5:()=>l,O3:()=>o,Td:()=>s});var n=t(878969);const i=(0,n.createContext)(),a=(0,n.createContext)(),o=({children:e})=>{const[r,t]=(0,n.useState)(null);return n.createElement(i.Provider,{value:r},n.createElement(a.Provider,{value:t},e))},s=()=>(0,n.useContext)(i),l=()=>(0,n.useContext)(a)},886394:(e,r,t)=>{"use strict";t.d(r,{Kv:()=>c,ZP:()=>d,fY:()=>u,vC:()=>l,xK:()=>s});var n=t(878969),i=t(692300);const a=(0,n.createContext)(),o=(0,n.createContext)(),s=()=>(0,n.useContext)(a),l=e=>{const{fees:r}=s();return r.find((({type:r})=>r.id===e))},c=()=>{var e,r,t;const{legs:n}=s(),a=(null===(e=n[0])||void 0===e?void 0:e.segments)||[],o=a[(a.length||0)-1]||null,l=new Date(null==o?void 0:o.arrivalDate),c=(null==o||null===(r=o.destination)||void 0===r?void 0:r.cityName)||null;return{amountNights:(({from:e,to:r})=>{try{const t=(0,i.Z)(r,e);return parseInt(t)||0}catch(e){return 0}})({from:l,to:new Date(null===(t=n[1])||void 0===t||null===(t=t.segments[0])||void 0===t?void 0:t.departureDate)}),destinationName:c,isRoundtrip:2===n.length}},u=()=>(0,n.useContext)(o),d=({children:e,itinerary:r,position:t})=>n.createElement(a.Provider,{value:r},n.createElement(o.Provider,{value:t},e))},63963:(e,r,t)=>{"use strict";t.d(r,{Z:()=>u,d:()=>c});var n=t(878969),i=t(886394),a=t(210213),o=t(728406);const s=(0,n.createContext)(),l=({children:e})=>((0,o.ui)({}),e),c=()=>(0,n.useContext)(s),u=({itineraryFromUrl:e,children:r})=>{const[{itinerary:t,position:o},c]=(0,n.useState)({itinerary:e});return n.createElement(s.Provider,{value:c},n.createElement(a.O3,null,n.createElement(i.ZP,{itinerary:t,position:o},n.createElement(l,null,r))))}},355917:(e,r,t)=>{"use strict";t.d(r,{YU:()=>l,ZP:()=>c,w7:()=>s});var n=t(878969),i=t(739733);const a=(0,n.createContext)(),o=(0,n.createContext)(),s=()=>(0,n.useContext)(a),l=()=>(0,n.useContext)(o),c=({children:e})=>{const[r,t]=(0,n.useState)(!1),{push:s}=(0,i.t)(),l=(0,n.useMemo)((()=>({open:e=>{e?s({pathname:"checkout_flight_summary_results/[params]/",query:{params:e}}):t(!0)},close:()=>t(!1)})),[s,t]);return n.createElement(a.Provider,{value:r},n.createElement(o.Provider,{value:l},e))}},24428:(e,r,t)=>{"use strict";t.d(r,{F8:()=>s,JN:()=>a,bV:()=>l,g6:()=>i,jH:()=>n,qD:()=>o});const n="filters",i="bp_filters",a="results",o="trip_summary",s="bp_results",l="bp_trip_summary"},82593:(e,r,t)=>{"use strict";t.d(r,{KP:()=>c,ZP:()=>m,b8:()=>u});var n=t(878969);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const s=(0,n.createContext)([]),l=(0,n.createContext)({add:Function.prototype,remove:Function.prototype,removeLast:Function.prototype,clear:Function.prototype,clearAllStartsWith:Function.prototype}),c=()=>(0,n.useContext)(s),u=()=>(0,n.useContext)(l),d=(e,r)=>e.findIndex((e=>{return n=r,(t=e).alias===n.alias&&(((e,r)=>[e.legId,r.legId].includes(void 0))(t,n)||t.legId===n.legId);var t,n})),p=(e,r)=>{switch(r.type){case"ADD":return((e,{tag:r})=>{const t=d(e,r);return t<0?e.concat([r]):r.type!==e[t]?(n=t,i=e=>a(a({},e),{},{undo:Array.isArray(e.undo)?e.undo:[e.undo,r.undo]}),e.map(((e,r)=>r===n?i(e):e))):e;var n,i})(e,r);case"REMOVE":return((e,{tag:r})=>{const t=d(e,r);return t>=0?e.slice(0,t).concat(e.slice(t+1)):e})(e,r);case"REMOVE_LAST":return(e=>e.slice(0,-1))(e);case"CLEAR_GROUP":return((e,{tag:r})=>e.filter((e=>!e.alias.startsWith(r.alias))))(e,r);default:return e}};function m({children:e}){const[r,t]=(0,n.useReducer)(p,[]),i=(0,n.useMemo)((()=>{const e=e=>r=>t({tag:r,type:e}),r=e("CLEAR_GROUP");return{add:e("ADD"),remove:e("REMOVE"),removeLast:e("REMOVE_LAST"),clearAllStartsWith:e=>r({alias:e}),dispatch:t}}),[t]);return n.createElement(l.Provider,{value:i},n.createElement(s.Provider,{value:r},e))}},872064:(e,r,t)=>{"use strict";t.d(r,{Ux:()=>H,ZP:()=>ie,m3:()=>ne,mT:()=>J,h4:()=>W,s:()=>G,s7:()=>X,OK:()=>U,Ex:()=>z,i_:()=>V,Uq:()=>te,ps:()=>Y,K_:()=>q,gW:()=>$,kj:()=>re,mw:()=>Q,xU:()=>ee});var n=t(878969),i=t(417050),a=t(277424),o=t(9303),s=t(562411),l=t(753730),c=t(592679),u=t(324424),d=t(2379),p=t(749733),m=t(411353),y=t(561054),f=t(247137),g=t(501541),v=t(966727),b=t(966300),P=t(766633),S=t(357894),h=t(989508);const O=e=>{const{sections:r}=(null==e?void 0:e.segments[0])||[];return{departure:r[0].departure,destination:r[r.length-1].destination}},I=({legs:e})=>null==e?void 0:e.map(O),E=(e,r,t=!1)=>{const{search:n}=e||{},{itineraries:i,defaultFeeType:a}=n||{},[o]=i||[],s=(0,f.ZP)(),O=(0,l.Z)(p.ZP),E=(0,m.ZP)(r),_=(0,y.Z)(r,t),C=(0,g.Z)(r,t),T=(0,c.Z)(r,t),D=(0,d.Z)(r),N=(0,u.Z)(a),A=(0,v.Z)(),R=(0,h.ZP)();let j=!1,w=!1;const L=(0,b.Z)(),F=(0,P.Z)(),$=(0,S.Z)();return{add(e){var r,t,n,i,o;j=j||!(null===(r=e.campaignConfig)||void 0===r||!r.primeDayConfig)&&!(null===(t=e.campaignConfig)||void 0===t||null===(t=t.primeDayConfig)||void 0===t||!t.isPrimeDayFare),w=w||!!e.carbonFootprint&&!(null===(n=e.carbonFootprint)||void 0===n||!n.isEco),L.add(e),F.add(e),$.add(e),null===(i=e.fees)||void 0===i||i.forEach((({type:e})=>N.add(e))),null===(o=e.legs)||void 0===o||o.forEach(((r,t)=>{r.segments.forEach((r=>{const{sections:n}=r;s.add(r),O.add(t,{itinerary:e,sections:n,defaultFeeType:a}),E.add(t,r),_.add(t,r),C.add(t,r),T.add(t,r),D.add(t,r),r.sections.forEach((({vehicleModel:e})=>{R.add(t,e)}))}))}))},build(e){return 0===i.length?null:{locationsByLeg:I(o),transportTypes:s.build(),departureTimes:O.build(),connectionThresholds:E.build(),connectionDurations:_.build(),connections:C.build(),airports:T.build(),carriers:D.build(),feeTypes:N.build(),hasPrimeDayItineraries:j,hasCarbonFootprintItineraries:w,price:A.build(e),aircraftModels:R.build(),semMonths:L.build(),semWeekDays:F.build(),semDurationRange:$.build()}}}};var _=t(429726),C=t(94345),T=t(656427);const D=()=>{let e,r={price:{amount:0,currency:""},type:{id:"",name:""}};return{add(t,n){(0,C.Wv)(t,r)>0&&(r=t,e=n)},build(){return(0,T.L)(null,r,e)}}};var N=t(819238),A=t(394329),R=t(598270);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){L(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function L(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const F=(0,n.createContext)({loading:!0,error:null,extensions:null,data:null}),$=()=>(0,n.useContext)(F),M=({fees:e},r)=>{var t;return null!==(t=e.find((({type:e})=>e.id===(null==r?void 0:r.id))))&&void 0!==t?t:e[0]},x=(e,{searchRequest:r,feeType:t,isUnbundle:n=!1})=>{var i;const{data:a,extensions:o}=e;if(!a||!r)return null;const l=E(a,r,n),c=(0,_.Z)(),u=D(),{search:d}=a;let p;const m=[];d.itineraries.forEach(((e,r)=>{var n;l.add(e),c.add(M(e,t),r),u.add(M(e,t),r),e.key&&e.key===(null===(n=d.externalSelection)||void 0===n?void 0:n.id)?p=(0,s.l)(e,r,o,d.defaultFeeType):m.push((0,s.Z)(e,r,o))}));const y=c.build(),f=u.build();return w(w({},d),{},{cheapest:y,mostExpensive:f,itineraries:m,externalSelection:p,currency:null==y||null===(i=y.itinerary)||void 0===i?void 0:i.price.currency,availableFilters:l.build(f)})},k=({data:e})=>{var r,t;const n=(null==e||null===(r=e.semItinerarySearch)||void 0===r?void 0:r.itineraries.map(((e,r)=>w(w({},e),{},{id:r.toString()}))))||[];return{search:w(w({},null==e?void 0:e.semItinerarySearch),{},{__typename:"SearchResponse",searchId:0,itineraries:n,defaultFeeType:null==e||null===(t=e.semItinerarySearch)||void 0===t?void 0:t.priceTypeDisplayed})}},H=({children:e})=>{const r=(0,o.o3)(),t=(0,A.KJ)(),a=(0,i.r)({data:t.data,loading:!!t.loading,error:t.error||null,extensions:t.extensions},k,{}),[s]=(0,N.k)(),l=(0,i.r)(a,x,{searchRequest:r,feeType:s});return n.createElement(F.Provider,{value:l},e)},Z=({data:e})=>null==e?void 0:e.availableFilters,U=()=>{const e=(0,n.useContext)(F);return(0,i.r)(e,Z,{})},B=function(e){return()=>{var r;const{data:t}=(0,n.useContext)(F);return t&&(null===(r=t.availableFilters)||void 0===r?void 0:r[e])||null}},K=B("locationsByLeg"),q=e=>{const r=K();return(null==r?void 0:r[e])||null},G=B("departureTimes"),Y=B("connectionDurations"),W=B("connections"),V=B("transportTypes"),X=B("feeTypes"),z=B("price"),J=B("aircraftModels"),Q=B("semMonths"),ee=B("semWeekDays"),re=B("semDurationRange"),te=e=>{const r=Y();return r&&r[e]},ne=e=>{if(e.length<2)return 0;const r=new Date(e[0].segments[0].sections[0].departureDate),t=new Date(e[1].segments[e[1].segments.length-1].sections[0].departureDate),n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=Math.abs(n.getTime()-i.getTime());return Math.floor(a/864e5)},ie=({children:e,onSearchLoaded:r})=>{const t=(0,o.o3)(),[s]=(0,R.z)(),l=(0,a.fI)(),{data:c}=l,[u]=(0,N.k)(),d=(0,i.r)(l,x,{searchRequest:t,feeType:u,isUnbundle:s});return(0,n.useEffect)((()=>{c&&r()}),[c,r]),n.createElement(F.Provider,{value:d},e)}},161794:(e,r,t)=>{"use strict";t.d(r,{Q:()=>s});var n=t(481855),i=t(700041),a=t(963710);const o=n.P`
  query getPriceFreezeOffer($offerRequest: PriceFreezeOfferRequest!)
  @ignore_update {
    itineraryPriceFreezeOffer(offerRequest: $offerRequest) {
      available
      offer {
        id
        expirationDate
        frozenPrimePrice {
          amount
          currency
        }
        deposit {
          amount
          currency
        }
        cap {
          amount
          currency
        }
      }
      searchCriteria {
        pax {
          numAdults
          numChildren
          numInfants
        }
      }
      itinerary {
        tripType
        legs {
          segments {
            carrier {
              id
              name
            }
            duration
            sections {
              transportType
              departureDate
              arrivalDate
              departure {
                name
                cityName
                countryCode
                iata
              }
              destination {
                name
                cityName
                countryCode
                iata
              }
            }
          }
        }
      }
    }
  }
`;function s({searchId:e="",fareItineraryKey:r="",segmentKeys:t=[],lazyCondition:n=!1}){const s=(0,i.a)(o,{variables:{offerRequest:{searchId:String(e),fareItineraryKey:String(r),segmentKeys:t.map((e=>Number(`${e}`.split(",")[0])))}},skip:!l(e,r,t)||n});return(0,a.Z)(s),s}function l(e,r,t){return Number(e)>0&&Number(r)>=0&&t.map(Number).filter((e=>e>=0)).length===t.length}},904276:(e,r,t)=>{"use strict";t.d(r,{Z:()=>y,j:()=>m});var n=t(878969),i=t(877667),a=t(963710),o=t(118330);const s=(0,n.createContext)(),l=["FR","OPFR","ES","US","IT","OPIT","NL","OPNL","OPES"],c=["IT","OPIT"],u=["GOFR","FR","OPFR","NL","OPNL"],d=e=>c.includes(e),p=e=>l.includes(e),m=()=>(0,n.useContext)(s),y=({primeSitePropertySuccess:e,primeSiteProperty:r,userDataSuccess:t,dataPrimeUser:l,children:c,offers:m})=>{var y,f,g,v;const b=(0,i.W4)(),P=(0,o.Z)(),{data:S,loading:h,error:O}=P;(0,a.Z)(P);const I=e&&!h&&!O&&t,E=e&&(null==r||null===(y=r.primeSiteProperties)||void 0===y?void 0:y.isPossibleReturningPrimeVisitor),_=null!==(f=null==l?void 0:l.membershipAccountProperties.isActiveLogged)&&void 0!==f&&f,C=I&&(_||E),T=I&&(null==r||null===(g=r.primeSiteProperties)||void 0===g||null===(g=g.activePrimeMarket)||void 0===g?void 0:g.flights),D=T&&(e=>["UK","OPUK"].includes(e))(b),N=T&&(e=>["US"].includes(e))(b),A=T&&u.includes(b),R=A,j=I&&T&&!C,w=!h&&!O&&!(null==S||null===(v=S.userInfo)||void 0===v||!v.name),L=w||E,F=T&&!C,$={isPrimeUser:C,isPrimeSite:T,isUserLogged:w,isUK:D,isUS:N,isITDisplay:d(b),isPrimeTotalPriceOnCard:R,isPrimeFooter:j,isDefaultPrimeFooter:j&&!d(b),isItalyPrimeFooter:j&&d(b),isOpodoGermanyPrimeFooter:j&&"OPDE"===b,isDDPPCompliantDisplay:A,isPossibleReturningPrimeVisitor:E,isLoggedPrimeUser:_,isFencedScope:L,hasTransparentDisplay:F,isEqualProminentPrimeDisplayDefaultPrimeFooter:j&&!p(b),isEqualProminentPrimeDisplay:p(b),offers:m};return n.createElement(s.Provider,{value:$},c)}},540756:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>o,vI:()=>a});var n=t(878969);const i=(0,n.createContext)();function a(){const{isTooltipVisible:e,setIsTooltipVisible:r}=(0,n.useContext)(i);return{isTooltipVisible:e,openTooltip:()=>r(!0),closeTooltip:()=>r(!1)}}const o=({children:e})=>{const[r,t]=(0,n.useState)(!1);return n.createElement(i.Provider,{value:{isTooltipVisible:r,setIsTooltipVisible:t}},e)}},230379:(e,r,t)=>{"use strict";t.d(r,{AR:()=>I,K8:()=>O,ZP:()=>E});var n=t(878969),i=t(959649),a=t(890227),o=t(604098),s=t(318580),l=t(49136),c=t(112913),u=t(798686),d=t(919360),p=t(329316),m=t(154773),y=t(38305),f=t(484878),g=t(95119),v=t(940961),b=t(636631),P=t(632398),S=t(639331),h=t(575563);const O=()=>{const{transportTypes:e}=(0,m.mp)(),[r]=(0,l.gJ)(),[t]=(0,o.ni)(),{predicate:n}=(0,s.Vq)(),c=(0,y.t)(),u=(0,g.t)(),d=(0,b.t)(),[f]=(0,a.uS)(),{monthsSelected:v}=(0,i.px)(),{weekDaysSelected:P}=(0,p.dB)(),{durationRangeSelected:h}=(0,S.nF)();return{transportTypes:e,timeRanges:r,maxDurations:t,connectionThresholdPredicate:d,connectionsPredicate:n,airportsPredicate:c,carriersPredicate:u,priceRange:f,monthsSelected:v,weekDaysSelected:P,durationRangeSelected:h}},I=()=>{const e=(0,m.T6)(),r=(0,a.dp)(),t=(0,l.gK)(),n=(0,P.fd)(),o=(0,f.fd)(),s=(0,v.fd)(),{isSemMonThFilterApplied:c}=(0,i.px)(),{isSemWeekDaysFilterApplied:u}=(0,p.dB)(),{isSemDurationFilterApplied:d}=(0,S.nF)();return e||r||t||n||o||s||c||u||d},E=({children:e})=>n.createElement(m.ZP,null,n.createElement(a.ZP,null,n.createElement(l.ZP,null,n.createElement(c.ZP,null,n.createElement(o.ZP,null,n.createElement(s.ZP,null,n.createElement(u.ZP,null,n.createElement(d.ZP,null,n.createElement(i.ZP,null,n.createElement(p.ZP,null,n.createElement(S.ZP,null,n.createElement(h.ZP,null,e))))))))))))},150988:(e,r,t)=>{"use strict";t.d(r,{HD:()=>l,Un:()=>a,XM:()=>o,ZP:()=>c,qf:()=>s});var n=t(878969);const i=(0,n.createContext)({semItinerary:{},semItineraryPosition:0,semSearchId:0,semTrackingInfo:{returningUserDeviceId:""}}),a=()=>(0,n.useContext)(i).semItinerary,o=()=>(0,n.useContext)(i).semItineraryPosition,s=()=>(0,n.useContext)(i).semSearchId,l=()=>(0,n.useContext)(i).semTrackingInfo,c=({children:e,semItinerary:r,semItineraryPosition:t,semSearchId:a,semTrackingInfo:o})=>n.createElement(i.Provider,{value:{semItinerary:r,semItineraryPosition:t,semSearchId:a,semTrackingInfo:o}},e)},140848:(e,r,t)=>{"use strict";t.d(r,{s:()=>S,c:()=>h});var n=t(355917),i=t(771855),a=t(819238),o=t(776530),s=t(323127),l=t(597662),c=t(99849),u=t(238779),d=t(623945);function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const f=(e,r,t)=>{const{type:n="R",from:i,to:a,buyPath:o,adults:s="1",children:l="0",infants:c="0"}=r,p=e.legs.map((e=>e.segments.map((e=>e.sections)).flat().map((e=>e.flightCode)))),m=e.legs,y=(0,u.Z)(new Date(m[0].segments[0].sections[0].departureDate.split("T")[0]),"yyyy-MM-dd"),f=(0,u.Z)(new Date(m[m.length-1].segments[0].sections[0].departureDate.split("T")[0]),"yyyy-MM-dd"),g=[{flightNumbers:p[0]},..."R"===n?[{flightNumbers:p[p.length-1]}]:[]],v={iata:t[i].iataCode,geoNodeId:t[i].geoNodeId},b={iata:t[a].iataCode,geoNodeId:t[a].geoNodeId},P={date:y,departure:v,destination:b},S="R"===n?[P,{date:f,departure:b,destination:v}]:[P];return{buyPath:d.P$[o]||98,tripType:"R"===n?"ROUND_TRIP":"ONE_WAY",selectDealSegmentFlightNumbers:g,itinerarySearchRequest:{numAdults:parseInt(s,10),numChildren:parseInt(l,10),numInfants:parseInt(c,10),resident:!1,mainAirportsOnly:!1,segments:S}}};var g=t(590719);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){P(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function P(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const S=()=>{const{open:e}=(0,n.YU)()||{},r=(0,i.nL)(),t=(0,i.gx)(),{recoverSearchRequest:d}=(0,o.nP)()||{},p=(0,c.h)(),y=(0,s.h)(p),{locations:g}=(0,l.Y)()||{},{mutate:v}=(0,i.yD)()||{},P=(0,a.k)();return{showSemItineraryTrip:(n,i,a)=>{var o;const s=((e,r)=>{if(!r)return e;const t=((e,r)=>e.fees.find((({type:e})=>e.id===r)))(e,r);return b(b({},e),{},{price:null==t?void 0:t.price,feeType:null==t?void 0:t.type})})(n,null!==(o=a.feeTypeId)&&void 0!==o?o:P.id);null==d||d(((e,r,t)=>{const{type:n="R",from:i,to:a,buyPath:o,adults:s=1,children:l=0,infants:c=0,class:d="TOURIST"}=r,p=e.legs,y=(0,u.Z)(new Date(p[0].segments[0].sections[0].departureDate.split("T")[0]),"yyyy-MM-dd"),f=(0,u.Z)(new Date(p[p.length-1].segments[0].sections[0].departureDate.split("T")[0]),"yyyy-MM-dd"),g=m(m({},t[i]),{},{iata:t[i].iataCode}),v=m(m({},t[a]),{},{iata:t[a].iataCode}),b={dateStr:y,departure:g,destination:v},P="R"===n?[b,{dateStr:f,departure:v,destination:g}]:[b];return{buyPath:o||98,type:"R"===n?"roundTrip":"oneWayTrip",cabinClass:d,directFlightsOnly:!1,internalSearch:!0,creationDate:(new Date).getTime(),numAdults:s,numChildren:l,numInfants:c,priceTrend:[],resident:!1,searchSegments:P,departureDate:y,returnDate:f}})(n,y,g)),e(),r({semItinerary:s,semItineraryPosition:i}),t({returningUserDeviceId:""}),null==v||v({semItinerarySelectionRequest:f(n,y,g)})}}},h=e=>{const{trackEvent:r}=(0,g.rS)();"idle"!==e.status&&!e.loading&&e.errors&&r("request_errors","INT-003-code:precreate_shopping_cart_error")}},771855:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>W,yD:()=>K,nL:()=>q,IF:()=>G,gx:()=>Y});var n=t(878969),i=t(150988),a=t(158180),o=t(481855),s=t(972664);const l=o.P`
  fragment CarrierInfo on Carrier {
    id
    name
  }
`;var c=t(663868);const u=o.P`
  fragment Section on Section {
    id
    departureDate
    arrivalDate
    duration
    departure {
      ...SectionLocation
    }
    destination {
      ...SectionLocation
    }
    carrier {
      ...CarrierInfo
    }
    operatingCarrier {
      ...CarrierInfo
    }
    technicalStops {
      ...TechnicalStop
    }
    cabinClass
    flightCode
    departureTerminal
    arrivalTerminal
    vehicleModel
    transportType
    insuranceOffer {
      url
      id
      policy
    }
  }

  ${s.h}
  ${l}
  ${c.h}
`,d=o.P`
  fragment Segment on Segment {
    id
    duration
    carrier {
      id
      name
    }
    sections {
      ...Section
    }
    baggageCondition
    transportTypes
  }

  ${u}
`;var p=t(725398);const m=o.P`
  fragment Itinerary on Itinerary {
    id
    isFareUpgradeAvailable
    key
    hotelXSellingEnabled
    campaignConfig {
      primeDayConfig {
        isPrimeDayFare
        primeDayFareType
      }
    }
    carbonFootprint {
      isEco
      ecoPercentageThanAverage
      totalCo2Kilos
      totalCo2eKilos
    }
    meRating
    fees {
      price {
        amount
        currency
      }
      type {
        ...FeeTypeInfo
      }
    }
    ticketsLeft
    legs {
      segmentKeys
      segments {
        ...Segment
      }
    }
    transportTypes
    perks {
      primeDiscount {
        amount
        currency
      }
      extraPrimeCoupon {
        amount
        currency
      }
      primeDiscountPerPassenger {
        amount
        currency
      }
      extraPrimeCouponPerPassenger {
        amount
        currency
      }
    }
  }

  ${d}
  ${p.h}
`,y=o.P`
  mutation semItinerarySelection(
    $semItinerarySelectionRequest: SemItinerarySelectionRequest!
  ) {
    semItinerarySelection(
      semItinerarySelectionRequest: $semItinerarySelectionRequest
    ) {
      searchId
      itineraries {
        ...Itinerary
      }
    }
  }
  ${m}
`;var f=t(819238),g=t(210213),v=t(562411),b=t(590719),P=t(315522),S=t(919451),h=t(605968),O=t(301989),I=t(626567),E=t(9303);const _={recommended:"o",withBaggage:"b",fastest:"f",cheapest:"c"},C=e=>{const r=(e=>e?e.priceSortingPosition:"NA")(e),t=(e=>{var r;return e?Math.round(null===(r=e.price)||void 0===r?void 0:r.amount):"NA"})(e),n=(e=>"box:"+(_[e.highlightedType]||"0"))(e);return[`pos:${r}`,`pri:${t}`,n].join("-")},T=(e,r)=>["s",C(e),"filter:"+(r?1:0),"vp:0"],D=(e,r="",t)=>{var n,i,a,o;return[`s_pos:${t+1}`,`pri:${null===(n=e.price)||void 0===n?void 0:n.amount}`,`go:${null===(i=e.legs)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.segments)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.carrier)||void 0===i?void 0:i.id}`,null!==(a=e.legs)&&void 0!==a&&null!==(a=a[1])&&void 0!==a&&null!==(a=a.segments)&&void 0!==a&&null!==(a=a[1])&&void 0!==a&&null!==(a=a.carrier)&&void 0!==a&&a.id?`re:${null===(o=e.legs)||void 0===o||null===(o=o[1])||void 0===o||null===(o=o.segments)||void 0===o||null===(o=o[1])||void 0===o||null===(o=o.carrier)||void 0===o?void 0:o.id}`:null,"ty:"+("ONE_WAY"===r?"OW":"RT")].filter((e=>"string"==typeof e))},N=e=>{if(!e)return"so";return{down:"ch",up:"ex",equal:"eq"}[e]},A=e=>({recom:"recom",price:"cheap",duration:"fast"}[e]),R=({action:e,itinerary:r,position:t,tab:n,isFilterApplied:i})=>{var a,o;return[e,"click",`${"weekend-deals"===e?"wd":"hd"}pos:${t+1}`,"gd:"+(s=null===(a=r.dealInfo)||void 0===a?void 0:a.highlightedTypeOriginal,"recommended"===s?0:1),`pr:${N(null===(o=r.dealInfo)||void 0===o?void 0:o.trend)}`,`tab:${A(n)}`,"filt:"+(i?1:0),"pag:flres"];var s},j=(e,r)=>e.legs.map((({segments:e})=>e[0])).reduce(((e,{sections:t},n)=>{const i=t.map((({flightCode:e})=>e)).join(",");return n?`${e}${"multipleTrip"===r?`_m${n}:`:"_r:"}${i}`:`${e}${i}`}),"d:"),w=()=>{const{trackPage:e,trackEvent:r}=(0,b.rS)(),t=!1,i=(0,E.o3)(),[a]=(0,h.gQ)(),{isMobile:o}=(0,S.pn)(),s=(0,I.ZP)(),l=i?i.tripType:"",c=(0,n.useCallback)(((n,i)=>{if(o&&e("summary",{funnel:!0,customDimensions:{dimension61:j(n,l)}}),r({category:O.qu,action:"searcher_flights",label:D(n,l,i).join("-")}),r({category:O.qu,action:"rec",label:T(n,t).join("_")}),n.dealInfo){const e=s===I.BG?"weekend-deals":"hottest-deals";r({category:O.qu,action:e,label:R({action:e,itinerary:n,position:i,tab:a,isFilterApplied:t}).join("_")})}}),[e,t,r,a,o,s,l]);return{sendTracking:c}};var L=t(296444),F=t(140848);function $(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$(Object(t),!0).forEach((function(r){x(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function x(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const k=(e,r,t)=>{if(!r||!t)return"";return`inspirational_price_diff_prime:${"MEMBER_PRICE_POLICY_DISCOUNTED"===e?1:0}_ip:${r}_np:${t}`},H=(0,n.createContext)((()=>{})),Z=(0,n.createContext)((()=>{})),U=(0,n.createContext)((()=>{})),B=(0,n.createContext)(null),K=()=>(0,n.useContext)(B),q=()=>(0,n.useContext)(H),G=()=>(0,n.useContext)(Z),Y=()=>(0,n.useContext)(U),W=({children:e})=>{const[{semItinerary:r,semItineraryPosition:t},o]=(0,n.useState)({semItinerary:{},semItineraryPosition:0}),[s,l]=(0,n.useState)(0),{setCustomDimension:c}=(0,b.rS)(),[u,d]=(0,n.useState)({returningUserDeviceId:""}),[p]=(0,f.k)(),m=(0,g.$5)(),{sendTracking:S}=w(),{trackEvent:h}=(0,b.rS)(),O=(0,a.D)(y),{data:I}=O,E=(0,n.useMemo)((()=>{var e;return((e,r)=>{if(!r||!e)return e;const t=((e,r)=>e.fees.find((({type:e})=>e.id===r)))(e,r);return M(M({},e),{},{price:null==t?void 0:t.price,feeType:null==t?void 0:t.type})})(null==I||null===(e=I.semItinerarySelection)||void 0===e?void 0:e.itineraries[0],null==p?void 0:p.id)}),[I,p]),_=(0,n.useMemo)((()=>E?(0,v.Z)(E,t):null),[E,t]),C=_?M(M({},_),{},{price:r.price}):r;return(0,P.Z)(O),(0,F.c)(O),(0,n.useEffect)((()=>{var e,n;I&&_&&(c(L.SP,I.semItinerarySelection.searchId.toString()),l(I.semItinerarySelection.searchId),S(E,t),m(p.id),h({category:"flights_sum_inspirational",action:"accuracy_prices",label:k(p.id,null==r||null===(e=r.price)||void 0===e?void 0:e.amount,null==E||null===(n=E.price)||void 0===n?void 0:n.amount)}))}),[I,p,_,E,r,t,S,c,m,h]),n.createElement(H.Provider,{value:o},n.createElement(Z.Provider,{value:l},n.createElement(U.Provider,{value:d},n.createElement(B.Provider,{value:O},n.createElement(i.ZP,{semItinerary:C,semItineraryPosition:t,semSearchId:s,semTrackingInfo:u},e)))))}},597662:(e,r,t)=>{"use strict";t.d(r,{Z:()=>f,Y:()=>y});var n=t(878969),i=t(323127),a=t(700041);const o=t(481855).P`
  query getLocations($locationsRequest: GeoServiceLocationsRequest!) {
    getLocations(locationsRequest: $locationsRequest) {
      locations {
        type
        geoNodeId
        geoNodeType
        iataCode
        countryName
        countryCode
        cityName
        cityGeoNodeId
        name
        regionName
        continent {
          name
          id
        }
        coordinates {
          latitude
          longitude
        }
      }
    }
  }
`;function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const u=(e,r)=>{const{data:t,loading:i,errors:s}=((e,r)=>{const{geoNodeIds:t=[],iatas:n=[]}=e,i=!(null!=t&&t.length||null!=n&&n.length),{data:s,loading:l,errors:c}=(0,a.a)(o,{variables:{locationsRequest:{geoNodeIds:t,iatas:n}},skip:i||!!r});return{data:s,loading:l||i,errors:c}})(e,r);return(0,n.useMemo)((()=>{var r;return i||s||!t?{}:((e,r)=>e.reduce(((e,t)=>{const n=null!=t&&t.iataCode?t.iataCode:"",i=null!=t&&t.geoNodeId?t.geoNodeId:-1;return null!=r&&r.geoNodeIds.includes(i)&&(e[i.toString()]=l({},t)),null!=r&&r.iatas.includes(n)&&(e[n]=l({},t)),e}),{}))(null==t||null===(r=t.getLocations)||void 0===r?void 0:r.locations,e)}),[t,i,s,e])},d=e=>{const r=Object.keys(e).length;return(0,n.useMemo)((()=>r?(e=>{const r=[],t=[];return Object.keys(e).filter((e=>/from|to/.test(e))).forEach((n=>{"iatas"==("number"!=typeof e[n]&&isNaN(e[n])?"iatas":"geoNodeIds")?t.push(e[n]):r.push(parseInt(e[n]))})),{geoNodeIds:r,iatas:t}})(e):{geoNodeIds:[],iatas:[]}),[e,r])};var p=t(99849);const m=(0,n.createContext)({locations:{}}),y=()=>(0,n.useContext)(m),f=({children:e})=>{const r=(0,p.h)(),t=(0,i.h)(r),a=d(t),o=u(a,!window.location.href.includes("bestprices"));return n.createElement(m.Provider,{value:{locations:o}},e)}},394329:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>O,m2:()=>h,KJ:()=>S});var n=t(878969),i=t(700041),a=t(315522),o=t(481855),s=t(725398),l=t(972664);const c=o.P`
  fragment SemSection on SemSection {
    arrivalDate
    departureDate
    duration
    departure {
      ...SectionLocation
    }
    destination {
      ...SectionLocation
    }
    carrier {
      id
      name
    }
    flightCode
    transportType
  }

  ${l.h}
`,u=o.P`
  fragment SemItineraryFragment on SemItinerary {
    fees {
      type {
        ...FeeTypeInfo
      }
      price {
        ... on Money {
          amount
          currency
        }
      }
    }
    ticketsLeft
    legs {
      segments {
        baggageCondition
        carrier {
          id
          name
        }
        duration
        sections {
          ...SemSection
        }
        transportTypes
      }
    }
    transportTypes
  }
  ${s.h}
  ${c}
`,d=o.P`
  query semItinerarySearch(
    $semItinerariesSearchRequest: SemItinerariesSearchRequest!
  ) {
    semItinerarySearch(
      semItinerariesSearchRequest: $semItinerariesSearchRequest
    ) {
      priceTypeDisplayed {
        id
        name
      }
      itineraries {
        ...SemItineraryFragment
      }
    }
  }
  ${u}
`;var p=t(590719);var m=t(229841),y=t(313213);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const b={loading:!0,data:null,error:null},P=(0,n.createContext)(b),S=()=>(0,n.useContext)(P),h=()=>{var e;const{errors:r,loading:t,data:n}=S();return r||t?null:(null==n||null===(e=n.semItinerarySearch)||void 0===e?void 0:e.priceTypeDisplayed)||null},O=({children:e})=>{const r=(0,y.v)(),t=(0,i.a)(d,{variables:{semItinerariesSearchRequest:r},skip:!window.location.href.includes("bestprices")||!r}),o=t.loading||!window.location.href.includes("bestprices")||!r,s=(l=t,c=o,(0,n.useMemo)((()=>g(g({},l),{},{error:l.errors||l.error,loading:c,data:c?null:l.data})),[l,c]));var l,c;return(0,m.rG)(t),(0,a.Z)(t),(e=>{var r;const{trackEvent:t}=(0,p.rS)(),n=((null===(r=e.data)||void 0===r||null===(r=r.semItinerarySearch)||void 0===r||null===(r=r.itineraries)||void 0===r?void 0:r.length)||0)>0;!e.loading&&e.errors?t("request_errors","error:WNG-024-code:no_itineraries_results"):"idle"===e.status||e.loading||e.errors||n||t("searcher_flights_error","no_results_for_this_search_error")})(t),n.createElement(P.Provider,{value:s},e)}},99849:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s,h:()=>o});var n=t(878969),i=t(323127);const a=(0,n.createContext)(null),o=()=>(0,n.useContext)(a),s=({children:e})=>{const r=(0,i.H)(),[t,o]=(0,n.useState)(r);return(0,n.useEffect)((()=>{o(r)}),[r]),n.createElement(a.Provider,{value:t},e)}},313213:(e,r,t)=>{"use strict";t.d(r,{Z:()=>T,v:()=>C});var n=t(878969);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const s={O:"ONE_WAY",R:"ROUND_TRIP"},l=e=>({departure:{geoNodeId:e.departure.geoNodeId,iata:e.departure.iata},destination:{geoNodeId:e.destination.geoNodeId,iata:e.destination.iata}}),c=e=>a(a({},e),{},{geoNodeType:e.geoNodeType||void 0,countryCode:e.countryCode||void 0,continent:e.continent||void 0,coordinates:e.coordinates||void 0,country:e.countryName||void 0,city:e.cityName||void 0,geoNodeId:e.cityGeoNodeId||void 0,iata:e.iataCode||void 0,cityIata:e.iataCode||void 0,cityName:e.cityName||void 0});var u=t(323127),d=t(597662),p=t(9303),m=t(99849),y=t(971897);const f="flight_arrival_city_code",g="flight_arrival_city_name",v="flight_arrival_country_code",b="flight_arrival_country_name",P="flight_departure_city_code",S="flight_departure_city_name",h="flight_departure_country_code",O="flight_departure_country_name",I="flight_category",E=()=>{const e=(0,m.h)(),{type:r="R",from:t,to:n}=(0,u.h)(e),{locations:i}=(0,d.Y)(),{save:a}=(0,y.n)(),o=t?i[t]:null,s=n?i[n]:null;i&&o&&s&&a((({flightCategory:e,flightDepartureCityCode:r,flightDepartureCityName:t,flightDepartureCountryCode:n,flightDepartureCountryName:i,flightArrivalCityCode:a,flightArrivalCityName:o,flightArrivalCountryCode:s,flightArrivalCountryName:l})=>({[f]:a,[g]:o,[v]:s,[b]:l,[P]:r,[S]:t,[h]:n,[O]:i,[I]:e}))({flightCategory:"O"===r?"one way":"round trip",flightDepartureCityCode:o.iataCode,flightDepartureCityName:o.cityName,flightDepartureCountryCode:o.countryCode,flightDepartureCountryName:o.countryName,flightArrivalCityCode:s.iataCode,flightArrivalCityName:s.cityName,flightArrivalCountryCode:s.countryCode,flightArrivalCountryName:s.countryName}))};var _=t(229841);const C=()=>{const e=(0,p.o3)();return e?null!=(null==(r=e)?void 0:r.itinerary)&&null!=(null==r?void 0:r.tripType)?{tripType:r.tripType,itinerary:{segments:r.itinerary.segments.map(l)}}:null:null;var r},T=({children:e})=>{const{startSearch:r}=(0,_.aZ)(),t=(0,m.h)(),i=(0,u.h)(t),{type:a="R",from:o,to:l,adults:y,children:f,infants:g}=i,{locations:v}=(0,d.Y)(),b=o?v[o]:null,P=l?v[l]:null,S=(0,n.useMemo)((()=>{if(b&&P){return(e=>({buyPath:98,tripType:s[e.tripType],itinerary:{numAdults:e.adults||1,numChildren:e.children||0,numInfants:e.infants||0,cabinClass:"TOURIST",mainAirportsOnly:!1,segments:[{date:"",departure:c(e.from),destination:c(e.to)},{date:"",departure:c(e.to),destination:c(e.from)}]}}))({tripType:a,from:b,to:P,adults:y?parseInt(y):void 0,children:f?parseInt(f):void 0,infants:g?parseInt(g):void 0})}}),[b,P,a,y,f,g]);return(0,n.useEffect)((()=>{b&&P&&r()}),[b,P,r]),E(),n.createElement(p.nS.Provider,{value:S||null},e)}},605968:(e,r,t)=>{"use strict";t.d(r,{E_:()=>c,SM:()=>f,ZP:()=>v,gQ:()=>p,yI:()=>g});var n=t(878969),i=t(770865),a=t(590719);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const c={cheapest:"price",date:"date"},u=c.cheapest,d=(0,n.createContext)([u,()=>u]),p=()=>(0,n.useContext)(d),m={cheapest:(e,r)=>e.price.amount-r.price.amount,date:(e,r)=>new Date(e.legs[0].segments[0].departureDate).valueOf()-new Date(r.legs[0].segments[0].departureDate).valueOf()},y=(0,n.createContext)({loading:!0,error:null,data:{}}),f=()=>(0,n.useContext)(y),g=({children:e})=>{const[r]=p(),{trackEvent:t}=(0,a.rS)(),o=(0,i.gH)(),{loading:l,error:c,data:u}=o,d=((e,r)=>{const[t,i]=(0,n.useState)({}),a=t[e],o=null==r?void 0:r.itineraries,l=o&&(a||[...o].sort(m[e]));return(0,n.useEffect)((()=>{i({})}),[r,i]),(0,n.useEffect)((()=>{l&&!a&&i(s(s({},t),{},{[e]:l}))}),[i,t,e,l,a]),l})(r,u),[f,g]=(0,n.useState)(!0),v=(0,n.useMemo)((()=>l||c||!d?{loading:l||!d,error:c,data:null}:{loading:!1,error:null,data:s(s({},u),{},{itineraries:d})}),[l,c,u,d]);return(0,n.useEffect)((()=>{(null==d?void 0:d.length)>0&&f&&(t("results_filters",`sort_default_${r}`),g(!1))}),[d]),n.createElement(y.Provider,{value:v},e)},v=({children:e})=>{const[r,t]=(0,n.useState)(u),i=(0,n.useMemo)((()=>[r,t]),[r,t]);return n.createElement(d.Provider,{value:i},e)}},259121:(e,r,t)=>{"use strict";t.d(r,{Z:()=>E});var n=t(878969),i=t(301989),a=t(597662),o=t(605968),s=t(819238),l=t(313213),c=t(872064),u=t(394329),d=t(770865),p=t(355917),m=t(230379),y=t(833913),f=t(63963),g=t(428672),v=t(16961),b=t(771855),P=t(99849),S=t(229841),h=t(245051);const O=()=>{},I={continueToPassangers:O,continueWithHotel:O,recoverSearchRequest:O},E=({onFeeTypeChange:e=O,itinerarySelectionActions:r=I,endSemSearchMetric:t=O,itineraryFromUrl:E,children:_})=>n.createElement(i.ZH,null,n.createElement(S.ZP,{endSearchMetric:t},n.createElement(P.Z,null,n.createElement(a.Z,null,n.createElement(s.Z,{onChange:e},n.createElement(l.Z,null,n.createElement(u.ZP,null,n.createElement(c.Ux,null,n.createElement(d.ZP,null,n.createElement(m.ZP,null,n.createElement(o.ZP,null,n.createElement(o.yI,null,n.createElement(v.zH,null,n.createElement(g.pB,null,n.createElement(p.ZP,null,n.createElement(y.b,{actions:r},n.createElement(f.Z,{itineraryFromUrl:E},n.createElement(b.ZP,null,n.createElement(h.ZP,null,_)))))))))))))))))))},9303:(e,r,t)=>{"use strict";t.d(r,{A3:()=>p,US:()=>v,ZP:()=>u,Zt:()=>g,_1:()=>l,bp:()=>f,mx:()=>b,nS:()=>c,o3:()=>d,v4:()=>y,zt:()=>m});var n=t(878969),i=t(623945),a=t(229841),o=t(721138),s=t(261678);const l="bookingError",c=(0,n.createContext)(null),u=({listenSearchRequestChanges:e,stopListenSearchRequestChanges:r,children:t})=>{const{startSearch:u,endSearch:d}=(0,a.aZ)(),[p,m]=(0,n.useState)(null),[y]=(0,s.u5)(l),{start:f}=(0,o.ps)();(0,n.useEffect)((()=>(e((e=>{m(e),f(),u()})),()=>{null==r||r(),d()})),[e,r,u,d,f]);const g=(0,n.useMemo)((()=>p?(0,i.mf)(p,y):null),[p,y]);return n.createElement(c.Provider,{value:g},t)},d=()=>(0,n.useContext)(c),p=()=>{const e=d();return e?(0,i.G2)(e):null},m=()=>{const e=d();return e?(0,i.UX)(e):null},y=e=>{const{itinerary:r}=d()||{},{segments:t=[]}=r||{};return t[e]||null},f=()=>{const{itinerary:e}=d()||{},{numAdults:r=0,numChildren:t=0,numInfants:n=0}=e||{};return r+t+n},g=()=>{const{itinerary:{resident:e}}=d()||{itinerary:{resident:!1}};return e},v=()=>{const{itinerary:e}=d()||{},{numChildren:r=0,numInfants:t=0}=e||{};return r+t},b=()=>{const{trainSearch:e}=d()||{trainSearch:!1};return e}},623945:(e,r,t)=>{"use strict";t.d(r,{G2:()=>c,P$:()=>p,UX:()=>d,l3:()=>m,mf:()=>v});const n=["buyPath","cabinClass","resident","mainAirportsOnly","trainSearch","numAdults","numChildren","numInfants","type","externalSelectionRequest","directFlightsOnly","airlinesCodes","searchSegments"];function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function o(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const s=({date:e,departure:r,destination:t})=>({date:e,departure:{iata:r.iata,geoNodeId:r.geoNodeId},destination:{iata:t.iata,geoNodeId:t.geoNodeId}}),l=e=>{const{resident:r,mainAirportsOnly:t}=e;return a(a({},u(e)),{},{resident:r,mainAirportsOnly:t})},c=({buyPath:e,tripType:r,itinerary:t})=>({buyPath:e,tripType:r,itinerary:l(t)}),u=({numAdults:e,numChildren:r,numInfants:t,cabinClass:n,externalSelection:i,segments:a,excludeCarriers:o})=>({numAdults:e,numChildren:r,numInfants:t,cabinClass:n,externalSelection:i,segments:a.map(s),excludeCarriers:o||!1}),d=({buyPath:e,tripType:r,itinerary:t})=>({buyPath:e,tripType:r,itinerary:u(t)}),p={UNKNOWN:70,FLIGHTS_HOME_SEARCH_FORM:71,FLIGHTS_HOME_RECENT_SEARCHES:72,FLIGHTS_RESULTS_SEARCH_FORM:73,FLIGHTS_DIRECT_URL:74,FLIGHTS_EXPIRED_SEARCH_POPUP:75,FLIGHTS_EXPIRED_SESSION_POPUP:76,CONFIRMATION_REJECTED:77,BOOKING_ERROR:78,WEEKEND_DEALS:80,CALENDAR_SEARCH_FLEXIBLE_DATES:81,INSPIRATIONAL_SEARCH:82,HOTTEST_DEALS:83,PASSENGER_PAGE_SEARCH:84,INSPIRATIONAL_DEALS_PAGE:86,EDIT_INSPIRATIONAL_SEARCH:87,SEM_RESULTS:98,FLIGHTS_HOME_SEARCH_FORM_MICROSITE:99,FLIGHTS_HOME_FLIGHTS_TAB:5200,FLIGHTS_HOME_DYNPACK_TAB:5201,DYNPACK_MOBILE_HOME:5205,DYNPACK_MOBILE_FLIGHTS_TAB:5208,DYNPACK_MOBILE_RESULTS_CHANGE_SEARCH:5209,DYNPACK_MOBILE_ACCOMMODATION_CHANGE_SEARCH:5210,DYNPACK_MOBILE_BOOKING_CHANGE_SEARCH:5211,DYNPACK_HOME_FLIGHTS_TAB:5202,DYNPACK_HOME_DYNPACK_TAB:5203,DYNPACK_RESULTS_SEARCH_FORM:5204,DYNPACK_RESULTS_ACCOMMODATION_SEARCH_FORM:5212,DYNPACK_RESULTS_FLIGHTS_SEARCH_FORM:5213,DYNPACK_ROOM_SELECTION_SEARCH_FORM:5207,DYNPACK_DIRECT_URL:5220,DYNPACK_EXPIRED_ROOMSELECTION_POPUP:5231,DYNPACK_EXPIRED_SEARCH_POPUP:5230,RESERVED_4:79,UPSELL_DYNPACK_EMERGING_LAYER_REDIRECTION:5004,INTERMEDIATE_PAGE_FLIGHTS_SEARCH:5007,INTERMEDIATE_PAGE_DYNPACK_SEARCH:5008,DYNPACK_HOME_DYNPACK_TAB_MICROSITE:5513,POST_BOOKING_ACCOMMODATION:5050,KO_EMAIL_SAME_SEARCH:154,TRANSACTIONAL_EMAILS:155,BIM_NOTIFICATIONS_REBOOK_F:6e3,BIM_NOTIFICATIONS_REBOOK_DP:6001,SSLP_AIRLINES_INDEX:1e3,SSLP_AIRLINE_CITY_PAIRS:1001,SSLP_AIRLINES:1002,SSLP_CITY_PAIRS:1003,SSLP_COUNTRIES:1004,SSLP_DYNPACK_DESTINATIONS:1005,SSLP_FLIGHT_DESTINATIONS:1006,SSLP_GENERIC:1007,SSLP_INTERNATIONAL:1008,SSLP_HOTELS:1009,SSLP_CITY:1010,SSLP_CARS_INTERNATIONAL:1011,SSLP_CARS_COUNTRIES:1012,SSLP_CARS_DESTINATIONS:1013,SSLP_CARS_HOME:1014,SSLP_SEARCHER:1015,SSLP_CITY_COUNTRY:1016,SSLP_CITY_STATE:1017,SSLP_TRAINS_DESTINATION:1018,SSLP_TRAINS_CITY_PAIRS:1019,SSLP_TRAINS:1020,SSLP_TRAIN_CARRIER:7278,SSLP_SEARCHEXTENSION:7276,SSLP_HOTELS_PROPERTIES:7254,HSA_FLIGHT_CONFIRMATION:7255,HSA_RESULTS_SEARCH_FORM:7204,HSA_PB_SEARCHEXTENSION:7225,HOME_HSA_TAB:7201,HSA_PB_POPUNDER:7224,HSA_HOME:7202,HSA_ROOM_SELECTION_SEARCH_FORM:7207,HSA_DIRECT_URL:7220,HSA_HOME_DEALS:7237,HSA_PB_YOURJOURNEY:7230,HSA_CRM:7238,HSA_LANDING_WMP:7239,HSA_MAP:7242,HSA_NATIVE_SEARCH_FORM:7240,HSA_PB_EMERGINGLAYER:7221,HSA_PB_GIFT:7231,HSA_PB_MOBILE_DEALS:7259,HSA_ROOM_SHARE:7241},m=e=>(e=>/\d+/.test(e))(e)?parseInt(e,10):p[e]||p.UNKNOWN,y={oneWayTrip:"ONE_WAY",roundTrip:"ROUND_TRIP",multipleTrip:"MULTIPLE_DESTINATIONS"},f=e=>a(a({},e),{},{type:"IATA_CODE"===e.type&&e.geoNodeType?e.geoNodeType:e.type,cityName:e.city,cityIata:e.iata}),g=e=>({date:e.dateStr,departure:f(e.departure),destination:f(e.destination)}),v=(e,r=!1)=>{let{buyPath:t,cabinClass:i="TOURIST",resident:o=!1,mainAirportsOnly:s=!1,trainSearch:l=!1,numAdults:c=1,numChildren:u=0,numInfants:d=0,type:p,externalSelectionRequest:f,directFlightsOnly:v,airlinesCodes:b,searchSegments:P}=e,S=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,n);return a({buyPath:m(t),tripType:y[p],withoutConnections:v,trainSearch:l,airlineCodes:b,itinerary:{numAdults:c,numChildren:u,numInfants:d,cabinClass:i,resident:o,mainAirportsOnly:s,externalSelection:(h=f,null!=h&&h.searchId?h:null),segments:P.map(g),excludeCarriers:r}},S);var h}},598270:(e,r,t)=>{"use strict";t.d(r,{Z:()=>U,z:()=>Z});var n=t(878969),i=t(700041),a=t(9303),o=t(481855),s=t(781850);const l=o.P`
  fragment SearchItineraryFragment on SearchItineraryResult {
    isFareUpgradeAvailable
    key
    hotelXSellingEnabled
    meRating
    fees {
      price {
        amount
        currency
      }
      type
    }
    ticketsLeft
    legs {
      segmentKey
      segmentId
    }
    transportTypes
    carbonFootprintId
    campaignConfigId
    perks {
      primeDiscount {
        amount
        currency
      }
      extraPrimeCoupon {
        amount
        currency
      }
      primeDiscountPerPassenger {
        amount
        currency
      }
      extraPrimeCouponPerPassenger {
        amount
        currency
      }
      alternativeItineraryDiscount {
        amount
        currency
      }
      alternativeItineraryDiscountPerPassenger {
        amount
        currency
      }
    }
  }
`;var c=t(663868);const u=o.P`
  fragment SearchItinerarySectionFragment on SearchItineraryResultSection {
    id
    departureDate
    arrivalDate
    duration
    departureId
    destinationId
    carrierId
    operatingCarrierId
    commercialBrandId
    technicalStops {
      ...TechnicalStop
    }
    cabinClass
    flightCode
    departureTerminal
    arrivalTerminal
    vehicleModel
    transportType
    insuranceOfferId
  }

  ${c.h}
`,d=o.P`
  query searchItinerary($searchItineraryRequest: SearchItineraryRequest!) {
    searchItinerary(searchItineraryRequest: $searchItineraryRequest) {
      searchId
      searchCode {
        code
        message
      }
      priceTypeDisplayed
      itineraries {
        ...SearchItineraryFragment
      }
      segments {
        id
        segment {
          id
          duration
          carrierId
          sections
          baggageCondition
          transportTypes
          ticketsLeft
        }
      }
      sections {
        id
        section {
          ...SearchItinerarySectionFragment
        }
      }
      externalSelection {
        id
        segmentKeys
      }
      campaignsItineraryLists {
        campaignItineraryIds
        campaignKey
      }
      freeCancellationItineraryIds
      locations {
        id
        location {
          id
          iata
          cityIata
          cityName
          name
          countryName
          locationType
        }
      }
      carriers {
        id
        carrier {
          id
          name
          supportUrl
        }
      }
      insuranceOffers {
        id
        insuranceOffer {
          id
          url
          policy
        }
      }
      carbonFootprints {
        id
        carbonFootprint {
          isEco
          ecoPercentageThanAverage
          totalCo2Kilos
          totalCo2eKilos
        }
      }
      campaignConfigs {
        id
        campaignConfig {
          primeDayConfig {
            isPrimeDayFare
            primeDayFareType
          }
        }
      }
      trackingInfo {
        returningUserDeviceId
        airlinePositionTracking {
          ...AirlineTrackingInfo
        }
        airlineSteeringTracking {
          ...AirlineTrackingInfo
        }
      }
      unbundledMapping {
        bestMeRating
        cheapestFees {
          price {
            amount
            currency
          }
          type
        }
        compatibleInboundSegments {
          inboundSegmentId
          itineraryKey
        }
        outboundSegmentId
      }
    }
  }

  ${s.h}
  ${l}
  ${u}
`;var p=t(517042),m=t(974783),y=t(229841),f=t(573294),g=t(315522),v=t(651013),b=t(417050),P=t(463606),S=t(323127),h=t(277424),O=t(515065);const I=["insuranceOffers","carbonFootprints","campaignConfigs","locations","carriers","priceTypeDisplayed","sections","segments"],E=["campaignConfigId","carbonFootprintId"],_=["departureId","destinationId","carrierId","operatingCarrierId","commercialBrandId","insuranceOfferId"];function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){D(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function D(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function N(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const A=({data:e,hasCommercialCarriers:r=!1})=>{const{searchItinerary:t}=e||{};if(!t)return null;const{insuranceOffers:n,carbonFootprints:i,campaignConfigs:a,locations:o,carriers:s,priceTypeDisplayed:l,sections:c,segments:u}=t,d=N(t,I),p=T(T({},t),{},{locations:(0,O.xn)(o,"location"),carriers:(0,O.xn)(s,"carrier"),insuranceOffers:(0,O.xn)(n,"insuranceOffer"),carbonFootprints:(0,O.xn)(i,"carbonFootprint"),campaignConfigs:(0,O.xn)(a,"campaignConfig"),sections:(0,O.xn)(c,"section"),segments:(0,O.xn)(u,"segment")});return{search:T(T({},d),{},{__typename:"SearchResponse",defaultFeeType:{id:l},itineraries:null==t?void 0:t.itineraries.map((e=>{var t;const{campaignConfigId:n,carbonFootprintId:i}=e,a=N(e,E);return T(T({},a),{},{id:e.key,__typename:"Itinerary",fees:a.fees.map((e=>({price:e.price,type:{id:e.type}}))),campaignConfig:p.campaignConfigs[n],carbonFootprint:p.carbonFootprints[i],legs:null===(t=e.legs)||void 0===t?void 0:t.map((e=>{const t=p.segments[e.segmentId];let n;return T(T({},e),{},{__typename:"Leg",segmentKeys:[0],segments:[T(T({},t),{},{__typename:"Segment",carrier:p.carriers[(0,O.ux)(r,t.carrierId,n)],sections:t.sections.map((e=>{const t=p.sections[e],{departureId:i,destinationId:a,carrierId:o,operatingCarrierId:s,commercialBrandId:l,insuranceOfferId:c}=t,u=N(t,_);return n=l,T(T({},u),{},{__typename:"Section",insuranceOffer:null!=c?p.insuranceOffers[c]:null,departure:p.locations[i],destination:p.locations[a],carrier:p.carriers[(0,O.ux)(r,o,l)],operatingCarrier:p.carriers[s],commercialBrand:p.carriers[l]})}))})]})}))})}))})}};var R=t(122501);const j=["departureId","destinationId","carrierId","operatingCarrierId","commercialBrandId","insuranceOfferId"];function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){F(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function F(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const $=({data:e,hasCommercialCarriers:r=!1},{selectedDepartureId:t})=>{const{searchItinerary:n}=e||{};if(!n)return null;const{insuranceOffers:i,carbonFootprints:a,campaignConfigs:o,locations:s,carriers:l,priceTypeDisplayed:c,sections:u,segments:d}=n,p=L(L({},n),{},{locations:(0,O.xn)(s,"location"),carriers:(0,O.xn)(l,"carrier"),insuranceOffers:(0,O.xn)(i,"insuranceOffer"),carbonFootprints:(0,O.xn)(a,"carbonFootprint"),campaignConfigs:(0,O.xn)(o,"campaignConfig"),sections:(0,O.xn)(u,"section"),segments:(0,O.xn)(d,"segment")}),m=e=>{const t=e.sections.reduce(((e,r)=>r.commercialBrandSegment));return L(L({},e),{},{__typename:"Segment",sections:e.sections.map((e=>{const t=p.sections[e],{departureId:n,destinationId:i,carrierId:a,operatingCarrierId:o,commercialBrandId:s,insuranceOfferId:l}=t;return L(L({},function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(t,j)),{},{__typename:"Section",insuranceOffer:null!=l?p.insuranceOffers[l]:null,departure:p.locations[n],destination:p.locations[i],carrier:p.carriers[(0,O.ux)(r,a,s)],operatingCarrier:p.carriers[o],commercialBrand:p.carriers[s]})})),carrier:p.carriers[(0,O.ux)(r,e.carrierId,t)]})};return{search:{__typename:"SearchResponse",trackingInfo:n.trackingInfo,searchId:n.searchId,defaultFeeType:{id:c},itineraries:t?n.unbundledMapping[t].compatibleInboundSegments.map(((e,r)=>{const t=n.itineraries[e.itineraryKey],i=p.segments[e.inboundSegmentId];return{__typename:"Itinerary",key:e.itineraryKey,id:r.toString(),isFareUpgradeAvailable:!1,hotelXSellingEnabled:!1,campaignConfig:null,carbonFootprint:null,ticketsLeft:i.ticketsLeft,transportTypes:i.transportTypes,meRating:t.meRating,fees:t.fees.map((e=>({price:e.price,type:{id:e.type}}))),legs:[{segmentKeys:[0],segments:[m(i)]}]}})):null==n?void 0:n.unbundledMapping.map(((e,r)=>{const t=p.segments[e.outboundSegmentId];return{__typename:"Itinerary",key:r.toString(),id:r.toString(),isFareUpgradeAvailable:!1,hotelXSellingEnabled:!1,campaignConfig:null,carbonFootprint:null,ticketsLeft:t.ticketsLeft,fees:e.cheapestFees.map((e=>({price:e.price,type:{id:e.type}}))),transportTypes:t.transportTypes,meRating:e.bestMeRating,legs:[{__typename:"Leg",segmentKeys:[0],segments:[m(t)]}]}}))}}};var M=t(817557);function x(){return x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},x.apply(null,arguments)}const k=(0,n.createContext)([!1,()=>{}]),H=({onNoSearchResults:e,onSearchParamsError:r,children:t,onLoadingResultsPage:o,hasCommercialCarriers:s=!1,isUnbundleEnabled:l=!1})=>{var c;const u=(0,a.zt)(),v=(0,S.H)(),O=(0,n.useState)(!1),I=(0,f.UR)(),E=(0,M.lJ)(),[_,C]=O,{alternativeMutationLaunched:T,alternativeSearchId:D,alternativeItineraries:N}=(0,P.b)(),R=v&&!(v.includes("#results")||v.includes("#/results")),j=null===u||T||null!==D||!!R;(0,p.sc)(j,u,T,D,R);const w=(0,i.a)(d,{variables:{searchItineraryRequest:u},skip:j,notifyOnBackgroundFetching:!0});(0,g.Z)(w);const L=(null===(c=w.data)||void 0===c||null===(c=c.searchItinerary)||void 0===c?void 0:c.itineraries)||[],F=(0,h.x4)(L,N);w.data&&(w.data.searchItinerary.itineraries=F),(0,n.useEffect)((()=>{C(l&&"ROUND_TRIP"===(null==u?void 0:u.tripType)&&"mobile"===I)}),[C,l,u,I]);const x=(0,b.r)({loading:w.loading||w.fetching,error:w.errors,data:w.data,extensions:w.extensions,hasCommercialCarriers:s},_?$:A,{selectedDepartureId:E}),{loading:H,data:Z,error:U}=x,B=H||null===u||w.fetching||!U&&null===w.data,K=null==x?void 0:x.extensions;(0,y.rG)(w),(0,p.lm)(Z,B,w.errors),(0,p.Fv)(Z),(0,p.Q7)(B,o);const q=n.useMemo((()=>({loading:B,data:B?null:Z,error:U,extensions:K})),[B,Z,U,K]),G={onNoSearchResults:e,onSearchParamsError:r};return n.createElement(n.Fragment,null,n.createElement(m.Z,{errors:w.errors,id:"SearchResponseProvider"}),n.createElement(h.s8.Provider,{value:q},n.createElement(h.ic.Provider,{value:G},n.createElement(k.Provider,{value:O},t))))},Z=()=>(0,n.useContext)(k),U=(0,v.T)({name:R.As,variations:[e=>n.createElement(H,e),e=>n.createElement(H,x({},e,{isUnbundleEnabled:!0})),e=>n.createElement(H,x({},e,{isUnbundleEnabled:!0}))],LoadingComponent:()=>null,version:1})},517042:(e,r,t)=>{"use strict";t.d(r,{Fv:()=>d,Q7:()=>p,l_:()=>f,lm:()=>u,sc:()=>g});var n=t(878969),i=t(590719),a=t(116072),o=t(470819);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const u=(e,r,t)=>{var a,o;const{trackEvent:s}=(0,i.rS)(),l=((null==e||null===(a=e.search)||void 0===a?void 0:a.itineraries.length)||0)>0,c=null==e||null===(o=e.search)||void 0===o?void 0:o.searchCode;(0,n.useEffect)((()=>{if(!r&&t){var e;const[r]=null!=t?t:[];if("ERR-01"===(null==r||null===(e=r.extensions)||void 0===e?void 0:e.code))s("request_errors","broken_flow_message"),s("request_errors","error:error.validate.segment.currDateLess-code:validation_error");else null!=r&&r.message&&s("request_errors",`error:${r.message}`)}else if(!r&&!t&&!l){s("searcher_flights_error","no_results_for_this_search_error");const{code:e}=null!=c?c:{};"WNG-024"===e&&s("request_errors",`error:${e}-code:no_itineraries_results`)}}),[r,t,l,s,c])},d=e=>{var r;const{setTransactionSearchId:t}=(0,a.sc)(),i=null==e||null===(r=e.search)||void 0===r?void 0:r.searchId;(0,n.useEffect)((()=>{i&&t(i)}),[t,i])},p=(e,r)=>{(0,n.useEffect)((()=>{e&&r()}),[e,r])},m={loading:!1,error:null,data:null},y=l(l({},m),{},{loading:!0}),f=(e,r,t,i)=>{var a,o;const s=((e,r)=>{const[t,i]=(0,n.useState)(m);return(0,n.useEffect)((()=>{e&&e.itinerarySearch.externalSelection&&(i(y),r(e).then((e=>{i({loading:!1,data:e,error:null})})).catch((e=>{i({loading:!1,data:null,error:e})})))}),[r,e]),t})(i,e),l=!(null==t||null===(a=t.itinerary)||void 0===a||null===(a=a.externalSelection)||void 0===a||!a.searchId)||s.loading||!(null===(o=s.data)||void 0===o||!o.redirect);return(0,n.useEffect)((()=>{var e;i&&null!=t&&null!==(e=t.itinerary)&&void 0!==e&&e.externalSelection&&!i.itinerarySearch.externalSelection&&r()}),[i,r,t]),{loading:l}},g=(e,r,t,i,a)=>{const s=(0,o.wL)();(0,n.useEffect)((()=>{if(e&&s){const e=()=>{let e="";return null===r&&(e+="-search_request_is_null"),t&&(e+="-alternative_search_launched"),null!==i&&(e+="-alternative_search_active"),a&&(e+="-is_not_allowed_url"),e};s.warn("SKIP_SEARCH_QUERY_reason"+e())}}),[s,e,r,t,i,a])}},277424:(e,r,t)=>{"use strict";t.d(r,{ic:()=>N,s8:()=>D,ZP:()=>U,x4:()=>T,hH:()=>j,hS:()=>M,XV:()=>$,f9:()=>L,oL:()=>R,fI:()=>A,vC:()=>w});var n=t(878969),i=t(9303),a=t(651013),o=t(919451),s=t(700041),l=t(481855),c=t(397196),u=t(781850);const d=l.P`
  query itinerarySearch($searchRequest: SearchRequest!) {
    itinerarySearch(searchRequest: $searchRequest) {
      searchId
      searchCode {
        code
        message
      }
      priceTypeDisplayed
      itineraries {
        ...ItinerarySearchItineraryFragment
      }
      externalSelection {
        id
        segmentKeys
      }
      campaignsItineraryLists {
        campaignItineraryIds
        campaignKey
      }
      freeCancellationItineraryIds
      fees {
        id
        type {
          id
          name
          paymentMethod
        }
      }
      locations {
        id
        location {
          id
          iata
          cityIata
          cityName
          name
          countryName
          locationType
        }
      }
      carriers {
        id
        carrier {
          id
          name
          supportUrl
        }
      }
      insuranceOffers {
        id
        insuranceOffer {
          id
          url
          policy
        }
      }
      carbonFootprints {
        id
        carbonFootprint {
          isEco
          ecoPercentageThanAverage
          totalCo2Kilos
          totalCo2eKilos
        }
      }
      campaignConfigs {
        id
        campaignConfig {
          primeDayConfig {
            isPrimeDayFare
            primeDayFareType
          }
        }
      }
      trackingInfo {
        returningUserDeviceId
        airlinePositionTracking {
          ...AirlineTrackingInfo
        }
        airlineSteeringTracking {
          ...AirlineTrackingInfo
        }
      }
    }
  }
  ${u.h}
  ${c.v}
`;var p=t(517042),m=t(974783),y=t(229841),f=t(315522),g=t(417050),v=t(515065),b=t(463606),P=t(323127);const S=({onNoSearchResults:e,onSearchParamsError:r,children:t,onCreateMapiShoppingCart:a,onSearchMapiError:o,onLoadingResultsPage:l,hasCommercialCarriers:c=!1})=>{var u;const S=(0,i.A3)(),h=(0,P.H)(),{alternativeMutationLaunched:O,alternativeSearchId:I,alternativeItineraries:E}=(0,b.b)(),_=h&&!(h.includes("#results")||h.includes("#/results")),C=null===S||O||null!==I||!!_;(0,p.sc)(C,S,O,I,_);const A=(0,s.a)(d,{variables:{searchRequest:S},skip:C,notifyOnBackgroundFetching:!0}),{loading:R}=(0,p.l_)(a,o,S,A.data);(0,f.Z)(A);const j=(null===(u=A.data)||void 0===u||null===(u=u.itinerarySearch)||void 0===u?void 0:u.itineraries)||[],w=T(j,E);A.data&&(A.data.itinerarySearch.itineraries=w);const L=(0,g.r)({loading:A.loading||A.fetching,error:A.errors,data:A.data,extensions:A.extensions,hasCommercialCarriers:c},v.Kb,{}),{loading:F,data:$,error:M}=L,x=F||R||null===S||A.fetching||!M&&null===A.data,k=null==L?void 0:L.extensions;(0,y.rG)(A),(0,p.lm)($,x,A.errors),(0,p.Fv)($),(0,p.Q7)(x,l);const H=n.useMemo((()=>({loading:x,data:x?null:$,error:M,extensions:k})),[x,$,M,k]),Z={onNoSearchResults:e,onSearchParamsError:r};return n.createElement(n.Fragment,null,n.createElement(m.Z,{errors:A.errors,id:"SearchResponseProvider"}),n.createElement(D.Provider,{value:H},n.createElement(N.Provider,{value:Z},t)))};var h=t(598270);const O=({onNoSearchResults:e,onSearchParamsError:r,children:t,onSearchMapiError:a,onLoadingResultsPage:o})=>{var l;const c=(0,i.A3)(),{alternativeMutationLaunched:u,alternativeSearchId:S,alternativeItineraries:h}=(0,b.b)(),O=(0,P.H)(),I=null===c||u||null!==S||!(!O||O.includes("#results")||O.includes("#/results")),E=(0,s.a)(d,{variables:{searchRequest:c},skip:I,notifyOnBackgroundFetching:!0});(0,f.Z)(E);const _=(null===(l=E.data)||void 0===l||null===(l=l.itinerarySearch)||void 0===l?void 0:l.itineraries)||[],C=T(_,h);E.data&&(E.data.itinerarySearch.itineraries=C);const A=(0,g.r)({loading:E.loading,error:E.errors,data:E.data,extensions:E.extensions,hasCommercialCarriers:!1},v.Kb,{}),{loading:R,data:j,error:w}=A;(0,n.useEffect)((()=>{var e;j&&null!=c&&null!==(e=c.itinerary)&&void 0!==e&&e.externalSelection&&!j.search.externalSelection&&a()}),[j,a,c]);const L=R||null===c,F=null==A?void 0:A.extensions;(0,y.rG)(E),(0,p.lm)(j,L,E.errors),(0,p.Fv)(j),(0,p.Q7)(L,o);const $=n.useMemo((()=>({loading:L,data:L?null:j,error:w,extensions:F})),[L,j,w,F]),M={onNoSearchResults:e,onSearchParamsError:r};return n.createElement(n.Fragment,null,n.createElement(m.Z,{errors:E.errors,id:"SearchResponseProvider"}),n.createElement(D.Provider,{value:$},n.createElement(N.Provider,{value:M},t)))};var I=t(122501);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},E.apply(null,arguments)}const _={loading:!0,data:null,error:null,extensions:null},C={onNoSearchResults:()=>{},onSearchParamsError:()=>{}},T=(e,r)=>r&&0!==r.length?e.map((e=>{const t=r.find((r=>r.id===e.id));return t||e})):e,D=(0,n.createContext)(_),N=(0,n.createContext)(C),A=()=>(0,n.useContext)(D),R=()=>(0,n.useContext)(N),j=()=>{const{error:e,loading:r,data:t}=A();return e||r?null:null==t?void 0:t.search.defaultFeeType},w=()=>{const{error:e,loading:r,data:t}=A();return e||r?null:null==t?void 0:t.search.trackingInfo},L=()=>{const{loading:e,error:r,data:t}=A(),{alternativeSearchId:n}=(0,b.b)();return e||r?null:n||(null==t?void 0:t.search.searchId)||null},F=e=>{var r;const{loading:t,error:n,data:i}=A();return t||n?[]:(null==i||null===(r=i.search.campaignsItineraryLists)||void 0===r||null===(r=r.find((r=>r.campaignKey===e)))||void 0===r?void 0:r.campaignItineraryIds)||[]},$=()=>F("hotel-voucher"),M=()=>F("flight-of-the-day"),x=(0,a.T)({name:I.ni,variations:[S,O],LoadingComponent:()=>null,version:1}),k=(0,a.T)({name:I.d3,variations:[S,O],LoadingComponent:()=>null,version:1}),H=(0,a.T)({name:I.LR,variations:[S,e=>n.createElement(S,E({},e,{hasCommercialCarriers:!0}))],LoadingComponent:()=>null,version:1}),Z=(0,a.T)({name:I.GE,variations:[H,h.Z],LoadingComponent:()=>null,version:1}),U=e=>{var r;const{isMobile:t}=(0,o.pn)(),a=(0,i.A3)();return(null==a||null===(r=a.itinerary)||void 0===r?void 0:r.externalSelection)?t?n.createElement(x,e):n.createElement(k,e):n.createElement(Z,e)}},515065:(e,r,t)=>{"use strict";t.d(r,{Kb:()=>m,ux:()=>p,xn:()=>d});const n=["insuranceOffers","carbonFootprints","campaignConfigs","locations","carriers","priceTypeDisplayed","fees"],i=["campaignConfigId","carbonFootprintId"],a=["carrierId"],o=["departureId","destinationId","carrierId","operatingCarrierId","commercialBrandId","insuranceOfferId"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}const d=(e,r)=>e.reduce(((e,t)=>(e[t.id]=t[r],e)),{}),p=(e,r,t)=>e&&"4R"===r&&t?t:r,m=({data:e,hasCommercialCarriers:r=!1})=>{const{itinerarySearch:t}=e||{};if(!t)return null;const{insuranceOffers:s,carbonFootprints:c,campaignConfigs:m,locations:y,carriers:f,priceTypeDisplayed:g,fees:v}=t,b=u(t,n),P=l(l({},t),{},{fees:d(v||[],"type"),locations:d(y||[],"location"),carriers:d(f||[],"carrier"),insuranceOffers:d(s||[],"insuranceOffer"),carbonFootprints:d(c||[],"carbonFootprint"),campaignConfigs:d(m||[],"campaignConfig")});return{search:l(l({},b),{},{__typename:"SearchResponse",defaultFeeType:{id:g},itineraries:null==t?void 0:t.itineraries.map((e=>{var t;const{campaignConfigId:n,carbonFootprintId:s}=e,c=u(e,i);return l(l({},c),{},{__typename:"Itinerary",fees:c.fees.map((e=>{var r;return null!=P&&null!==(r=P.fees)&&void 0!==r&&r[e.type]?{price:e.price,type:P.fees[e.type]}:{price:e.price,type:{id:e.type}}})),campaignConfig:P.campaignConfigs[n],carbonFootprint:P.carbonFootprints[s],legs:null===(t=e.legs)||void 0===t?void 0:t.map((e=>l(l({},e),{},{__typename:"Leg",segments:e.segments.map((e=>{var t;const{carrierId:n}=e;let i;return l(l({},u(e,a)),{},{__typename:"Segment",sections:null===(t=e.sections)||void 0===t?void 0:t.map((e=>{const{departureId:t,destinationId:n,carrierId:a,operatingCarrierId:s,commercialBrandId:c,insuranceOfferId:d}=e,m=u(e,o);return i=c,l(l({},m),{},{__typename:"Section",insuranceOffer:null!=d?P.insuranceOffers[d]:null,departure:P.locations[t],destination:P.locations[n],carrier:P.carriers[p(r,a,c)],operatingCarrier:P.carriers[s],commercialBrand:P.carriers[c]})})),carrier:P.carriers[p(r,n,i)]})}))})))})}))})}}},229841:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l,aZ:()=>o,rG:()=>s});var n=t(878969),i=t(721138);const a=(0,n.createContext)({startSearch:()=>{},endSearch:()=>{}}),o=()=>(0,n.useContext)(a),s=e=>{const{endSearch:r}=o(),{end:t}=(0,i.ps)();(0,n.useEffect)((()=>{!e.data||e.loading||e.errors||(r(),t())}),[e.loading,e.errors,e.data,r,t])},l=({children:e,endSearchMetric:r,initialState:t=!1})=>{const[,i]=(0,n.useState)(t),o=(0,n.useMemo)((()=>({startSearch:()=>i(!0),endSearch:()=>{i((e=>(e&&(null==r||r()),!1)))}})),[r]);return n.createElement(a.Provider,{value:o},e)}},817557:(e,r,t)=>{"use strict";t.d(r,{RL:()=>s,au:()=>o,lJ:()=>l});var n=t(878969),i=t(9303);const a=(0,n.createContext)([null,()=>{}]),o=({children:e})=>{const r=(0,n.useState)(null),[t,o]=r,s=(0,i.o3)();return(0,n.useEffect)((()=>{s&&o(null)}),[s,o]),n.createElement(a.Provider,{value:r},e)},s=()=>(0,n.useContext)(a),l=()=>{const[e]=s();return(null==e?void 0:e.id)||null}},245051:(e,r,t)=>{"use strict";t.d(r,{Qv:()=>o,ZP:()=>l,oD:()=>s});var n=t(878969);const i=(0,n.createContext)(!1),a=(0,n.createContext)({open:()=>{},close:()=>{},apply:()=>{},set:e=>{}}),o=()=>(0,n.useContext)(i),s=()=>(0,n.useContext)(a),l=({children:e})=>{const[r,t]=(0,n.useState)(!1),o=(0,n.useMemo)((()=>({open:()=>t(!0),close:()=>t(!1),apply:()=>t(!1),set:t})),[t]);return n.createElement(i.Provider,{value:r},n.createElement(a.Provider,{value:o},e))}},776530:(e,r,t)=>{"use strict";t.d(r,{EZ:()=>O,ZP:()=>C,Zr:()=>I,_V:()=>_,nP:()=>E});var n=t(919451),i=t(878969),a=t(355917),o=t(816837),s=t(63963),l=t(330379),c=t(819238),u=t(728406),d=t(886394),p=t(277424),m=t(210213),y=t(609529),f=t(114305),g=t(97572),v=t(199592),b=t(539858);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const O=(e,r)=>{if(!r)return e;const t=((e,r)=>e.fees.find((({type:e})=>e.id===r)))(e,r);return S(S({},e),{},{price:t.price,feeType:t.type})},I=()=>{const e=(0,d.xK)(),{id:r}=e,t=(0,d.fY)(),{selectItineraryAndContinue:n}=(0,u.OE)(),i=(0,o.Z)(),a=(0,l.Z)(),s=(0,c.k)(),m=(0,f.xq)(),{open:y,setFeeType:P}=(0,f.dd)(),{requestAlternativeItinerary:h,hasAlternativeItineraryCarrier:I}=(0,g.M1)(),{setAlternativeFlight:E}=(0,v.Z)(),_=(0,p.hS)(),C=e.highlightedType!==b.w.Recommended&&_.includes(r);return(r={})=>{const o={originalItineraryId:null==e?void 0:e.id,selectedItinerary:e,selectedFeeType:r.feeTypeId};if(E(o),m&&I(e))P(r.feeTypeId),y(),h(e);else{const o=O(e,r.feeTypeId);n(e,S({feeTypeId:s.id},r)),i(C?e:o,t),a(o)}}},E=()=>{const e=(0,d.xK)(),{isDesktop:r}=(0,n.pn)(),{open:t=()=>{}}=(0,a.YU)()||{},u=(0,s.d)(),f=(0,o.Z)(),g=(0,c.k)(),v=(0,m.$5)(),b=(0,l.Z)(),P=(0,i.useContext)(y.u),h=(0,p.f9)(),I=(0,p.XV)(),E=(0,p.hS)().includes(null==e?void 0:e.id);return S({showItineraryTrip:r?e=>{t(),u({itinerary:e})}:(e,r,n={})=>{var i,a,o,s,l,c;const d=null!==(i=n.feeTypeId)&&void 0!==i?i:g.id,p=O(e,d),m=I.includes(e.id),y=(null==e||null===(a=e.campaignConfig)||void 0===a||null===(a=a.primeDayConfig)||void 0===a?void 0:a.isPrimeDayFare)&&(null==e||null===(o=e.campaignConfig)||void 0===o||null===(o=o.primeDayConfig)||void 0===o?void 0:o.primeDayFareType)&&"BRONZE"!==(null==e||null===(s=e.campaignConfig)||void 0===s||null===(s=s.primeDayConfig)||void 0===s?void 0:s.primeDayFareType),P=e.legs.reduce(((e,r)=>e.concat(r.segmentKeys)),[]),S={searchId:h,fareItineraryKey:e.key,segmentKeys:P,carbonFootprint:(null==e||null===(l=e.carbonFootprint)||void 0===l?void 0:l.ecoPercentageThanAverage)||0,feeTypeId:n.feeTypeId||(null==g||null===(c=g[0])||void 0===c?void 0:c.id),highlightOffer:!y&&m},_=btoa(JSON.stringify(S));t(_),u({itinerary:p,position:r}),v(d),E?f(e,r):f(p,r,m),b(p)}},P)},_=()=>{const e=(0,d.xK)(),r=(0,d.fY)(),{showItineraryTrip:t=()=>{}}=E();return{showItineraryTrip:(n={})=>t(e,r,n)}},C=({actions:e,children:r})=>i.createElement(y.u.Provider,{value:e},r)},609529:(e,r,t)=>{"use strict";t.d(r,{u:()=>n});const n=(0,t(878969).createContext)()},142088:(e,r,t)=>{"use strict";t.d(r,{Z:()=>_,f:()=>I});var n=t(878969),i=t(651013),a=t(911520),o=t(882766);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const c=e=>Math.floor(new Date(e).getTime()/864e5),u=e=>{let r=0;return e.length>1&&(r=c(e[1].departureDate)-c(e[0].arrivalDate)),r},d=(e,r,t)=>{const n=[];return"recommended"===e&&n.push("ODI_RATING"),r&&n.push("PERSONALIZED"),t&&t.isEco&&n.push("GREENER_CHOICE"),n},p=e=>r=>!e.includes(r),m=p([a.no,a.FV]),y=p([a.no,a.FV,a.Sq]),f=e=>({fareItineraryKey:r,flightNumbers:t,segmentIds:n,highlightedType:i,carbonFootprint:o},{feeTypeId:c,searchId:u,fare:p},{returningUserDeviceId:m},y)=>function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({fareItineraryKey:r,flightNumbers:t,priceWithoutDiscountSelected:e(c),membershipCouponApplied:c===a.FV,membershipExtraDiscount:{wasExtraDiscountAvailable:y,wasExtraDiscountSelected:c===a.FV},promotedItineraryTypes:d(i,m,o),extensions:g(c),searchId:u,segmentKeys:n},(e=>{if(!e)return null;const{name:r,price:t}=e;return{fareFamily:r,fareFamilyAmount:t.amount}})(p)),g=e=>e?[{name:"ESTIMATED_COLLECTION_METHOD",value:e}]:[],v=f(y),b=e=>(r,t,n,i=!1)=>{const a=((e,r)=>{const{highlightedType:t,campaignConfig:n,carbonFootprint:i={}}=e,a=(0,o.k)(r,e),{selectedSegments:s,segmentIds:l,flightNumbers:c,selectedCarriers:d}=e.legs.reduce(((e,{segments:r,segmentKeys:t})=>{const[n]=r;e.selectedSegments.push(n),e.segmentIds=e.segmentIds.concat(t);let i=n.sections.map((({flightCode:e})=>e)).join(",");return e.flightNumbers.push(`${t[0]},${i}`),e.selectedCarriers=e.selectedCarriers.concat(n.carriers.map((({id:e})=>e))),e}),{selectedSegments:[],segmentIds:[],flightNumbers:[],selectedCarriers:[]}),p={days:u(s),isOneWay:1===s.length},m=(({legs:e})=>{const r=e.flatMap((({segments:e})=>e)).flatMap((({transportTypes:e})=>e)),t=r.some((e=>"PLANE"===e)),n=r.some((e=>"TRAIN"===e));return t&&n?"xfaring":n?"train":"flight"})(e),y={hasAirlineCampaign:a};return n&&a&&(n.airlineCampaignConfig=y),{highlightedType:t,fareItineraryKey:e.id,flightNumbers:c,segmentIds:l,selectedCarriers:d,destinationSelected:`${s[0].destination.name}, ${s[0].destination.cityName}`,searchId:e.searchId,feeType:e.feeType,stayDays:p,productName:m,campaignConfig:n,carbonFootprint:i}})(r,n),s=e(a,t,n,i),{stayDays:l,destinationSelected:c,selectedCarriers:d,productName:p,campaignConfig:m}=a;return{info:{stayDetails:JSON.stringify(l),destinationSelected:c,selectedCarriers:JSON.stringify(d),productName:p,campaignConfig:JSON.stringify(m||{})},request:s}},P=b(f(m)),S=b(v);var h=t(122501);const O=(0,n.createContext)(),I=()=>(0,n.useContext)(O),E=e=>({children:r})=>n.createElement(O.Provider,{value:e},r),_=(0,i.T)({name:h.Lp,variations:[E(P),E(S)],version:1})},728406:(e,r,t)=>{"use strict";t.d(r,{OE:()=>S,rm:()=>P,ui:()=>b});var n=t(878969),i=t(919451),a=t(277424),o=t(150988),s=t(142088),l=t(819238),c=t(845172),u=t(210213),d=t(886394),p=t(609529),m=t(199592);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){g(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function g(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const v=e=>e.every((({segmentKeys:e})=>e&&e.length>0)),b=({isSem:e=!1})=>{const{selectItinerary:r}=(0,n.useContext)(p.u),{createShoppingBundle:t}=(0,c.aD)(),y=(0,u.Td)(),g=(0,d.xK)(),b=(0,o.Un)(),P=e?b:g,[S]=(0,l.k)(),{isMobile:h}=(0,i.pn)(),O=(0,a.f9)(),I=(0,o.qf)(),E=e?I:O,_=(0,a.vC)(),C=(0,o.HD)(),T=e?C:_,D=(0,s.f)(),N=null==S?void 0:S.id,{setAlternativeFlight:A}=(0,m.Z)();(0,n.useEffect)((()=>{if(E&&0!==E&&P&&P.legs&&v(P.legs)){const e={originalItineraryId:null==P?void 0:P.id,selectedItinerary:P};A(e);const n=y||N,i=D(P,{feeTypeId:n,searchId:E},T);h&&r(i),t(f(f({},i),{},{feeTypeId:n}))}}),[h,E,r,y,P,T,D,N,t,A])},P=({itinerary:e=null})=>{const{isDesktop:r}=(0,i.pn)(),{selectItinerary:t,prepareShoppingCart:o}=(0,n.useContext)(p.u),c=(0,u.Td)(),[d]=(0,l.k)(),m=(0,a.f9)(),y=(0,a.vC)(),g=(0,s.f)(),b=null==d?void 0:d.id;(0,n.useEffect)((()=>{if(r&&m&&0!==m&&e&&e.legs&&v(e.legs)){const r=c||b,n=g(e,{feeTypeId:r,searchId:m},y);t(n),o(f(f({},n),{},{feeTypeId:r}))}}),[r,m,t,o,c,null==e?void 0:e.id,y,g,b])},S=()=>{const{selectItineraryAndContinueToPassengers:e}=(0,n.useContext)(p.u)||{},{createShoppingBundle:r}=(0,c.aD)()||{},[t]=(0,l.k)(),i=(0,a.f9)(),o=(0,a.vC)(),u=null==t?void 0:t.id,d=(0,s.f)();return(0,n.useMemo)((()=>({selectItineraryAndContinue:(t,n)=>{const a=(null==n?void 0:n.feeTypeId)||u,s=d(t,f(f({},n),{},{feeTypeId:a,searchId:i}),o);r(f(f({},s),{},{feeTypeId:a})),e(s)}})),[e,o,i,d,u,r])}},833913:(e,r,t)=>{"use strict";t.d(r,{b:()=>s});var n=t(878969),i=t(776530),a=t(142088),o=t(845172);const s=({actions:e,children:r})=>n.createElement(a.Z,null,n.createElement(o.xT,null,n.createElement(i.ZP,{actions:e},r)))},816837:(e,r,t)=>{"use strict";t.d(r,{X:()=>F,Z:()=>U});var n=t(878969),i=t(590719),a=t(919451),o=t(904276),s=t(16961),l=t(9303),c=t(94345),u=t(667950),d=t(301989),p=t(296444),m=t(626567),y=t(523336),f=t(823388),g=t(277424),v=t(707656),b=t(344995),P=t(539858);const S="NA",h=e=>e?Math.round(e.price.amount):S,O=e=>e?e.priceSortingPosition:S,I={recommended:"o",withBaggage:"b",fastest:"f",cheapest:"c"},E={wallet:"1",priceFreeze:"2",fastest:"3",cheapest:"4",personalised:"5",genius:"6"},_=(e,r)=>`${r}po:${O(e)}-${r}pr:${h(e)}`,C=e=>{const r=O(e),t=h(e),n=(e=>"box:"+(I[e.highlightedType]||"0"))(e);return[`pos:${r}`,`pri:${t}`,n].join("-")},T=({recommended:e,cheapest:r,fastest:t,withBaggage:n})=>[_(e,"o"),_(r,"c"),_(t,"s"),_(n,"b")].join("_"),D=(e,r,t)=>["s",C(e),T(t),"filter:"+(r?1:0),"vp:0"],N=e=>{var r;return["prime-day-label",`click:${(null===(r=e.campaignConfig)||void 0===r||null===(r=r.primeDayConfig)||void 0===r?void 0:r.primeDayFareType).toLowerCase()}`,"pag:res"]},A=({recommended:e})=>e?e.price.amount:S,R=(e,r="",t,n,i,a)=>{let o=["sel",`p:${H(e)}`,`res:${e.priceSortingPosition}`,`tab:${t}`,`pos:${i+1}`,`prc:${e.price.amount}`,`rec:${A(n)}`,`type:${r.split("_").reduce(((e,r)=>e+r.charAt(0)),"")}`];return"MULTIPLE_DESTINATIONS"!==r&&(o=o.concat(x(e,r)),o=o.concat(k(a))),o=o.concat(`dis:${(0,y.fL)(e)}`),o},j=e=>{if(!e)return"so";return{down:"ch",up:"ex",equal:"eq"}[e]},w=e=>({recom:"recom",price:"cheap",duration:"fast"}[e]),L=({action:e,itinerary:r,position:t,tab:n,isFilterApplied:i})=>{var a,o;return[e,"click",`${"weekend-deals"===e?"wd":"hd"}pos:${t+1}`,"gd:"+(s=null===(a=r.dealInfo)||void 0===a?void 0:a.highlightedTypeOriginal,"recommended"===s?0:1),`pr:${j(null===(o=r.dealInfo)||void 0===o?void 0:o.trend)}`,`tab:${w(n)}`,"filt:"+(i?1:0),"pag:flres"];var s},F=()=>(0,u.Z)()>0,$=(e,r)=>e.legs.map((({segments:e})=>e[0])).reduce(((e,{sections:t},n)=>{const i=t.map((({flightCode:e})=>e)).join(",");return n?`${e}${"multipleTrip"===r?`_m${n}:`:"_r:"}${i}`:`${e}${i}`}),"d:"),M=(e,r)=>{const t=0===r?"da:":"ra:",n=new Set(e.carriers.map((e=>e.id)));return`${t}${Array.from(n).join("-")}`},x=(e,r)=>{let t=e.legs.map((({segments:e},r)=>M(e[0],r)));return"ONE_WAY"===r&&t.push("ra:".concat(S)),t},k=e=>{var r,t,n;const i=null===(r=e.itinerary)||void 0===r?void 0:r.segments;return`r:${null===(t=i[0])||void 0===t||null===(t=t.departure)||void 0===t?void 0:t.iata}-${null===(n=i[0])||void 0===n||null===(n=n.destination)||void 0===n?void 0:n.iata}`},H=({transportTypes:e})=>e.length>1?"xfaring":"PLANE"===e[0]?"flight":"train",Z=(e,r,t,n,i,a)=>["hotel-vouchers-select:"+(t?"1":"0"),`A:${e.legs.map((({segments:e},r)=>M(e[0],r)))}`,`TT:${n.split("_").reduce(((e,r)=>e+r.charAt(0)),"")}`,"PT:"+(a?"Y":"N"),`R:${k(i)}`,`R:${r+1}`].join("_"),U=()=>{const{trackPage:e,trackEvent:r,setCustomDimension:t}=(0,i.rS)(),u=F(),y=(0,l.o3)(),{data:S}=(0,s.cJ)(),h=(0,c.iy)(),{isMobile:O}=(0,a.pn)(),I=(0,m.ZP)(),{isPrimeUser:_=!1}=(0,o.j)()||{},{isDesktop:C}=(0,a.pn)(),T=(0,g.vC)(),{hasPersonalisedDecoration:A}=(0,v.J8)(),j=(0,g.hS)(),{trackFlightOfTheDay:w}=(0,b.s)("click"),M=y?y.tripType:"";return(0,n.useCallback)(((n,i,a)=>{var o;if(O&&(e("summary",{funnel:!0,customDimensions:{dimension61:$(n,M)}}),r({category:d.qu,action:"click-hotel-voucher",label:Z(n,i,a,M,y,_)}),j.includes(n.id)&&n.highlightedType!==P.w.Recommended&&w(n,i,!0)),A&&((e,r,t,n)=>{const{hasDecoration:i,decorationType:a}=(0,f.Z)(e,t,n);if(i){let e=a;"recommended"===a&&(e=null!=n&&n.returningUserDeviceId?"personalised":"genius");const t=["flight-label",`click:${E[e]||"0"}`,"box:NA","pag:res"];r({category:d.qu,action:"flight_labels",label:t.join("_")})}else r({category:d.qu,action:"flight_labels",label:"flight-label_click_0_box:NA_pag:res"})})(n,r,C,T),C&&j.includes(n.id)&&n.highlightedType!==P.w.Recommended&&w(n,i,!0),n.transportTypes&&r({category:d.qu,action:n.transportTypes.includes("TRAIN")?"trains_results":"searcher_flights",label:R(n,M,h,S,i,y).join("_")}),r({category:d.qu,action:"rec",label:D(n,u,S).join("_")}),null!==(o=n.campaignConfig)&&void 0!==o&&null!==(o=o.primeDayConfig)&&void 0!==o&&o.primeDayFareType&&r({category:d.qu,action:"prime_day",label:N(n).join("_")}),n.dealInfo){const e=I===m.BG?"weekend-deals":"hottest-deals";r({category:d.qu,action:e,label:L({action:e,itinerary:n,position:i,tab:h,isFilterApplied:u}).join("_")})}n.carbonFootprint&&t(p.mh,`${n.carbonFootprint.isEco}`)}),[O,A,r,M,h,S,y,u,e,_,C,T,I,t,j,w])}},707656:(e,r,t)=>{"use strict";t.d(r,{J8:()=>o,ZP:()=>l,fR:()=>s});var n=t(878969);const i=(0,n.createContext)({hasPersonalisedDecoration:!1}),a=(0,n.createContext)({enablePersonalisedDecoration:e=>{}}),o=()=>(0,n.useContext)(i),s=()=>(0,n.useContext)(a),l=({children:e})=>{const[r,t]=(0,n.useState)(!1),o=(0,n.useMemo)((()=>({enablePersonalisedDecoration:e=>t(e)})),[t]);return n.createElement(i.Provider,{value:{hasPersonalisedDecoration:r}},n.createElement(a.Provider,{value:o},e))}},301989:(e,r,t)=>{"use strict";t.d(r,{C7:()=>f,Hl:()=>y,Q6:()=>l,ZH:()=>g,eV:()=>s,lm:()=>d,nd:()=>u,pX:()=>o,qD:()=>a,qu:()=>c});var n=t(590719);const i="/BF/flights/results/",a="/BF/flights/summary/",o="/BF/flights/error/results_error_filtering_no_results_found/",s="/BF/flights/error/results_error_no_itineraries_results/",l="/BF/flights/error/results_error_validation_error/",c="flights_results",u="flights_summary",d="flights_results_inspirational",p={filters:"/BF/flights/flights-filter/",trip_summary:a},m=e=>p[e]||i,y=(0,n.Nq)({category:c,page:i,pageMapper:m}),f=(0,n.Nq)({category:u,page:a,pageMapper:m}),g=(0,n.Nq)({category:d,page:"/BF/flights/results/",pageMapper:m})},90588:(e,r,t)=>{"use strict";t.d(r,{Z:()=>k});var n=t(878969),i=t(9303),a=t(428556),o=t(16961),s=t(277424),l=t(229841),c=t(94345),u=t(872064),d=t(770865),p=t(428672),m=t(819238),y=t(355917),f=t(63963),g=t(301989);const v=t(343477).yf;const b=t(964866).C;var P=t(700041),S=t(971897),h=t(963710);const O=t(481855).P`
  query getAccommodationRecommendationsByIataCode(
    $accommodationRecommendationByIataCodeRequest: AccommodationRecommendationByIataCodeRequest!
  ) {
    getAccommodationRecommendationsByIataCode(
      accommodationRecommendationByIataCodeRequest: $accommodationRecommendationByIataCodeRequest
    ) {
      propertyMappingIds {
        id
      }
    }
  }
`;function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const _={loading:!1,data:null,errors:null},C=(0,n.createContext)(_),T=({hotels_search_id:e})=>function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach((function(r){E(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},e&&{hotels_search_id:e}),D=({children:e})=>{var r,t;const[a,o]=(0,n.useState)(),{itinerary:l}=(0,i.o3)()||{},c=null!==(r=null==l||null===(t=l.segments)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.destination)||void 0===t?void 0:t.cityIata)&&void 0!==r?r:"",{data:u}=(0,s.fI)(),{save:d}=(0,S.n)(),p=a===c||!u;(0,n.useEffect)((()=>{u&&c&&c!==a&&o(c)}),[c,u,a]);const m=(0,P.a)(O,{variables:{accommodationRecommendationByIataCodeRequest:{iataCode:c}},skip:p});(0,h.Z)(m);const{data:y}=m;return(0,n.useEffect)((()=>{if(y){var e;const r=null===(e=y.getAccommodationRecommendationsByIataCode.propertyMappingIds)||void 0===e?void 0:e.map((e=>e.id)).join(", ");d(T({hotels_search_id:r}))}}),[y,d]),n.createElement(C.Provider,{value:m},e)},N=D;var A=t(833913),R=t(540756);const j=t(55031).Z;var w=t(217985);const L=t(463606).Z;var F=t(707656),$=t(817557);const M=Function.prototype,x=()=>Promise.reject();function k({listenSearchRequestChanges:e,stopListenSearchRequestChanges:r,onSearchLoaded:t=M,onCreateMapiShoppingCart:P=x,onSearchMapiError:S=M,onFeeTypeChange:h=M,onDisplayedItinerariesChange:O=M,endSearchMetric:I=M,onNoSearchResults:E=M,onLoadingResultsPage:_=M,itinerarySelectionActions:C,itineraryFromUrl:T,children:D}){return n.createElement(g.Hl,null,n.createElement(F.ZP,null,n.createElement(l.ZP,{endSearchMetric:I},n.createElement(i.ZP,{listenSearchRequestChanges:e,stopListenSearchRequestChanges:r},n.createElement(v,null,n.createElement(b,null,n.createElement(m.Z,{onChange:h},n.createElement(L,null,n.createElement($.au,null,n.createElement(s.ZP,{onNoSearchResults:E,onCreateMapiShoppingCart:P,onSearchMapiError:S,onLoadingResultsPage:_},n.createElement(N,null,n.createElement(u.ZP,{onSearchLoaded:t},n.createElement(a.Z,null,n.createElement(d.ZP,null,n.createElement(c.BU,null,n.createElement(o.ZP,null,n.createElement(p.ZP,{onDisplayedItinerariesChange:O},n.createElement(j,null,n.createElement(w.ZP,null,n.createElement(y.ZP,null,n.createElement(A.b,{actions:C},n.createElement(f.Z,{itineraryFromUrl:T},n.createElement(R.ZP,null,D)))))))))))))))))))))))}},781850:(e,r,t)=>{"use strict";t.d(r,{h:()=>a});var n=t(481855);const i=n.P`
  fragment AirlineTrackingPositionInfo on TrackingPosition {
    crossFaring
    position
    itineraryId
  }
`,a=n.P`
  fragment AirlineTrackingInfo on AirlineTracking {
    carrier
    sortingPosition {
      ...AirlineTrackingPositionInfo
    }
    preBoostingPosition {
      ...AirlineTrackingPositionInfo
    }
  }
  ${i}
`},725398:(e,r,t)=>{"use strict";t.d(r,{h:()=>n});const n=t(481855).P`
  fragment FeeTypeInfo on FeeType {
    id
    name
    paymentMethod
  }
`},438974:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var n=t(481855),i=t(397196);const a=n.P`
  mutation ItinerarySearchAlternatives(
    $itinerarySearchAlternativesRequest: ItinerarySearchAlternativesRequest!
  ) {
    itinerarySearchAlternatives(
      itinerarySearchAlternativesRequest: $itinerarySearchAlternativesRequest
    ) {
      searchId
      itineraries {
        ...ItinerarySearchItineraryFragment
      }
      carbonFootprints {
        id
        carbonFootprint {
          isEco
          ecoPercentageThanAverage
          totalCo2Kilos
          totalCo2eKilos
        }
      }
      carriers {
        id
        carrier {
          id
          name
          supportUrl
        }
      }
      locations {
        id
        location {
          id
          iata
          cityIata
          cityName
          name
          countryName
          locationType
        }
      }
    }
  }
  ${i.v}
`},397196:(e,r,t)=>{"use strict";t.d(r,{v:()=>s});var n=t(481855),i=t(663868);const a=n.P`
  fragment SectionInfo on ItinerarySearchResultSection {
    id
    departureDate
    arrivalDate
    duration
    departureId
    destinationId
    carrierId
    operatingCarrierId
    commercialBrandId
    technicalStops {
      ...TechnicalStop
    }
    cabinClass
    flightCode
    departureTerminal
    arrivalTerminal
    vehicleModel
    transportType
    insuranceOfferId
  }

  ${i.h}
`,o=n.P`
  fragment SegmentInfo on ItinerarySearchResultSegment {
    id
    duration
    carrierId
    sections {
      ...SectionInfo
    }
    baggageCondition
    transportTypes
  }

  ${a}
`,s=n.P`
  fragment ItinerarySearchItineraryFragment on ItinerarySearchResult {
    id
    isFareUpgradeAvailable
    key
    hotelXSellingEnabled
    meRating
    fees {
      price {
        amount
        currency
      }
      type
    }
    ticketsLeft
    legs {
      segmentKeys
      segments {
        ...SegmentInfo
      }
    }
    transportTypes
    carbonFootprintId
    campaignConfigId
    perks {
      primeDiscount {
        amount
        currency
      }
      extraPrimeCoupon {
        amount
        currency
      }
      primeDiscountPerPassenger {
        amount
        currency
      }
      extraPrimeCouponPerPassenger {
        amount
        currency
      }
      alternativeItineraryDiscount {
        amount
        currency
      }
      alternativeItineraryDiscountPerPassenger {
        amount
        currency
      }
    }
  }

  ${o}
`},972664:(e,r,t)=>{"use strict";t.d(r,{h:()=>n});const n=t(481855).P`
  fragment SectionLocation on Location {
    id
    iata
    cityIata
    cityName
    name
    countryName
    locationType
  }
`},663868:(e,r,t)=>{"use strict";t.d(r,{h:()=>n});const n=t(481855).P`
  fragment TechnicalStop on TechnicalStop {
    location {
      id
      iata
      cityIata
      cityName
      name
      countryName
      locationType
    }
    arrivalDate
    departureDate
  }
`},417050:(e,r,t)=>{"use strict";t.d(r,{r:()=>n});const n=(e,r,t)=>{const{error:n,loading:i}=e;return n||i?{error:n,loading:i,data:null,extensions:e.extensions}:{loading:!1,error:null,data:r(e,t),extensions:e.extensions}}},562411:(e,r,t)=>{"use strict";t.d(r,{Z:()=>R,l:()=>j});var n=t(963332),i=t(318854);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const d=(e,r)=>c(c(c({},e),r?{terminal:r}:void 0),{},{id:r?e.id+"_"+r:e.id}),p=(e,r)=>c(c({},e),{},{type:r}),m=(e,{departure:r,destination:t,departureDate:n,arrivalDate:a,duration:o,id:s})=>c(c({},e),{},{id:s,departure:r,destination:t,departureDate:n,arrivalDate:a,duration:o||(0,i.Z)(a,n)});function y(e,r,t){var n,a;const s=[],l=[];let u=d(p(e.departure,t?"absolute":"connection"),e.departureTerminal),y=e.departureDate;null===(n=e.technicalStops)||void 0===n||n.forEach(((r,t)=>{l.push(m(e,{id:`${e.id}_${t}`,departure:u,departureDate:y,destination:d(p(r.location,"connection")),arrivalDate:r.arrivalDate})),s.push(function(e){const r=(0,i.Z)(e.departureDate,e.arrivalDate);return o(o({},e),{},{duration:r})}(r)),u=d(p(r.location,"connection")),y=r.departureDate}));const f=null!==(a=e.technicalStops)&&void 0!==a&&a.length?null:e.duration;return l.push(m(e,{id:`${e.id}_${s.length}`,departure:u,destination:d(p(e.destination,r?"absolute":"connection"),e.arrivalTerminal),departureDate:y,arrivalDate:e.arrivalDate,duration:f})),c(c({},e),{},{trips:l,technicalStops:s})}function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const b={PLANE:"airport",TRAIN:"station"},P=(e,r)=>e.departure.countryName!==r.departure.countryName,S=(e,r)=>e||"airport"===r||"station"===r,h=(e,r)=>{const{destination:t,arrivalDate:n,arrivalTerminal:a,carrier:o,insuranceOffer:s,transportType:l}=e,{departure:c,departureTerminal:u,departureDate:d,transportType:p}=r,m=((e,r)=>e!==r)(l,p),y=((e,r,t,n,i)=>e.id!==r.id?b[i]:t!==n?"terminal":"none")(t,c,a,u,p);return{duration:(0,i.Z)(d,n),transportType:p,transportTypeChange:m,locationChangeType:y,carrierChange:o.id!==r.carrier.id,insuranceOffer:s||{policy:"CARRIER_GUARANTEE",carrier:o},vinRestriction:{enabled:!!(P(e,r)&&s&&s.policy),country:c.countryName},selfTransfer:S(m,y),stopoverLocations:{origin:e.departure.countryName,destination:e.destination.countryName,isComingFromAnotherCountry:e.departure.countryName!==e.destination.countryName},changeCity:t.cityName}},O=3;function I(e){const{sections:r}=e,t=r.slice(0,-1).map(((e,t)=>{const n=r[t+1];return h(e,n)})),n=Array.from(r.reduce(((e,{carrier:r})=>e.set(r.id,r)),new Map).values()).slice(0,O),i=r[0],a=r[r.length-1];return g(g({},e),{},{carriers:n,departureDate:i.departureDate,arrivalDate:a.arrivalDate,departure:i.departure,destination:a.destination,sections:r.map(((e,t)=>y(e,t===r.length-1,0===t))),stops:t})}function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){C(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function C(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T(e){return _(_({},e),{},{segments:e.segments.map(I)})}function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){A(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function A(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function R(e,r,t){var n;const i=null===(n=e.legs)||void 0===n?void 0:n.map(T);return N(N({},e),{},{priceSortingPosition:r+1,legs:i,duration:L(i),hasCheckInBaggage:F(i),debugInfo:w(e,t)})}function j(e,r,t,i){const a=(0,n.a)(e,i);return N(N({},R(e,r,t)),{},{highlightedType:"metaSelection",price:null==a?void 0:a.price})}const w=(e,r)=>{var t;if(!function(e){var r,t;return!!e&&"debugInfo"in e&&"object"==typeof(null==e?void 0:e.debugInfo)&&!(null==e||!e.debugInfo)&&"qamode"in e.debugInfo&&void 0!==(null==e||null===(r=e.debugInfo)||void 0===r?void 0:r.qamode)&&"object"==typeof(null==e||null===(t=e.debugInfo)||void 0===t?void 0:t.qamode)}(r))return;const n=null==r||null===(t=r.debugInfo)||void 0===t?void 0:t.qamode;return n["me-rating"]?n["search-engine"][e.key]+"me-rating: "+n["me-rating"][e.id]:n["search-engine"][e.key]};function L(e){let r=0;return e.forEach((e=>r+=e.segments[0].duration)),r}function F(e){return e.every((({segments:e})=>e.every((({baggageCondition:e})=>"CHECKIN_INCLUDED"===e))))}},189631:(e,r,t)=>{"use strict";t.d(r,{Gu:()=>a,le:()=>i,rU:()=>o});var n=t(1917);const i=e=>!e,a=(e,r)=>{var t;return"primeDay"!==r||(null===(t=e.campaignConfig.primeDayConfig)||void 0===t?void 0:t.isPrimeDayFare)},o=e=>e>n.Z4.MIN&&e<n.Z4.MAX},357428:e=>{e.exports=[{name:"PPARK420_FASTTRACK_FUNNEL_DESKTOP",version:1},{name:"ppark-1873-fast-track-prime-pill",version:2}]}}]);
//# sourceMappingURL=668167.1c1d9f5e5e35fe28e419.js.map
